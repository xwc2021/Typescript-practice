(()=>{"use strict";const t=function(t,n){this.from=t,this.dir=n},n=function(){function t(t,n,e){this.x=0,this.y=0,this.z=0,this.x=t,this.y=n,this.z=e}return t.calculate_normal=function(n,e,i){var r=t.minus(e,n),s=t.minus(i,n);return t.cross(r,s).normalize()},t.calculate_center=function(t,n,e){return t.add(n).add(e).multiply(1/3)},t.uv=function(n,e){return new t(n,e,0)},t.reflect=function(n,e){var i=-2*t.dot(n,e);return e.multiply(i).add(n)},t.add=function(n,e){return new t(e.x+n.x,e.y+n.y,e.z+n.z)},t.minus=function(n,e){return new t(n.x-e.x,n.y-e.y,n.z-e.z)},t.multiply=function(n,e){return new t(n.x*e,n.y*e,n.z*e)},t.multiply3=function(n,e){return new t(n.x*e.x,n.y*e.y,n.z*e.z)},t.cross=function(n,e){return new t(n.y*e.z-n.z*e.y,-n.x*e.z+n.z*e.x,n.x*e.y-n.y*e.x)},t.dot=function(t,n){return t.x*n.x+t.y*n.y+t.z*n.z},t.equal=function(t,n){return o(t.x,n.x)&&o(t.y,n.y)&&o(t.z,n.z)},t.lerp=function(n,e,i){return new t(c(n.x,e.x,i),c(n.y,e.y,i),c(n.z,e.z,i))},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.normalize=function(){var t=this.length();return this.x=this.x/t,this.y=this.y/t,this.z=this.z/t,this},t.prototype.add=function(n){return t.add(this,n)},t.prototype.minus=function(n){return t.minus(this,n)},t.prototype.multiply=function(n){return t.multiply(this,n)},t.prototype.negative=function(){return t.multiply(this,-1)},t.prototype.clone=function(){return new t(this.x,this.y,this.z)},t.up=new t(0,1,0),t.zero=new t(0,0,0),t}(),e=function(){function t(t,n,e,i){this.xAxis=t,this.yAxis=n,this.zAxis=e,this.position=i}return t.transformPoint=function(t,n){var e=t.xAxis.multiply(n.x),i=t.yAxis.multiply(n.y),r=t.zAxis.multiply(n.z);return t.position.add(e).add(i).add(r)},t.transformVector=function(t,n){var e=t.xAxis.multiply(n.x),i=t.yAxis.multiply(n.y),r=t.zAxis.multiply(n.z);return e.add(i).add(r)},t.transformTransform=function(n,e){return new t(t.transformVector(n,e.xAxis),t.transformVector(n,e.yAxis),t.transformVector(n,e.zAxis),t.transformPoint(n,e.position))},t.rotateByZ=function(e){var i=s(e),r=Math.cos(i),o=Math.sin(i);return new t(new n(r,o,0),new n(-o,r,0),new n(0,0,1),n.zero)},t.rotateByY=function(e){var i=s(e),r=Math.cos(i),o=Math.sin(i),a=new n(o,0,r);return new t(new n(r,0,-o),new n(0,1,0),a,n.zero)},t.rotateByX=function(e){var i=s(e),r=Math.cos(i),o=Math.sin(i);return new t(new n(1,0,0),new n(0,r,o),new n(0,-o,r),new n(0,0,0))},t.offset=function(e,i,r){return new t(new n(1,0,0),new n(0,1,0),new n(0,0,1),new n(e,i,r))},t}(),i=function(){function t(t,n){this.C=t,this.N=n}return t.prototype.is_positive=function(t){var e=n.minus(t,this.C);return n.dot(e,this.N)>0},t.prototype.hit=function(n,e){var i=t.hit(n,this);return i.is_hit&&(i.s=e),i},t.hit=function(t,e){var i=t.from,r=t.dir,s=n.dot(r,e.N),a=n.dot(n.minus(e.C,i),e.N);if(o(s,0))return{is_hit:!1,hit_pos:null,t:-1};var c=a/s;return{is_hit:c>0,hit_pos:i.add(r.multiply(c)),i:r,t:c,normal:e.N}},t}(),r=function(){function t(t,n,e){this.v0=t,this.v1=n,this.v2=e}return t.MVP_backface_culling_clipping=function(i,r,s){var o=e.transformPoint(s,i.v0.p),a=e.transformPoint(s,i.v1.p),c=e.transformPoint(s,i.v2.p),h=r.toCameraSpace(o),u=r.toCameraSpace(a),l=r.toCameraSpace(c),p=r.toProjectionSpace(h),f=r.toProjectionSpace(u),y=r.toProjectionSpace(l),v=n.calculate_normal(h,u,l),w=n.minus(n.zero,n.calculate_center(h,u,l)).normalize();if(n.dot(v,w)<=0)return console.log("culling"),[];var d=i.v0.clone().update_p(p).update_w(h.z),m=i.v1.clone().update_p(f).update_w(u.z),x=i.v2.clone().update_p(y).update_w(l.z);return t.clip_in_Projection_Space(d,m,x,r)},t.clip=function(t,n,e,i,r){for(var s=[],o=0,a=t;o<a.length;o++)for(var c=0,u=h(a[o],n,e,i,r);c<u.length;c++){var l=u[c];s.push(l)}return s},t.clip_in_Projection_Space=function(e,r,s,o){var a=[new t(e,r,s)],c=t.clip(a,(function(t){return t.v0.p.z<o.Nc}),(function(t){return t.v1.p.z<o.Nc}),(function(t){return t.v2.p.z<o.Nc}),new i(new n(0,0,o.Nc),new n(0,0,-1)));return t.clip(c,(function(t){return t.v0.p.z>o.Fc}),(function(t){return t.v1.p.z>o.Fc}),(function(t){return t.v2.p.z>o.Fc}),new i(new n(0,0,o.Fc),new n(0,0,-1)))},t.process=function(n,e,i){for(var r=[],s=0,o=t.MVP_backface_culling_clipping(n,e,i);s<o.length;s++){var a=o[s],c=e.toNDC(a.v0.p,a.v0.w),h=e.toNDC(a.v1.p,a.v1.w),u=e.toNDC(a.v2.p,a.v2.w),l=e.toScreenSpace(c),p=e.toScreenSpace(h),f=e.toScreenSpace(u);r.push(l),r.push(p),r.push(f)}return r},t.prototype.process=function(n,e){this.v_s=t.process(this,n,e)},t.prototype.draw=function(t){if(null!=this.v_s)for(var n=this.v_s.length/3,e=1;e<=n;++e){var i=3*e-1;t.moveTo(this.v_s[i].x,this.v_s[i].y),t.lineTo(this.v_s[i-2].x,this.v_s[i-2].y),t.lineTo(this.v_s[i-1].x,this.v_s[i-1].y),t.lineTo(this.v_s[i].x,this.v_s[i].y)}},t}();function s(t){return Math.PI*t/180}function o(t,n){return Math.abs(t-n)<.001}function a(t,n){return t.map((function(t){return t.h.hit(n,t.s)})).filter((function(t){return t.is_hit})).sort((function(t,n){return t.t-n.t}))}function c(t,n,e){return t+e*(n-t)}function h(e,s,o,a,c){var h=[],l=function(e,r){var s=n.minus(r.p,e.p),o=new t(e.p,s),a=(i.hit(o,c).hit_pos.z-e.p.z)/s.z;return u.lerp(e,r,a)},p=function(t,n,e){h[0]=new r(t,l(t,n),l(t,e))},f=function(t,n,e){var i=l(e,t),s=l(t,n);h[0]=new r(e,i,s),h[1]=new r(e,s,n)};return s(e)?o(e)?a(e)||p(e.v2,e.v0,e.v1):a(e)?p(e.v1,e.v2,e.v0):f(e.v0,e.v1,e.v2):o(e)?a(e)?p(e.v0,e.v1,e.v2):f(e.v1,e.v2,e.v0):a(e)?f(e.v2,e.v0,e.v1):h[0]=e,h}const u=function(){function t(t,n,e,i,r){this.p=t,this.n=n,this.w=e,this.u=i,this.v=r}return t.build_vertex=function(n,e,i,r,s){return new t(n,e,i,r,s)},t.lerp=function(e,i,r){return new t(n.lerp(e.p,i.p,r),n.lerp(e.n,i.n,r),c(e.w,i.w,r),c(e.u,i.u,r),c(e.v,i.v,r))},t.prototype.clone=function(){return new t(this.p.clone(),this.n.clone(),this.w,this.u,this.v)},t.prototype.update_p=function(t){return this.p=t,this},t.prototype.update_w=function(t){return this.w=t,this},t}(),l=function(){function t(){this.triangles=[];var t=new n(0,0,-1);this.triangles.push(new r(new u(new n(-10,-10,-10),t,1,0,0),new u(new n(10,10,-10),t,1,1,1),new u(new n(10,-10,-10),t,1,1,0))),this.triangles.push(new r(new u(new n(-10,-10,-10),t,1,0,0),new u(new n(-10,10,-10),t,1,0,1),new u(new n(10,10,-10),t,1,1,1)));for(var i=[e.rotateByY(90),e.rotateByY(180),e.rotateByY(270),e.rotateByX(90),e.rotateByX(-90)],s=0;s<i.length;++s){var o=i[s],a=e.transformPoint(o,t);this.triangles.push(new r(u.build_vertex(e.transformPoint(o,new n(-10,-10,-10)),a,1,0,0),u.build_vertex(e.transformPoint(o,new n(10,10,-10)),a,1,1,1),u.build_vertex(e.transformPoint(o,new n(10,-10,-10)),a,1,1,0))),this.triangles.push(new r(u.build_vertex(e.transformPoint(o,new n(-10,-10,-10)),a,1,0,0),u.build_vertex(e.transformPoint(o,new n(-10,10,-10)),a,1,0,1),u.build_vertex(e.transformPoint(o,new n(10,10,-10)),a,1,1,1)))}}return t.prototype.update=function(t,n){this.triangles_after_clip=this.triangles;for(var e=0;e<this.triangles_after_clip.length;++e)this.triangles_after_clip[e].process(t,n)},t.prototype.draw=function(t){t.globalCompositeOperation="destination-over",t.strokeStyle="rgba(255,0,0,1)",t.beginPath();for(var n=0;n<this.triangles_after_clip.length;++n)this.triangles_after_clip[n].draw(t);t.stroke()},t}(),p=function(){function e(t){this.color=t}return e.prototype.shading=function(e,i,r,s){var o,c=e.normal,h=(0,(o=-n.dot(i,c))>1?1:o<0?0:o),u=function(n,e,i){var r=e.negative(),s=n.hit_pos.add(r.multiply(.001));return 0!=a(i,new t(s,r)).length?.45:1}(e,i,r);return this.color.multiply(h).multiply(u)},e.yellow=new e(new n(1,1,0)),e.red=new e(new n(1,0,0)),e.green=new e(new n(0,1,0)),e.blue=new e(new n(0,0,1)),e.gray=new e(new n(.5,.5,.5)),e.white=new e(new n(1,1,1)),e}(),f=function(){function e(t,e,i,r,s,o,a){this.moveEye=function(t,e){this.eye=n.add(this.eye,e.multiply(t))},this.ratio=r/s,this.screenW=r,this.screenH=s,this.screenCenterX=.5*this.screenW,this.screenCenterY=.5*this.screenH,this.halfW=.5*this.screenW,this.halfH=.5*this.screenH,this.z_axis=n.minus(e,t).normalize();var c=n.up;this.x_axis=n.cross(c,this.z_axis).normalize(),this.y_axis=n.cross(this.z_axis,this.x_axis),this.eye=t,this.fov_degree=i,this.N=o,this.F=a,this.a=a/(a-o),this.b=-o*a/(a-o),this.Nc=o*this.a+this.b,this.Fc=a*this.a+this.b,console.log(this.a,this.b),console.log(this.Nc,this.Fc)}return e.prototype.addPitch=function(t){},e.prototype.addYaw=function(t){},e.prototype.create_ray_dir=function(t,n,e){var i=s(.5*this.fov_degree),r=Math.tan(i),o=r*e;return this.z_axis.add(this.x_axis.multiply(t*o)).add(this.y_axis.multiply(n*r))},e.prototype.toCameraSpace=function(t){var e=t.minus(this.eye);return new n(n.dot(e,this.x_axis),n.dot(e,this.y_axis),n.dot(e,this.z_axis))},e.prototype.toProjectionSpace=function(t){var e=.5*s(this.fov_degree),i=1/Math.tan(e),r=1/(this.ratio*Math.tan(e));return new n(t.x*r,t.y*i,t.z*this.a+this.b)},e.prototype.toNDC=function(t,n){var e=1/n;return t.multiply(e)},e.prototype.toScreenSpace=function(t){var e=this.halfW*t.x+this.screenCenterX,i=-this.halfH*t.y+this.screenCenterY;return new n(e,i,t.z)},e.prototype.render=function(e,i){var r=this,s=new n(1,-1,0).normalize(),o=.5/e.h,c=[{x:0,y:0},{x:o,y:o},{x:-o,y:o},{x:-o,y:-o},{x:o,y:-o}];e.render_pixel((function(e,o,h){var u=r.create_ray_dir(e,o,h),l=c.map((function(n){var e=u.add(r.x_axis.multiply(n.x)).add(r.y_axis.multiply(n.y));return new t(r.eye,e.normalize())})).map((function(t){var n=a(i,t);if(0!=n.length){var e=n[0];return e.s.shading(e,s,i,1)}return p.gray.color})),f=c.length;return l.reduce((function(t,n){return t.add(n)}),n.zero).multiply(1/f)}))},e}();new(function(){function t(){var t=this;this.cameraIndex_view=1,this.cameraIndex_control=0,this.camera=null,this.screenWidth=800,this.screenHeight=600,this.box=null,window.onload=function(){t.init()},document.onkeydown=this.keyProc.bind(this)}return t.prototype.init=function(){var t=document.getElementById("canvas");t.style.width=this.screenWidth+"px",t.style.height=this.screenHeight+"px",t.width=t.clientWidth,t.height=t.clientHeight,this.ctx=t.getContext("2d"),this.box=new l,this.camera=new f(new n(0,50,-200),new n(0,0,0),60,this.screenWidth,this.screenHeight,100,500),this.start()},t.prototype.start=function(){var t=this;this.stop(),this.sum_t=0;var n=new Date;this.last_t=n.getTime(),this.thandle=window.setInterval((function(){t.drawScene()}),16)},t.prototype.resume=function(){var t=this,n=new Date;this.last_t=n.getTime(),this.thandle=window.setInterval((function(){t.drawScene()}),16)},t.prototype.stop=function(){window.clearInterval(this.thandle),this.thandle=null},t.prototype.drawScene=function(){var t=(new Date).getTime(),n=t-this.last_t;this.last_t=t,this.sum_t=this.sum_t+n,this.ctx.clearRect(0,0,this.screenWidth,this.screenHeight),this.ctx.beginPath(),this.ctx.fillStyle="rgba(180,30,15,0.1)",this.ctx.fillRect(0,0,this.screenWidth,this.screenHeight);var i=e.offset(0,0,0),r=this.sum_t/1e3*15%360,s=e.rotateByY(r),o=e.transformTransform(i,s);this.box.update(this.camera,o),this.box.draw(this.ctx)},t.prototype.keyProc=function(t){switch(t.keyCode){case 87:this.camera.moveEye(1,this.camera.z_axis);break;case 82:this.camera.moveEye(-1,this.camera.z_axis);break;case 69:this.camera.moveEye(1,this.camera.y_axis);break;case 68:this.camera.moveEye(-1,this.camera.y_axis);break;case 83:this.camera.moveEye(-1,this.camera.x_axis);break;case 70:this.camera.moveEye(1,this.camera.x_axis);break;case 38:this.camera.addPitch(.1);break;case 40:this.camera.addPitch(-.1);break;case 37:this.camera.addYaw(-.1);break;case 39:this.camera.addYaw(.1)}},t}())})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLElBQ25CLE1BQ0osS0FwQ1MsR0FxQ0x0TSxLQUFLZ0ssT0FBT3NDLE9BakNOLE1BcUN0QixFQTVJQSxLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1JheS50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVmVjdG9yLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9UcmFuc2Zvcm0udHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1BsYW5lLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9UcmlhbmdsZS50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVG9vbC50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVmVydGV4LnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9Cb3gzRC50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGVyYWlscy9EaWZmdXNlLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9DYW1lcmEudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9tYWluLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvUmFzdGVyaXplckFwcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVmVjb3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYXkge1xyXG4gICAgZnJvbTogVmVjb3I7XHJcbiAgICBkaXI6IFZlY29yO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGZyb206IFZlY29yLCBkaXI6IFZlY29yKSB7XHJcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcclxuICAgICAgICB0aGlzLmRpciA9IGRpcjtcclxuICAgIH1cclxufTsiLCJpbXBvcnQgeyBsZXJwLCBudW1iZXJfZXF1YWwgfSBmcm9tICcuL1Rvb2wnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZWN0b3Ige1xyXG5cclxuICAgIHN0YXRpYyBjYWxjdWxhdGVfbm9ybWFsKHYwOiBWZWN0b3IsIHYxOiBWZWN0b3IsIHYyOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgdjAxID0gVmVjdG9yLm1pbnVzKHYxLCB2MCk7XHJcbiAgICAgICAgbGV0IHYwMiA9IFZlY3Rvci5taW51cyh2MiwgdjApO1xyXG4gICAgICAgIGxldCBub3JtYWwgPSBWZWN0b3IuY3Jvc3ModjAxLCB2MDIpO1xyXG4gICAgICAgIHJldHVybiBub3JtYWwubm9ybWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNhbGN1bGF0ZV9jZW50ZXIodjA6IFZlY3RvciwgdjE6IFZlY3RvciwgdjI6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiB2MC5hZGQodjEpLmFkZCh2MikubXVsdGlwbHkoMSAvIDMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB1dih1OiBudW1iZXIsIHY6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHUsIHYsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB1cCA9IG5ldyBWZWN0b3IoMCwgMSwgMCk7XHJcbiAgICBzdGF0aWMgemVybyA9IG5ldyBWZWN0b3IoMCwgMCwgMCk7XHJcblxyXG4gICAgc3RhdGljIHJlZmxlY3QoSTogVmVjdG9yLCBOOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgTCA9IC0yICogVmVjdG9yLmRvdChJLCBOKVxyXG4gICAgICAgIHJldHVybiBOLm11bHRpcGx5KEwpLmFkZChJKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKEIueCArIEEueCwgQi55ICsgQS55LCBCLnogKyBBLnopO1xyXG4gICAgICAgIHJldHVybiB0ZW1wXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG1pbnVzKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKEEueCAtIEIueCwgQS55IC0gQi55LCBBLnogLSBCLnopO1xyXG4gICAgICAgIHJldHVybiB0ZW1wXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG11bHRpcGx5KEE6IFZlY3RvciwgczogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKEEueCAqIHMsIEEueSAqIHMsIEEueiAqIHMpO1xyXG4gICAgICAgIHJldHVybiB0ZW1wXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG11bHRpcGx5MyhBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKEEueCAqIEIueCwgQS55ICogQi55LCBBLnogKiBCLnopO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcm9zcyhBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCB0ZW1wID0gbmV3IFZlY3RvcihBLnkgKiBCLnogLSBBLnogKiBCLnksIC1BLnggKiBCLnogKyBBLnogKiBCLngsIEEueCAqIEIueSAtIEEueSAqIEIueCk7XHJcbiAgICAgICAgcmV0dXJuIHRlbXA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRvdChBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBBLnggKiBCLnggKyBBLnkgKiBCLnkgKyBBLnogKiBCLno7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGVxdWFsKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bWJlcl9lcXVhbChBLngsIEIueCkgJiYgbnVtYmVyX2VxdWFsKEEueSwgQi55KSAmJiBudW1iZXJfZXF1YWwoQS56LCBCLnopO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBsZXJwKEE6IFZlY3RvciwgQjogVmVjdG9yLCB0OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihcclxuICAgICAgICAgICAgbGVycChBLngsIEIueCwgdCksXHJcbiAgICAgICAgICAgIGxlcnAoQS55LCBCLnksIHQpLFxyXG4gICAgICAgICAgICBsZXJwKEEueiwgQi56LCB0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgeDogbnVtYmVyID0gMDtcclxuICAgIHk6IG51bWJlciA9IDA7XHJcbiAgICB6OiBudW1iZXIgPSAwO1xyXG4gICAgY29uc3RydWN0b3IocHg6IG51bWJlciwgcHk6IG51bWJlciwgcHo6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMueCA9IHB4O1xyXG4gICAgICAgIHRoaXMueSA9IHB5O1xyXG4gICAgICAgIHRoaXMueiA9IHB6O1xyXG4gICAgfVxyXG5cclxuICAgIGxlbmd0aCgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueik7XHJcbiAgICB9XHJcblxyXG4gICAgbm9ybWFsaXplKCkge1xyXG4gICAgICAgIGxldCB0ZW1wID0gdGhpcy5sZW5ndGgoKTtcclxuICAgICAgICB0aGlzLnggPSB0aGlzLnggLyB0ZW1wO1xyXG4gICAgICAgIHRoaXMueSA9IHRoaXMueSAvIHRlbXA7XHJcbiAgICAgICAgdGhpcy56ID0gdGhpcy56IC8gdGVtcDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBhZGQoQTogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5hZGQodGhpcywgQSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWludXMoQTogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5taW51cyh0aGlzLCBBKTtcclxuICAgIH1cclxuXHJcbiAgICBtdWx0aXBseShzOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLm11bHRpcGx5KHRoaXMsIHMpO1xyXG4gICAgfVxyXG5cclxuICAgIG5lZ2F0aXZlKCkge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IubXVsdGlwbHkodGhpcywgLTEpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCwgdGhpcy55LCB0aGlzLnopO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IHsgZGVncmVlX3RvX1JhZCB9IGZyb20gJy4vVG9vbCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zZm9ybSB7XHJcbiAgICB4QXhpczogVmVjdG9yO1xyXG4gICAgeUF4aXM6IFZlY3RvcjtcclxuICAgIHpBeGlzOiBWZWN0b3I7XHJcbiAgICBwb3NpdGlvbjogVmVjdG9yO1xyXG4gICAgY29uc3RydWN0b3IoeEF4aXM6IFZlY3RvciwgeUF4aXM6IFZlY3RvciwgekF4aXM6IFZlY3RvciwgcG9zaXRpb246IFZlY3Rvcikge1xyXG4gICAgICAgIHRoaXMueEF4aXMgPSB4QXhpcztcclxuICAgICAgICB0aGlzLnlBeGlzID0geUF4aXM7XHJcbiAgICAgICAgdGhpcy56QXhpcyA9IHpBeGlzO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdHJhbnNmb3JtUG9pbnQodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHBvaW50OiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgdmVjdG9yWCA9IHRyYW5zZm9ybS54QXhpcy5tdWx0aXBseShwb2ludC54KTtcclxuICAgICAgICBsZXQgdmVjdG9yWSA9IHRyYW5zZm9ybS55QXhpcy5tdWx0aXBseShwb2ludC55KTtcclxuICAgICAgICBsZXQgdmVjdG9yWiA9IHRyYW5zZm9ybS56QXhpcy5tdWx0aXBseShwb2ludC56KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybS5wb3NpdGlvbi5hZGQodmVjdG9yWCkuYWRkKHZlY3RvclkpLmFkZCh2ZWN0b3JaKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdHJhbnNmb3JtVmVjdG9yKHRyYW5zZm9ybTogVHJhbnNmb3JtLCB2ZXJ0ZXg6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCB2ZWN0b3JYID0gdHJhbnNmb3JtLnhBeGlzLm11bHRpcGx5KHZlcnRleC54KTtcclxuICAgICAgICBsZXQgdmVjdG9yWSA9IHRyYW5zZm9ybS55QXhpcy5tdWx0aXBseSh2ZXJ0ZXgueSk7XHJcbiAgICAgICAgbGV0IHZlY3RvclogPSB0cmFuc2Zvcm0uekF4aXMubXVsdGlwbHkodmVydGV4LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gdmVjdG9yWC5hZGQodmVjdG9yWSkuYWRkKHZlY3RvclopO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB0cmFuc2Zvcm1UcmFuc2Zvcm0odHJhbnNmb3JtOiBUcmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVZlY3Rvcih0cmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtLnhBeGlzKSxcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVZlY3Rvcih0cmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtLnlBeGlzKSxcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVZlY3Rvcih0cmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtLnpBeGlzKSxcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHRyYW5zZm9ybSwgaW5wdXRUcmFuc2Zvcm0ucG9zaXRpb24pLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJvdGF0ZUJ5WihkZWdyZWU6IG51bWJlcikge1xyXG4gICAgICAgIGxldCByYWRpYW4gPSBkZWdyZWVfdG9fUmFkKGRlZ3JlZSk7XHJcbiAgICAgICAgbGV0IGMgPSBNYXRoLmNvcyhyYWRpYW4pLCBzID0gTWF0aC5zaW4ocmFkaWFuKTtcclxuICAgICAgICBsZXQgeEF4aXMgPSBuZXcgVmVjdG9yKGMsIHMsIDApO1xyXG4gICAgICAgIGxldCB5QXhpcyA9IG5ldyBWZWN0b3IoLXMsIGMsIDApO1xyXG4gICAgICAgIGxldCB6QXhpcyA9IG5ldyBWZWN0b3IoMCwgMCwgMSk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtKFxyXG4gICAgICAgICAgICB4QXhpcyxcclxuICAgICAgICAgICAgeUF4aXMsXHJcbiAgICAgICAgICAgIHpBeGlzLFxyXG4gICAgICAgICAgICBWZWN0b3IuemVybyxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByb3RhdGVCeVkoZGVncmVlOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgcmFkaWFuID0gZGVncmVlX3RvX1JhZChkZWdyZWUpO1xyXG4gICAgICAgIGxldCBjID0gTWF0aC5jb3MocmFkaWFuKSwgcyA9IE1hdGguc2luKHJhZGlhbik7XHJcbiAgICAgICAgbGV0IHpBeGlzID0gbmV3IFZlY3RvcihzLCAwLCBjKTtcclxuICAgICAgICBsZXQgeEF4aXMgPSBuZXcgVmVjdG9yKGMsIDAsIC1zKTtcclxuICAgICAgICBsZXQgeUF4aXMgPSBuZXcgVmVjdG9yKDAsIDEsIDApO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgeEF4aXMsXHJcbiAgICAgICAgICAgIHlBeGlzLFxyXG4gICAgICAgICAgICB6QXhpcyxcclxuICAgICAgICAgICAgVmVjdG9yLnplcm8sXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcm90YXRlQnlYKGRlZ3JlZTogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHJhZGlhbiA9IGRlZ3JlZV90b19SYWQoZGVncmVlKTtcclxuICAgICAgICBsZXQgYyA9IE1hdGguY29zKHJhZGlhbiksIHMgPSBNYXRoLnNpbihyYWRpYW4pO1xyXG4gICAgICAgIGxldCB4QXhpcyA9IG5ldyBWZWN0b3IoMSwgMCwgMCk7XHJcbiAgICAgICAgbGV0IHlBeGlzID0gbmV3IFZlY3RvcigwLCBjLCBzKTtcclxuICAgICAgICBsZXQgekF4aXMgPSBuZXcgVmVjdG9yKDAsIC1zLCBjKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm0oXHJcbiAgICAgICAgICAgIHhBeGlzLFxyXG4gICAgICAgICAgICB5QXhpcyxcclxuICAgICAgICAgICAgekF4aXMsXHJcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoMCwgMCwgMCksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgb2Zmc2V0KHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigxLCAwLCAwKSxcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigwLCAxLCAwKSxcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigwLCAwLCAxKSxcclxuICAgICAgICAgICAgbmV3IFZlY3Rvcih4LCB5LCB6KSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG4iLCJpbXBvcnQgVmVjdG9yIGZyb20gJy4vVmVjdG9yJztcclxuaW1wb3J0IFJheSBmcm9tICcuL1JheSc7XHJcbmltcG9ydCB7IG51bWJlcl9lcXVhbCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBIaXRJbmZvIGZyb20gJy4vSGl0SW5mbyc7XHJcbmltcG9ydCBIaXRhYmxlIGZyb20gJy4vSGl0YWJsZSc7XHJcbmltcG9ydCBTaGFkZXIgZnJvbSAnLi4vTWF0ZXJhaWxzL1NoYWRlcic7XHJcblxyXG4vLyDlubPpnaJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxhbmUgaW1wbGVtZW50cyBIaXRhYmxlIHtcclxuXHJcbiAgICBDOiBWZWN0b3I7XHJcbiAgICBOOiBWZWN0b3I7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb2ludDogVmVjdG9yLCBub3JtYWw6IFZlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuQyA9IHBvaW50O1xyXG4gICAgICAgIHRoaXMuTiA9IG5vcm1hbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDmuKzoqaZ0ZXNwX3DlkozmlrnlkJHph4/mmK/kuI3mmK/lnKjlkIzkuIDpgopcclxuICAgIGlzX3Bvc2l0aXZlKHRlc3RfcDogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IGRpZmYgPSBWZWN0b3IubWludXModGVzdF9wLCB0aGlzLkMpO1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IFZlY3Rvci5kb3QoZGlmZiwgdGhpcy5OKTtcclxuICAgICAgICByZXR1cm4gdmFsdWUgPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGhpdChyYXk6IFJheSwgczogU2hhZGVyKTogSGl0SW5mbyB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFBsYW5lLmhpdChyYXksIHRoaXMpO1xyXG4gICAgICAgIGlmIChyZXN1bHQuaXNfaGl0KVxyXG4gICAgICAgICAgICByZXN1bHQucyA9IHM7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaGl0KHJheTogUmF5LCBwbGFuZTogUGxhbmUpOiBIaXRJbmZvIHtcclxuICAgICAgICAvLyByYXkgaGl0IHBsYW5lIFxyXG4gICAgICAgIGxldCBmcm9tID0gcmF5LmZyb207XHJcbiAgICAgICAgbGV0IGRpciA9IHJheS5kaXI7XHJcblxyXG4gICAgICAgIC8vIChGLUMp44CCTiArIHQgKETjgIJOKSA9IDBcclxuICAgICAgICAvLyB0ICA9IChDLUYp44CCTiAvIChE44CCTilcclxuICAgICAgICAvLyB0ICA9IChBIC8gKEIpXHJcbiAgICAgICAgbGV0IEIgPSBWZWN0b3IuZG90KGRpciwgcGxhbmUuTik7XHJcbiAgICAgICAgbGV0IEEgPSBWZWN0b3IuZG90KFZlY3Rvci5taW51cyhwbGFuZS5DLCBmcm9tKSwgcGxhbmUuTik7XHJcblxyXG4gICAgICAgIC8vIGF2b2lkIGRpdmlkZSBieSAwXHJcbiAgICAgICAgaWYgKG51bWJlcl9lcXVhbChCLCAwKSlcclxuICAgICAgICAgICAgcmV0dXJuIHsgaXNfaGl0OiBmYWxzZSwgaGl0X3BvczogbnVsbCwgdDogLTEgfTtcclxuXHJcbiAgICAgICAgbGV0IHQgPSBBIC8gQjtcclxuICAgICAgICBsZXQgaXNfaGl0ID0gdCA+IDAuMDtcclxuICAgICAgICBsZXQgaGl0X3BvcyA9IGZyb20uYWRkKGRpci5tdWx0aXBseSh0KSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaXNfaGl0LFxyXG4gICAgICAgICAgICBoaXRfcG9zLFxyXG4gICAgICAgICAgICBpOiBkaXIsXHJcbiAgICAgICAgICAgIHQsXHJcbiAgICAgICAgICAgIG5vcm1hbDogcGxhbmUuTlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBUcmFuc2Zvcm0gZnJvbSAnLi9UcmFuc2Zvcm0nO1xyXG5pbXBvcnQgVmVjdG9yIGZyb20gJy4vVmVjdG9yJ1xyXG5pbXBvcnQgVmVydGV4IGZyb20gJy4vVmVydGV4J1xyXG5pbXBvcnQgeyBjbGlwIH0gZnJvbSAnLi9Ub29sJztcclxuaW1wb3J0IENhbWVyYSBmcm9tICcuL0NhbWVyYSc7XHJcbmltcG9ydCBQbGFuZSBmcm9tICcuL1BsYW5lJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyaWFuZ2xlIHtcclxuXHJcbiAgICBzdGF0aWMgTVZQX2JhY2tmYWNlX2N1bGxpbmdfY2xpcHBpbmcodHJpYW5nbGU6IFRyaWFuZ2xlLCBwY2FtZXJhOiBDYW1lcmEsIHdvcmxkVHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcclxuICAgICAgICAvLyB0byB3b3JsZCBzcGFjZVxyXG4gICAgICAgIGxldCB2MF93ID0gVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHdvcmxkVHJhbnNmb3JtLCB0cmlhbmdsZS52MC5wKTtcclxuICAgICAgICBsZXQgdjFfdyA9IFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludCh3b3JsZFRyYW5zZm9ybSwgdHJpYW5nbGUudjEucCk7XHJcbiAgICAgICAgbGV0IHYyX3cgPSBUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQod29ybGRUcmFuc2Zvcm0sIHRyaWFuZ2xlLnYyLnApO1xyXG5cclxuICAgICAgICAvLyB0byBjYW1lcmEgc3BhY2VcclxuICAgICAgICBsZXQgdjBfYyA9IHBjYW1lcmEudG9DYW1lcmFTcGFjZSh2MF93KTtcclxuICAgICAgICBsZXQgdjFfYyA9IHBjYW1lcmEudG9DYW1lcmFTcGFjZSh2MV93KTtcclxuICAgICAgICBsZXQgdjJfYyA9IHBjYW1lcmEudG9DYW1lcmFTcGFjZSh2Ml93KTtcclxuXHJcbiAgICAgICAgbGV0IHYwX3AgPSBwY2FtZXJhLnRvUHJvamVjdGlvblNwYWNlKHYwX2MpO1xyXG4gICAgICAgIGxldCB2MV9wID0gcGNhbWVyYS50b1Byb2plY3Rpb25TcGFjZSh2MV9jKTtcclxuICAgICAgICBsZXQgdjJfcCA9IHBjYW1lcmEudG9Qcm9qZWN0aW9uU3BhY2UodjJfYyk7XHJcblxyXG4gICAgICAgIC8vIGJhY2sgZmFjZSBjdWxsaW5nIFxyXG4gICAgICAgIC8vIOWcqHZpZXcgc3BhY2XlgZrvvIzkuI3nhLblnKhjbGlwIHNwYWNl5YGa77yM6YKE6KaB5oqKeueUqHflj5bku6PmjonvvIzmnInpu57mkJ7lt6VcclxuICAgICAgICBsZXQgbm9ybWFsID0gVmVjdG9yLmNhbGN1bGF0ZV9ub3JtYWwodjBfYywgdjFfYywgdjJfYyk7XHJcbiAgICAgICAgbGV0IGNlbnRlcl90b19leWUgPSBWZWN0b3IubWludXMoVmVjdG9yLnplcm8sIFZlY3Rvci5jYWxjdWxhdGVfY2VudGVyKHYwX2MsIHYxX2MsIHYyX2MpKS5ub3JtYWxpemUoKTtcclxuICAgICAgICBsZXQgY29zX3ZhbHVlID0gVmVjdG9yLmRvdChub3JtYWwsIGNlbnRlcl90b19leWUpOztcclxuICAgICAgICBpZiAoY29zX3ZhbHVlIDw9IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2N1bGxpbmcnKVxyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDph43mlrDntoHlrpp1dlxyXG4gICAgICAgIGxldCB2MCA9IHRyaWFuZ2xlLnYwLmNsb25lKCkudXBkYXRlX3AodjBfcCkudXBkYXRlX3codjBfYy56KTtcclxuICAgICAgICBsZXQgdjEgPSB0cmlhbmdsZS52MS5jbG9uZSgpLnVwZGF0ZV9wKHYxX3ApLnVwZGF0ZV93KHYxX2Mueik7XHJcbiAgICAgICAgbGV0IHYyID0gdHJpYW5nbGUudjIuY2xvbmUoKS51cGRhdGVfcCh2Ml9wKS51cGRhdGVfdyh2Ml9jLnopO1xyXG5cclxuICAgICAgICAvLyDln7fooYzkuInop5LlvaLoo4HliIdcclxuXHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHYwLnAueik7XHJcbiAgICAgICAgcmV0dXJuIFRyaWFuZ2xlLmNsaXBfaW5fUHJvamVjdGlvbl9TcGFjZSh2MCwgdjEsIHYyLCBwY2FtZXJhKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xpcChpbl9saXN0OiBUcmlhbmdsZVtdLFxyXG4gICAgICAgIHYwX291dDogKHRyaWFuZ2xlOiBUcmlhbmdsZSkgPT4gYm9vbGVhbixcclxuICAgICAgICB2MV9vdXQ6ICh0cmlhbmdsZTogVHJpYW5nbGUpID0+IGJvb2xlYW4sXHJcbiAgICAgICAgdjJfb3V0OiAodHJpYW5nbGU6IFRyaWFuZ2xlKSA9PiBib29sZWFuLFxyXG4gICAgICAgIHBsYW5lOiBQbGFuZSkge1xyXG5cclxuICAgICAgICBsZXQgb3V0X2xpc3Q6IFRyaWFuZ2xlW10gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBUIG9mIGluX2xpc3QpIHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGNsaXAoVCwgdjBfb3V0LCB2MV9vdXQsIHYyX291dCwgcGxhbmUpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCB0IG9mIHJlc3VsdClcclxuICAgICAgICAgICAgICAgIG91dF9saXN0LnB1c2godCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRfbGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xpcF9pbl9Qcm9qZWN0aW9uX1NwYWNlKHYwOiBWZXJ0ZXgsIHYxOiBWZXJ0ZXgsIHYyOiBWZXJ0ZXgsIHBjYW1lcmE6IENhbWVyYSkge1xyXG4gICAgICAgIC8vIFRvZG865Z+36KGMNuWAi+W5s+mdoueahOS4ieinkuW9ouijgeWIh1xyXG4gICAgICAgIC8vIOWSjHnou7jlpL40NeW6pueahDLlgIvlubPpnaLjgIHlkox46Lu45aS+NDXluqbnmoQy5YCL5bmz6Z2i44CB6YKE5pyJTmPlkoxGY1xyXG4gICAgICAgIC8vIGh0dHBzOi8vZ3Bubm90ZXMuYmxvZ3Nwb3QuY29tLzIwMjEvMTEvYmxvZy1wb3N0XzI4Lmh0bWxcclxuXHJcblxyXG4gICAgICAgIGxldCBpbl9saXN0ID0gW25ldyBUcmlhbmdsZSh2MCwgdjEsIHYyKV07XHJcblxyXG4gICAgICAgIC8vIHRlc3RcclxuXHJcbiAgICAgICAgLy8gbGV0IG91dF9saXN0ID0gVHJpYW5nbGUuY2xpcChpbl9saXN0LFxyXG4gICAgICAgIC8vICAgICAoVDogVHJpYW5nbGUpID0+IHsgcmV0dXJuIFQudjAucC56IDwgNTA7IH0sXHJcbiAgICAgICAgLy8gICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gVC52MS5wLnogPCA1MDsgfSxcclxuICAgICAgICAvLyAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYyLnAueiA8IDUwOyB9LFxyXG4gICAgICAgIC8vICAgICBuZXcgUGxhbmUobmV3IFZlY3RvcigwLCAwLCA1MCksIG5ldyBWZWN0b3IoMCwgMCwgLTEpKSk7XHJcblxyXG4gICAgICAgIC8vIG91dF9saXN0ID0gVHJpYW5nbGUuY2xpcChvdXRfbGlzdCxcclxuICAgICAgICAvLyAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYwLnAueiA+IDYwOyB9LFxyXG4gICAgICAgIC8vICAgICAoVDogVHJpYW5nbGUpID0+IHsgcmV0dXJuIFQudjEucC56ID4gNjA7IH0sXHJcbiAgICAgICAgLy8gICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gVC52Mi5wLnogPiA2MDsgfSxcclxuICAgICAgICAvLyAgICAgbmV3IFBsYW5lKG5ldyBWZWN0b3IoMCwgMCwgNjApLCBuZXcgVmVjdG9yKDAsIDAsIC0xKSkpO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IG91dF9saXN0ID0gVHJpYW5nbGUuY2xpcChpbl9saXN0LFxyXG4gICAgICAgICAgICAoVDogVHJpYW5nbGUpID0+IHsgcmV0dXJuIFQudjAucC56IDwgcGNhbWVyYS5OYzsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYxLnAueiA8IHBjYW1lcmEuTmM7IH0sXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gVC52Mi5wLnogPCBwY2FtZXJhLk5jOyB9LFxyXG4gICAgICAgICAgICBuZXcgUGxhbmUobmV3IFZlY3RvcigwLCAwLCBwY2FtZXJhLk5jKSwgbmV3IFZlY3RvcigwLCAwLCAtMSkpKTtcclxuXHJcbiAgICAgICAgb3V0X2xpc3QgPSBUcmlhbmdsZS5jbGlwKG91dF9saXN0LFxyXG4gICAgICAgICAgICAoVDogVHJpYW5nbGUpID0+IHsgcmV0dXJuIFQudjAucC56ID4gcGNhbWVyYS5GYzsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYxLnAueiA+IHBjYW1lcmEuRmM7IH0sXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gVC52Mi5wLnogPiBwY2FtZXJhLkZjOyB9LFxyXG4gICAgICAgICAgICBuZXcgUGxhbmUobmV3IFZlY3RvcigwLCAwLCBwY2FtZXJhLkZjKSwgbmV3IFZlY3RvcigwLCAwLCAtMSkpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG91dF9saXN0O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBwcm9jZXNzKHRyaWFuZ2xlOiBUcmlhbmdsZSwgcGNhbWVyYTogQ2FtZXJhLCB3b3JsZFRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XHJcblxyXG4gICAgICAgIC8vIHRvIE1WUFxyXG4gICAgICAgIGxldCB0cmlhbmdsZV9saXN0ID0gVHJpYW5nbGUuTVZQX2JhY2tmYWNlX2N1bGxpbmdfY2xpcHBpbmcodHJpYW5nbGUsIHBjYW1lcmEsIHdvcmxkVHJhbnNmb3JtKTtcclxuXHJcbiAgICAgICAgbGV0IGxpc3QgPSBbXTtcclxuICAgICAgICAvLyB0byBORENcclxuICAgICAgICBmb3IgKGxldCBUIG9mIHRyaWFuZ2xlX2xpc3QpIHtcclxuICAgICAgICAgICAgbGV0IHYwID0gcGNhbWVyYS50b05EQyhULnYwLnAsIFQudjAudyk7XHJcbiAgICAgICAgICAgIGxldCB2MSA9IHBjYW1lcmEudG9OREMoVC52MS5wLCBULnYxLncpO1xyXG4gICAgICAgICAgICBsZXQgdjIgPSBwY2FtZXJhLnRvTkRDKFQudjIucCwgVC52Mi53KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRvIHNjcmVlbiBzcGFjZVxyXG4gICAgICAgICAgICBsZXQgdjBfcyA9IHBjYW1lcmEudG9TY3JlZW5TcGFjZSh2MCk7XHJcbiAgICAgICAgICAgIGxldCB2MV9zID0gcGNhbWVyYS50b1NjcmVlblNwYWNlKHYxKTtcclxuICAgICAgICAgICAgbGV0IHYyX3MgPSBwY2FtZXJhLnRvU2NyZWVuU3BhY2UodjIpO1xyXG5cclxuICAgICAgICAgICAgLy8g54K65LqG5ZKM5pys5L6G55qEY29kZeebuOWuue+8jOaaq+aZguWFiOWCs+WHuuWOu1xyXG4gICAgICAgICAgICBsaXN0LnB1c2godjBfcyk7XHJcbiAgICAgICAgICAgIGxpc3QucHVzaCh2MV9zKTtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKHYyX3MpO1xyXG5cclxuICAgICAgICAgICAgLy8g5om+5Ye65YyF5ZyN55qE55+p5b2iXHJcblxyXG4gICAgICAgICAgICAvLyDlsI3nn6nlvaLoo6HnmoTmr4/lgIvpu55wXHJcbiAgICAgICAgICAgIC8vIOWIpOWumuaYr+WQpuS9jeWcqHNjcmVlbiBzcGFjZeS4ieinkuW9olxyXG4gICAgICAgICAgICAvLyBpZiB5ZXMgXHJcbiAgICAgICAgICAgIC8vICgxKemHjeaWsOaKium7nnDmmKDlsITliLBOREMsXHJcbiAgICAgICAgICAgIC8vICgyKeWcqE5EQ+mAsuihjOWFp+aPku+8jOS5mOS4inflm57liLBwcm9qZWN0aW9uIHNwYWNlXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ3Bubm90ZXMuYmxvZ3Nwb3QuY29tLzIwMjEvMTEvYmxvZy1wb3N0XzI3Lmh0bWxcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgfVxyXG5cclxuICAgIHYwOiBWZXJ0ZXg7XHJcbiAgICB2MTogVmVydGV4O1xyXG4gICAgdjI6IFZlcnRleDtcclxuICAgIGNvbnN0cnVjdG9yKHB2MDogVmVydGV4LCBwdjE6IFZlcnRleCwgcHYyOiBWZXJ0ZXgpIHtcclxuICAgICAgICB0aGlzLnYwID0gcHYwO1xyXG4gICAgICAgIHRoaXMudjEgPSBwdjE7XHJcbiAgICAgICAgdGhpcy52MiA9IHB2MjtcclxuICAgIH1cclxuXHJcbiAgICB2X3M6IFZlY3RvcltdO1xyXG4gICAgcHJvY2VzcyhwY2FtZXJhOiBDYW1lcmEsIHdvcmxkVHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcclxuICAgICAgICB0aGlzLnZfcyA9IFRyaWFuZ2xlLnByb2Nlc3ModGhpcywgcGNhbWVyYSwgd29ybGRUcmFuc2Zvcm0pO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBpZiAodGhpcy52X3MgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgdENvdW50ID0gdGhpcy52X3MubGVuZ3RoIC8gMztcclxuICAgICAgICBmb3IgKGxldCBjID0gMTsgYyA8PSB0Q291bnQ7ICsrYykge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSAzICogYyAtIDE7XHJcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8odGhpcy52X3NbaW5kZXhdLngsIHRoaXMudl9zW2luZGV4XS55KTtcclxuICAgICAgICAgICAgY3R4LmxpbmVUbyh0aGlzLnZfc1tpbmRleCAtIDJdLngsIHRoaXMudl9zW2luZGV4IC0gMl0ueSk7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8odGhpcy52X3NbaW5kZXggLSAxXS54LCB0aGlzLnZfc1tpbmRleCAtIDFdLnkpO1xyXG4gICAgICAgICAgICBjdHgubGluZVRvKHRoaXMudl9zW2luZGV4XS54LCB0aGlzLnZfc1tpbmRleF0ueSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgU2NlbmVOb2RlIGZyb20gXCIuLi9PYmplY3QvU2NlbmVOb2RlXCI7XHJcbmltcG9ydCBSYXkgZnJvbSBcIi4vUmF5XCI7XHJcbmltcG9ydCBIaXRJbmZvIGZyb20gXCIuL0hpdEluZm9cIjtcclxuaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IFRyaWFuZ2xlIGZyb20gXCIuL1RyaWFuZ2xlXCI7XHJcbmltcG9ydCBWZXJ0ZXggZnJvbSBcIi4vVmVydGV4XCI7XHJcbmltcG9ydCBQbGFuZSBmcm9tIFwiLi9QbGFuZVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlZ3JlZV90b19SYWQoZDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5QSSAqIGQgLyAxODA7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZXBzaWxvbjogbnVtYmVyID0gMC4wMDE7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyX2VxdWFsKGE6IG51bWJlciwgYjogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDwgZXBzaWxvbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0geCBpbnB1dFxyXG4gKiBAcGFyYW0gYSBtaW4gXHJcbiAqIEBwYXJhbSBiIG1heFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHg6IG51bWJlciwgYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcclxuICAgIGlmICh4ID4gYilcclxuICAgICAgICByZXR1cm4gYjtcclxuICAgIGVsc2UgaWYgKHggPCBhKVxyXG4gICAgICAgIHJldHVybiBhO1xyXG4gICAgZWxzZVxyXG4gICAgICAgIHJldHVybiB4O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2hpdF9zb3J0X2xpc3Qob2JqX2xpc3Q6IFNjZW5lTm9kZVtdLCByYXk6IFJheSkge1xyXG4gICAgbGV0IGhpdF9zb3J0X2xpc3QgPSBvYmpfbGlzdC5tYXAob2JqID0+IG9iai5oLmhpdChyYXksIG9iai5zKSlcclxuICAgICAgICAuZmlsdGVyKGluZm8gPT4gaW5mby5pc19oaXQpXHJcbiAgICAgICAgLnNvcnQoKGE6IEhpdEluZm8sIGI6IEhpdEluZm8pID0+IGEudCAtIGIudCk7XHJcblxyXG4gICAgcmV0dXJuIGhpdF9zb3J0X2xpc3Q7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRfc2hhZG93X3dlaWdodChoaXRfaW5mbzogSGl0SW5mbywgZGlyZWN0aW9uX2xpZ2h0X2RpcjogVmVjdG9yLCBvYmpfbGlzdDogU2NlbmVOb2RlW10pIHtcclxuXHJcbiAgICAvLyDmmK/lkKblnKjlvbHlrZDlhadcclxuICAgIGxldCBkaXIgPSBkaXJlY3Rpb25fbGlnaHRfZGlyLm5lZ2F0aXZlKCk7XHJcbiAgICBsZXQgZnJvbSA9IGhpdF9pbmZvLmhpdF9wb3MuYWRkKGRpci5tdWx0aXBseShlcHNpbG9uKSk7IC8vIOWBj+enu+S4gOWwj+autei3nembou+8jOmBv+WFjeWwhOS4reiHquW3sVxyXG4gICAgbGV0IHJheSA9IG5ldyBSYXkoZnJvbSwgZGlyKTtcclxuICAgIGxldCBoaXRfc29ydF9saXN0ID0gZ2V0X2hpdF9zb3J0X2xpc3Qob2JqX2xpc3QsIHJheSk7XHJcbiAgICBpZiAoaGl0X3NvcnRfbGlzdC5sZW5ndGggIT0gMCkgeyAvLyDlnKjlvbHlrZDlhadcclxuICAgICAgICByZXR1cm4gMC40NTsgLy8g5LiN6KaB5aSq6buRXHJcbiAgICB9IGVsc2VcclxuICAgICAgICByZXR1cm4gMTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoYTogbnVtYmVyLCBiOiBudW1iZXIsIHQ6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIGEgKyB0ICogKGIgLSBhKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsaXAodHJpYW5nbGU6IFRyaWFuZ2xlLFxyXG4gICAgdjBfb3V0OiAodHJpYW5nbGU6IFRyaWFuZ2xlKSA9PiBib29sZWFuLFxyXG4gICAgdjFfb3V0OiAodHJpYW5nbGU6IFRyaWFuZ2xlKSA9PiBib29sZWFuLFxyXG4gICAgdjJfb3V0OiAodHJpYW5nbGU6IFRyaWFuZ2xlKSA9PiBib29sZWFuLFxyXG4gICAgcGxhbmU6IFBsYW5lKSB7XHJcblxyXG4gICAgbGV0IHZfY2xpcDogVHJpYW5nbGVbXSA9IFtdO1xyXG5cclxuICAgIGxldCBnZXRDcm9zc1BvaW50ID0gZnVuY3Rpb24gKHYwOiBWZXJ0ZXgsIHYxOiBWZXJ0ZXgpIHtcclxuICAgICAgICBsZXQgZGlyID0gVmVjdG9yLm1pbnVzKHYxLnAsIHYwLnApO1xyXG4gICAgICAgIGxldCByYXkgPSBuZXcgUmF5KHYwLnAsIGRpcik7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFBsYW5lLmhpdChyYXksIHBsYW5lKTtcclxuICAgICAgICBsZXQgdCA9IChyZXN1bHQuaGl0X3Bvcy56IC0gdjAucC56KSAvIChkaXIueik7XHJcbiAgICAgICAgcmV0dXJuIFZlcnRleC5sZXJwKHYwLCB2MSwgdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdm8gaW4gXHJcbiAgICBsZXQgY2xpcF9maXJzdF9pbiA9IGZ1bmN0aW9uICh2MDogVmVydGV4LCB2MTogVmVydGV4LCB2MjogVmVydGV4KSB7XHJcbiAgICAgICAgLy8gMSB0cmlhbmdsZSB0byAxIHRyaWFuZ2xlXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ29uZScpO1xyXG4gICAgICAgIHZfY2xpcFswXSA9IG5ldyBUcmlhbmdsZSh2MCwgZ2V0Q3Jvc3NQb2ludCh2MCwgdjEpLCBnZXRDcm9zc1BvaW50KHYwLCB2MikpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdm8gb3V0XHJcbiAgICBsZXQgY2xpcF9maXJzdF9vdXQgPSBmdW5jdGlvbiAodjA6IFZlcnRleCwgdjE6IFZlcnRleCwgdjI6IFZlcnRleCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd0b3cnKTtcclxuICAgICAgICAvLyAxIHRyaWFuZ2xlIHRvIDIgdHJpYW5nbGVcclxuICAgICAgICBsZXQgY3Jvc3MxID0gZ2V0Q3Jvc3NQb2ludCh2MiwgdjApO1xyXG4gICAgICAgIGxldCBjcm9zczIgPSBnZXRDcm9zc1BvaW50KHYwLCB2MSk7XHJcblxyXG4gICAgICAgIHZfY2xpcFswXSA9IG5ldyBUcmlhbmdsZSh2MiwgY3Jvc3MxLCBjcm9zczIpO1xyXG4gICAgICAgIHZfY2xpcFsxXSA9IG5ldyBUcmlhbmdsZSh2MiwgY3Jvc3MyLCB2MSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIOaciTjnqK7mg4Xms4FcclxuICAgIGlmICh2MF9vdXQodHJpYW5nbGUpLyp0cmlhbmdsZS52MC5wLnogPCBuZWFyUGxhbmVaKi8pLy9vdXRcclxuICAgIHtcclxuICAgICAgICBpZiAodjFfb3V0KHRyaWFuZ2xlKSAvKiB0cmlhbmdsZS52MS5wLnogPCBuZWFyUGxhbmVaICovKS8vIG91dCBvdXRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh2Ml9vdXQodHJpYW5nbGUpIC8qdHJpYW5nbGUudjIucC56IDwgbmVhclBsYW5lWiovKS8vZnVsbCBvdXQgb2YgbmVhclBsYW5lWiAobm8gY2xpcClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Z1bGwgb3V0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSAvL291dCBvdXQgaW5cclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3RfaW4odHJpYW5nbGUudjIsIHRyaWFuZ2xlLnYwLCB0cmlhbmdsZS52MSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgLy9vdXQgaW4gXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodjJfb3V0KHRyaWFuZ2xlKSAvKnRyaWFuZ2xlLnYyLnAueiA8IG5lYXJQbGFuZVoqLykvL291dCBpbiBvdXRcclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3RfaW4odHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyLCB0cmlhbmdsZS52MCk7XHJcbiAgICAgICAgICAgIGVsc2UgLy8gb3V0IGluIGluXHJcbiAgICAgICAgICAgICAgICBjbGlwX2ZpcnN0X291dCh0cmlhbmdsZS52MCwgdHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIC8vIGluXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHYxX291dCh0cmlhbmdsZSkgLyp0cmlhbmdsZS52MS5wLnogPCBuZWFyUGxhbmVaKi8pLy8gaW4gb3V0IFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHYyX291dCh0cmlhbmdsZSkgLyp0cmlhbmdsZS52Mi5wLnogPCBuZWFyUGxhbmVaKi8pLy8gaW4gb3V0IG91dFxyXG4gICAgICAgICAgICAgICAgY2xpcF9maXJzdF9pbih0cmlhbmdsZS52MCwgdHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyKTtcclxuICAgICAgICAgICAgZWxzZSAvLyBpbiBvdXQgaW5cclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3Rfb3V0KHRyaWFuZ2xlLnYxLCB0cmlhbmdsZS52MiwgdHJpYW5nbGUudjApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIC8vIGluIGluXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodjJfb3V0KHRyaWFuZ2xlKSAvKnRyaWFuZ2xlLnYyLnAueiA8IG5lYXJQbGFuZVoqLykvLyBpbiBpbiBvdXRcclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3Rfb3V0KHRyaWFuZ2xlLnYyLCB0cmlhbmdsZS52MCwgdHJpYW5nbGUudjEpO1xyXG4gICAgICAgICAgICBlbHNlIC8vIGluIGluIGluIChubyBjbGlwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2X2NsaXBbMF0gPSB0cmlhbmdsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2X2NsaXA7XHJcbn0iLCJcclxuaW1wb3J0IHsgbGVycCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSAnLi9WZWN0b3InXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZXJ0ZXgge1xyXG4gICAgc3RhdGljIGJ1aWxkX3ZlcnRleChwOiBWZWN0b3IsIG46IFZlY3RvciwgdzogbnVtYmVyLCB1OiBudW1iZXIsIHY6IG51bWJlcikge1xyXG4gICAgICAgIGxldCB2ZXJ0ZXggPSBuZXcgVmVydGV4KHAsIG4sIHcsIHUsIHYpO1xyXG4gICAgICAgIHJldHVybiB2ZXJ0ZXg7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGxlcnAodjA6IFZlcnRleCwgdjE6IFZlcnRleCwgdDogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHAgPSBWZWN0b3IubGVycCh2MC5wLCB2MS5wLCB0KTtcclxuICAgICAgICBsZXQgbiA9IFZlY3Rvci5sZXJwKHYwLm4sIHYxLm4sIHQpO1xyXG4gICAgICAgIGxldCB3ID0gbGVycCh2MC53LCB2MS53LCB0KTtcclxuICAgICAgICBsZXQgdSA9IGxlcnAodjAudSwgdjEudSwgdCk7XHJcbiAgICAgICAgbGV0IHYgPSBsZXJwKHYwLnYsIHYxLnYsIHQpO1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVydGV4KHAsIG4sIHcsIHUsIHYpO1xyXG4gICAgfVxyXG5cclxuICAgIHA6IFZlY3RvcjtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIHU6IG51bWJlcjtcclxuICAgIHY6IG51bWJlcjtcclxuICAgIG46IFZlY3RvcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwOiBWZWN0b3IsIG46IFZlY3RvciwgdzogbnVtYmVyLCB1OiBudW1iZXIsIHY6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucCA9IHA7XHJcbiAgICAgICAgdGhpcy5uID0gbjtcclxuICAgICAgICB0aGlzLncgPSB3O1xyXG4gICAgICAgIHRoaXMudSA9IHU7XHJcbiAgICAgICAgdGhpcy52ID0gdjtcclxuICAgIH1cclxuXHJcbiAgICBjbG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlcnRleCh0aGlzLnAuY2xvbmUoKSwgdGhpcy5uLmNsb25lKCksIHRoaXMudywgdGhpcy51LCB0aGlzLnYpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZV9wKHA6IFZlY3Rvcikge1xyXG4gICAgICAgIHRoaXMucCA9IHA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlX3codzogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy53ID0gdztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufSIsImltcG9ydCBWZXJ0ZXggZnJvbSAnLi9WZXJ0ZXgnXHJcbmltcG9ydCBUcmlhbmdsZSBmcm9tICcuL1RyaWFuZ2xlJztcclxuaW1wb3J0IFZlY3RvciBmcm9tICcuL1ZlY3Rvcic7XHJcbmltcG9ydCBUcmFuc2Zvcm0gZnJvbSAnLi9UcmFuc2Zvcm0nO1xyXG5pbXBvcnQgeyBjbGlwIH0gZnJvbSAnLi9Ub29sJztcclxuaW1wb3J0IENhbWVyYSBmcm9tICcuL0NhbWVyYSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCb3gge1xyXG4gICAgdHJpYW5nbGVzOiBUcmlhbmdsZVtdO1xyXG4gICAgdHJpYW5nbGVzX2FmdGVyX2NsaXA6IFRyaWFuZ2xlW107XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvLyDlu7rnq4vmraPmlrnpq5TpoILpu57os4fmlplcclxuICAgICAgICB0aGlzLnRyaWFuZ2xlcyA9IFtdO1xyXG4gICAgICAgIC8v6aCG5pmC6YedXHJcbiAgICAgICAgbGV0IG4gPSBuZXcgVmVjdG9yKDAsIDAsIC0xKTtcclxuICAgICAgICB0aGlzLnRyaWFuZ2xlcy5wdXNoKFxyXG4gICAgICAgICAgICBuZXcgVHJpYW5nbGUoXHJcbiAgICAgICAgICAgICAgICBuZXcgVmVydGV4KG5ldyBWZWN0b3IoLTEwLCAtMTAsIC0xMCksIG4sIDEsIDAsIDApLFxyXG4gICAgICAgICAgICAgICAgbmV3IFZlcnRleChuZXcgVmVjdG9yKDEwLCAxMCwgLTEwKSwgbiwgMSwgMSwgMSksXHJcbiAgICAgICAgICAgICAgICBuZXcgVmVydGV4KG5ldyBWZWN0b3IoMTAsIC0xMCwgLTEwKSwgbiwgMSwgMSwgMClcclxuICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgdGhpcy50cmlhbmdsZXMucHVzaChcclxuICAgICAgICAgICAgbmV3IFRyaWFuZ2xlKFxyXG4gICAgICAgICAgICAgICAgbmV3IFZlcnRleChuZXcgVmVjdG9yKC0xMCwgLTEwLCAtMTApLCBuLCAxLCAwLCAwKSxcclxuICAgICAgICAgICAgICAgIG5ldyBWZXJ0ZXgobmV3IFZlY3RvcigtMTAsIDEwLCAtMTApLCBuLCAxLCAwLCAxKSxcclxuICAgICAgICAgICAgICAgIG5ldyBWZXJ0ZXgobmV3IFZlY3RvcigxMCwgMTAsIC0xMCksIG4sIDEsIDEsIDEpXHJcbiAgICAgICAgICAgICkpO1xyXG5cclxuICAgICAgICBsZXQgbSA9IFtUcmFuc2Zvcm0ucm90YXRlQnlZKDkwKSwgVHJhbnNmb3JtLnJvdGF0ZUJ5WSgxODApLCBUcmFuc2Zvcm0ucm90YXRlQnlZKDI3MCksIFRyYW5zZm9ybS5yb3RhdGVCeVgoOTApLCBUcmFuc2Zvcm0ucm90YXRlQnlYKC05MCldXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCByb3RhdGVNYXRyaXggPSBtW2ldO1xyXG4gICAgICAgICAgICBsZXQgbjIgPSBUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQocm90YXRlTWF0cml4LCBuKTtcclxuICAgICAgICAgICAgdGhpcy50cmlhbmdsZXMucHVzaChcclxuICAgICAgICAgICAgICAgIG5ldyBUcmlhbmdsZShcclxuICAgICAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludChyb3RhdGVNYXRyaXgsIG5ldyBWZWN0b3IoLSAxMCwgLTEwLCAtMTApKSwgbjIsIDEsIDAsIDApLFxyXG4gICAgICAgICAgICAgICAgICAgIFZlcnRleC5idWlsZF92ZXJ0ZXgoVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHJvdGF0ZU1hdHJpeCwgbmV3IFZlY3RvcigxMCwgMTAsIC0xMCkpLCBuMiwgMSwgMSwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgVmVydGV4LmJ1aWxkX3ZlcnRleChUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQocm90YXRlTWF0cml4LCBuZXcgVmVjdG9yKDEwLCAtMTAsIC0xMCkpLCBuMiwgMSwgMSwgMClcclxuICAgICAgICAgICAgICAgICkpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWFuZ2xlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgbmV3IFRyaWFuZ2xlKFxyXG4gICAgICAgICAgICAgICAgICAgIFZlcnRleC5idWlsZF92ZXJ0ZXgoVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHJvdGF0ZU1hdHJpeCwgbmV3IFZlY3RvcigtMTAsIC0xMCwgLTEwKSksIG4yLCAxLCAwLCAwKSxcclxuICAgICAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludChyb3RhdGVNYXRyaXgsIG5ldyBWZWN0b3IoLTEwLCAxMCwgLTEwKSksIG4yLCAxLCAwLCAxKSxcclxuICAgICAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludChyb3RhdGVNYXRyaXgsIG5ldyBWZWN0b3IoMTAsIDEwLCAtMTApKSwgbjIsIDEsIDEsIDEpXHJcbiAgICAgICAgICAgICAgICApKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGNhbWVyYTogQ2FtZXJhLCB3b3JsZFRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XHJcblxyXG4gICAgICAgIC8vIOa4rOippuijgeWIh+S4ieinkuW9oueahGNvZGVcclxuICAgICAgICAvLyB0aGlzLnRyaWFuZ2xlc19hZnRlcl9jbGlwID0gW107XHJcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyaWFuZ2xlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIC8vICAgICBsZXQgdHJpYW5nbGUgPSB0aGlzLnRyaWFuZ2xlc1tpXTtcclxuICAgICAgICAvLyAgICAgbGV0IG5lYXJQbGFuZVogPSAxO1xyXG4gICAgICAgIC8vICAgICBsZXQgdl9jbGlwID0gY2xpcCh0cmlhbmdsZSwgbmVhclBsYW5lWik7XHJcblxyXG4gICAgICAgIC8vICAgICBsZXQgY291bnQgPSB2X2NsaXAubGVuZ3RoIC8gMztcclxuICAgICAgICAvLyAgICAgLy8gY29uc29sZS5sb2coaSwgY291bnQpO1xyXG4gICAgICAgIC8vICAgICBmb3IgKGxldCBrID0gMDsgayA8IGNvdW50OyArK2spIHtcclxuICAgICAgICAvLyAgICAgICAgIC8vIOe1hOWQiOS4ieinkuW9olxyXG4gICAgICAgIC8vICAgICAgICAgbGV0IG5ld190cmlhbmdsZSA9IG5ldyBUcmlhbmdsZSh2X2NsaXBbayAqIDNdLCB2X2NsaXBbayAqIDMgKyAxXSwgdl9jbGlwW2sgKiAzICsgMl0pO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcC5wdXNoKG5ld190cmlhbmdsZSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcCA9IHRoaXMudHJpYW5nbGVzO1xyXG5cclxuICAgICAgICAvLyDomZXnkIbmraPmlrnpq5TnmoTorormj5tcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJpYW5nbGVzX2FmdGVyX2NsaXAubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcFtpXS5wcm9jZXNzKGNhbWVyYSwgd29ybGRUcmFuc2Zvcm0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgLy8g55Wr5LiJ6KeS5b2iXHJcbiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1vdmVyJztcclxuXHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDAsMCwxKSc7XHJcblxyXG5cclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcC5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLnRyaWFuZ2xlc19hZnRlcl9jbGlwW2ldLmRyYXcoY3R4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi4vTWF0aC9WZWN0b3JcIjtcclxuaW1wb3J0IEhpdEluZm8gZnJvbSBcIi4uL01hdGgvSGl0SW5mb1wiO1xyXG5pbXBvcnQgeyBjbGFtcCwgZ2V0X3NoYWRvd193ZWlnaHQgfSBmcm9tIFwiLi4vTWF0aC9Ub29sXCI7XHJcbmltcG9ydCBTaGFkZXIgZnJvbSBcIi4vU2hhZGVyXCI7XHJcbmltcG9ydCBTY2VuZU5vZGUgZnJvbSBcIi4uL09iamVjdC9TY2VuZU5vZGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpZmZ1c2UgaW1wbGVtZW50cyBTaGFkZXIge1xyXG4gICAgc3RhdGljIHllbGxvdyA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMSwgMSwgMCkpO1xyXG4gICAgc3RhdGljIHJlZCA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMSwgMCwgMCkpO1xyXG4gICAgc3RhdGljIGdyZWVuID0gbmV3IERpZmZ1c2UobmV3IFZlY3RvcigwLCAxLCAwKSk7XHJcbiAgICBzdGF0aWMgYmx1ZSA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMCwgMCwgMSkpO1xyXG4gICAgc3RhdGljIGdyYXkgPSBuZXcgRGlmZnVzZShuZXcgVmVjdG9yKDAuNSwgMC41LCAwLjUpKTtcclxuICAgIHN0YXRpYyB3aGl0ZSA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMSwgMSwgMSkpO1xyXG5cclxuICAgIGNvbG9yOiBWZWN0b3I7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb2xvcjogVmVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHNoYWRpbmcoaGl0X2luZm86IEhpdEluZm8sIGRpcmVjdGlvbl9saWdodF9kaXI6IFZlY3Rvciwgb2JqX2xpc3Q6IFNjZW5lTm9kZVtdLCBkZXB0aDogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IG4gPSBoaXRfaW5mby5ub3JtYWw7XHJcbiAgICAgICAgbGV0IHN0cmVuZ3RoID0gY2xhbXAoLVZlY3Rvci5kb3QoZGlyZWN0aW9uX2xpZ2h0X2RpciwgbiksIDAsIDEpO1xyXG5cclxuICAgICAgICBsZXQgc2hhZG93X3dlaWdodCA9IGdldF9zaGFkb3dfd2VpZ2h0KGhpdF9pbmZvLCBkaXJlY3Rpb25fbGlnaHRfZGlyLCBvYmpfbGlzdCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3IubXVsdGlwbHkoc3RyZW5ndGgpLm11bHRpcGx5KHNoYWRvd193ZWlnaHQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IFJheSBmcm9tIFwiLi9SYXlcIjtcclxuaW1wb3J0IHsgZGVncmVlX3RvX1JhZCwgZ2V0X2hpdF9zb3J0X2xpc3QgfSBmcm9tIFwiLi9Ub29sXCJcclxuaW1wb3J0IFJlbmRlclRhcmdldCBmcm9tIFwiLi9SZW5kZXJUYXJnZXRcIjtcclxuaW1wb3J0IEhpdEluZm8gZnJvbSBcIi4vSGl0SW5mb1wiO1xyXG5pbXBvcnQgU2NlbmVOb2RlIGZyb20gXCIuLi9PYmplY3QvU2NlbmVOb2RlXCI7XHJcbmltcG9ydCBEaWZmdXNlIGZyb20gXCIuLi9NYXRlcmFpbHMvRGlmZnVzZVwiO1xyXG5pbXBvcnQgVmVydGV4IGZyb20gXCIuL1ZlcnRleFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhIHtcclxuICAgIGV5ZTogVmVjdG9yO1xyXG5cclxuICAgIHhfYXhpczogVmVjdG9yO1xyXG4gICAgeV9heGlzOiBWZWN0b3I7XHJcbiAgICB6X2F4aXM6IFZlY3RvcjtcclxuXHJcbiAgICByYXRpbzogbnVtYmVyO1xyXG5cclxuICAgIHNjcmVlblc6IG51bWJlcjtcclxuICAgIHNjcmVlbkg6IG51bWJlcjtcclxuXHJcbiAgICBzY3JlZW5DZW50ZXJYOiBudW1iZXI7XHJcbiAgICBzY3JlZW5DZW50ZXJZOiBudW1iZXI7XHJcbiAgICBoYWxmVzogbnVtYmVyO1xyXG4gICAgaGFsZkg6IG51bWJlcjtcclxuXHJcbiAgICAvLyDoppbpjJDnmoQg6L+R5bmz6Z2i5ZKM6YGg5bmz6Z2iXHJcbiAgICAvLyBh44CBYuWSjOaKleW9seefqemZo+aciemXnFxyXG4gICAgTjogbnVtYmVyO1xyXG4gICAgRjogbnVtYmVyO1xyXG4gICAgYTogbnVtYmVyO1xyXG4gICAgYjogbnVtYmVyO1xyXG5cclxuICAgIC8vIGluIGNsaXAgc3BhY2UgKGJlZm9yZSAvdyBzcGFjZSlcclxuICAgIE5jOiBudW1iZXI7XHJcbiAgICBGYzogbnVtYmVyO1xyXG5cclxuICAgIGZvdl9kZWdyZWU6IG51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKGV5ZTogVmVjdG9yLCBsb29rX2F0OiBWZWN0b3IsIGZvdl9kZWdyZWU6IG51bWJlciwgc2NyZWVuVzogbnVtYmVyLCBzY3JlZW5IOiBudW1iZXIsIE46IG51bWJlciwgRjogbnVtYmVyKSB7XHJcblxyXG4gICAgICAgIHRoaXMucmF0aW8gPSBzY3JlZW5XIC8gc2NyZWVuSDtcclxuICAgICAgICB0aGlzLnNjcmVlblcgPSBzY3JlZW5XO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuSCA9IHNjcmVlbkg7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5DZW50ZXJYID0gdGhpcy5zY3JlZW5XICogMC41O1xyXG4gICAgICAgIHRoaXMuc2NyZWVuQ2VudGVyWSA9IHRoaXMuc2NyZWVuSCAqIDAuNTtcclxuICAgICAgICB0aGlzLmhhbGZXID0gdGhpcy5zY3JlZW5XICogMC41O1xyXG4gICAgICAgIHRoaXMuaGFsZkggPSB0aGlzLnNjcmVlbkggKiAwLjU7XHJcblxyXG4gICAgICAgIC8vIGNhbWVyYSAz6Lu4XHJcbiAgICAgICAgdGhpcy56X2F4aXMgPSBWZWN0b3IubWludXMobG9va19hdCwgZXllKS5ub3JtYWxpemUoKTtcclxuXHJcbiAgICAgICAgLy8g5bem5omLXHJcbiAgICAgICAgbGV0IGhlbHBfdiA9IFZlY3Rvci51cDtcclxuICAgICAgICB0aGlzLnhfYXhpcyA9IFZlY3Rvci5jcm9zcyhoZWxwX3YsIHRoaXMuel9heGlzKS5ub3JtYWxpemUoKTtcclxuICAgICAgICB0aGlzLnlfYXhpcyA9IFZlY3Rvci5jcm9zcyh0aGlzLnpfYXhpcywgdGhpcy54X2F4aXMpO1xyXG5cclxuICAgICAgICAvLyBjYW1lcmEg5Y6f6bueXHJcbiAgICAgICAgdGhpcy5leWUgPSBleWU7XHJcblxyXG4gICAgICAgIC8vIGNhbWVyYSBmb3ZcclxuICAgICAgICB0aGlzLmZvdl9kZWdyZWUgPSBmb3ZfZGVncmVlO1xyXG5cclxuICAgICAgICAvLyDoppbpjJDnmoQg6L+R5bmz6Z2i5ZKM6YGg5bmz6Z2iXHJcbiAgICAgICAgdGhpcy5OID0gTjtcclxuICAgICAgICB0aGlzLkYgPSBGO1xyXG5cclxuICAgICAgICAvLyBodHRwczovL2dwbm5vdGVzLmJsb2dzcG90LmNvbS8yMDIxLzExL2Jsb2ctcG9zdF8yNy5odG1sXHJcbiAgICAgICAgLy8g5oqV5b2x55+p6Zmj5bCNeueahOS/ruato++8jOmAmeijoeS9v+eUqOW3puaJi1xyXG4gICAgICAgIHRoaXMuYSA9IEYgLyAoRiAtIE4pO1xyXG4gICAgICAgIHRoaXMuYiA9IC1OICogRiAvIChGIC0gTik7XHJcblxyXG4gICAgICAgIC8vIOaIkeWAkeS4jeaYr09wZW5nbOaIlkRpcmVjdHjvvIzmiYDku6Xlj6/ku6XmiopOY+OAgUZj566X5Ye65L6GXHJcbiAgICAgICAgdGhpcy5OYyA9IE4gKiB0aGlzLmEgKyB0aGlzLmI7XHJcbiAgICAgICAgdGhpcy5GYyA9IEYgKiB0aGlzLmEgKyB0aGlzLmI7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYSwgdGhpcy5iKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLk5jLCB0aGlzLkZjKTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlRXllID0gZnVuY3Rpb24gKHM6IG51bWJlciwgQTogVmVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5leWUgPSBWZWN0b3IuYWRkKHRoaXMuZXllLCBBLm11bHRpcGx5KHMpKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRQaXRjaChkZWdyZWU6IG51bWJlcikge1xyXG4gICAgICAgIC8vIHRvZG86IOS5mOS4imxvY2FsIG1hdHJpeFxyXG4gICAgfVxyXG5cclxuICAgIGFkZFlhdyhkZWdyZWU6IG51bWJlcikge1xyXG4gICAgICAgIC8vIHRvZG86IOS5mOS4imxvY2FsIG1hdHJpeFxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZV9yYXlfZGlyKHhfd2VpZ2h0OiBudW1iZXIsIHlfd2VpZ2h0OiBudW1iZXIsIHJhdGlvOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgaGFsZl9mb3ZfcmFkID0gZGVncmVlX3RvX1JhZCgwLjUgKiB0aGlzLmZvdl9kZWdyZWUpO1xyXG4gICAgICAgIGxldCB0YW5faCA9IE1hdGgudGFuKGhhbGZfZm92X3JhZCk7XHJcbiAgICAgICAgbGV0IHRhbl93ID0gdGFuX2ggKiByYXRpbztcclxuXHJcbiAgICAgICAgbGV0IGRpciA9IHRoaXMuel9heGlzXHJcbiAgICAgICAgICAgIC5hZGQodGhpcy54X2F4aXMubXVsdGlwbHkoeF93ZWlnaHQgKiB0YW5fdykpXHJcbiAgICAgICAgICAgIC5hZGQodGhpcy55X2F4aXMubXVsdGlwbHkoeV93ZWlnaHQgKiB0YW5faCkpO1xyXG5cclxuICAgICAgICByZXR1cm4gZGlyO1xyXG4gICAgfVxyXG5cclxuICAgIHRvQ2FtZXJhU3BhY2UoQTogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IGRpZmYgPSBBLm1pbnVzKHRoaXMuZXllKTtcclxuICAgICAgICBsZXQgcG9pbnRfaW5fY2FtZXJhX3NwYWNlID0gbmV3IFZlY3RvcihWZWN0b3IuZG90KGRpZmYsIHRoaXMueF9heGlzKSwgVmVjdG9yLmRvdChkaWZmLCB0aGlzLnlfYXhpcyksIFZlY3Rvci5kb3QoZGlmZiwgdGhpcy56X2F4aXMpKTtcclxuICAgICAgICByZXR1cm4gcG9pbnRfaW5fY2FtZXJhX3NwYWNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRvUHJvamVjdGlvblNwYWNlKEE6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCBmb3ZfcmFkID0gZGVncmVlX3RvX1JhZCh0aGlzLmZvdl9kZWdyZWUpO1xyXG4gICAgICAgIGxldCBoYWxmX2ZvdiA9IDAuNSAqIGZvdl9yYWQ7XHJcbiAgICAgICAgbGV0IHlfc2NhbGUgPSAxIC8gTWF0aC50YW4oaGFsZl9mb3YpO1xyXG4gICAgICAgIGxldCB4X3NjYWxlID0gMSAvICh0aGlzLnJhdGlvICogTWF0aC50YW4oaGFsZl9mb3YpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoQS54ICogeF9zY2FsZSwgQS55ICogeV9zY2FsZSwgQS56ICogdGhpcy5hICsgdGhpcy5iKTtcclxuICAgIH1cclxuXHJcbiAgICB0b05EQyhBOiBWZWN0b3IsIHc6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBzID0gMSAvIHc7XHJcbiAgICAgICAgcmV0dXJuIEEubXVsdGlwbHkocyk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9TY3JlZW5TcGFjZShORENfQTogVmVjdG9yKSB7XHJcbiAgICAgICAgLy8g55So5bqn5qiZ6K6K5o+b5L6G55yL5b6F5b6eTkRD5YiwU2NyZWVuIFNwYWNlXHJcbiAgICAgICAgLy8gTkRDIHjou7jlnKhzY3JlZW4gc3BhY2Ug54K6KHcvMiwwKVxyXG4gICAgICAgIC8vIE5EQyB56Lu45Zyoc2NyZWVuIHNwYWNlIOeCuigtaC8yLDApXHJcbiAgICAgICAgbGV0IHggPSB0aGlzLmhhbGZXICogTkRDX0EueCArIHRoaXMuc2NyZWVuQ2VudGVyWDtcclxuICAgICAgICBsZXQgeSA9IC10aGlzLmhhbGZIICogTkRDX0EueSArIHRoaXMuc2NyZWVuQ2VudGVyWTtcclxuXHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKHgsIHksIE5EQ19BLnopO1xyXG4gICAgICAgIHJldHVybiB0ZW1wO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOeul+WcllxyXG4gICAgcmVuZGVyKHJlbmRlcl90YXJnZXQ6IFJlbmRlclRhcmdldCwgb2JqX2xpc3Q6IFNjZW5lTm9kZVtdKSB7XHJcbiAgICAgICAgbGV0IGRpcmVjdGlvbl9saWdodF9kaXIgPSBuZXcgVmVjdG9yKDEsIC0xLCAwKS5ub3JtYWxpemUoKTtcclxuXHJcbiAgICAgICAgbGV0IGhhbGZfcGl4ZWxfb2Zmc2V0ID0gMC41IC8gcmVuZGVyX3RhcmdldC5oO1xyXG4gICAgICAgIGxldCBtdWx0aXNhbXBsZV9kaWZmID0gW1xyXG4gICAgICAgICAgICB7IHg6IDAsIHk6IDAgfSxcclxuICAgICAgICAgICAgeyB4OiBoYWxmX3BpeGVsX29mZnNldCwgeTogaGFsZl9waXhlbF9vZmZzZXQgfSxcclxuICAgICAgICAgICAgeyB4OiAtaGFsZl9waXhlbF9vZmZzZXQsIHk6IGhhbGZfcGl4ZWxfb2Zmc2V0IH0sXHJcbiAgICAgICAgICAgIHsgeDogLWhhbGZfcGl4ZWxfb2Zmc2V0LCB5OiAtaGFsZl9waXhlbF9vZmZzZXQgfSxcclxuICAgICAgICAgICAgeyB4OiBoYWxmX3BpeGVsX29mZnNldCwgeTogLWhhbGZfcGl4ZWxfb2Zmc2V0IH0sXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgcmVuZGVyX3RhcmdldC5yZW5kZXJfcGl4ZWwoKHhfd2VpZ2h0OiBudW1iZXIsIHlfd2VpZ2h0OiBudW1iZXIsIHJhdGlvOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJheV9kaXIgPSB0aGlzLmNyZWF0ZV9yYXlfZGlyKHhfd2VpZ2h0LCB5X3dlaWdodCwgcmF0aW8pO1xyXG5cclxuICAgICAgICAgICAgLy8g55Si55Sf5aSa5qKdcmF5XHJcbiAgICAgICAgICAgIGxldCByYXlzID0gbXVsdGlzYW1wbGVfZGlmZi5tYXAoZGlmZiA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDlsI1yYXlfZHJp5L2c5YGP56e7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGlyID0gcmF5X2Rpci5hZGQodGhpcy54X2F4aXMubXVsdGlwbHkoZGlmZi54KSkuYWRkKHRoaXMueV9heGlzLm11bHRpcGx5KGRpZmYueSkpXHJcblxyXG4gICAgICAgICAgICAgICAgLy8g6ZuW54S25ZKM55CD44CB5bmz6Z2i55qEaGl06KiI566X5LiN6ZyA6KaBZGly5L2cbm9ybWFsaXpl77yM5L2G54K65LqG5pa55L6/5Y+N5bCE55qE6KiI566X6YKE5piv5L2cbm9ybWFsaXplXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJheSh0aGlzLmV5ZSwgZGlyLm5vcm1hbGl6ZSgpKVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIOavj+WAi3JheemDveeul2NvbG9yXHJcbiAgICAgICAgICAgIGxldCBjb2xvcnMgPSByYXlzLm1hcChyYXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGhpdF9zb3J0X2xpc3QgPSBnZXRfaGl0X3NvcnRfbGlzdChvYmpfbGlzdCwgcmF5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDmnInlsITkuK3ll45cclxuICAgICAgICAgICAgICAgIGxldCBpc19oaXQgPSBoaXRfc29ydF9saXN0Lmxlbmd0aCAhPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzX2hpdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRfaW5mbyA9IGhpdF9zb3J0X2xpc3RbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhpdF9pbmZvLnMuc2hhZGluZyhoaXRfaW5mbywgZGlyZWN0aW9uX2xpZ2h0X2Rpciwgb2JqX2xpc3QsIDEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGlmZnVzZS5ncmF5LmNvbG9yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIOWPluW5s+Wdh+WwseaciUFudGlhbGlhc2luZ+aViOaenFxyXG4gICAgICAgICAgICBsZXQgY291bnQgPSBtdWx0aXNhbXBsZV9kaWZmLmxlbmd0aDtcclxuICAgICAgICAgICAgbGV0IGZpbmFsX2NvbG9yID0gY29sb3JzLnJlZHVjZSgoYWNjdW11bGF0b3I6IFZlY3RvciwgY3VycmVudDogVmVjdG9yKSA9PiBhY2N1bXVsYXRvci5hZGQoY3VycmVudCksIFZlY3Rvci56ZXJvKS5tdWx0aXBseSgxIC8gY291bnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmluYWxfY29sb3I7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsIi8vIGltcG9ydCBBcHAgZnJvbSAnLi9BcHAnO1xyXG4vLyBuZXcgQXBwKCk7XHJcblxyXG5pbXBvcnQgUmFzdGVyaXplckFwcCBmcm9tICcuL1Jhc3Rlcml6ZXJBcHAnO1xyXG5uZXcgUmFzdGVyaXplckFwcCgpOyIsImltcG9ydCBCb3ggZnJvbSBcIi4vTWF0aC9Cb3gzRFwiO1xyXG5pbXBvcnQgQ2FtZXJhIGZyb20gXCIuL01hdGgvQ2FtZXJhXCI7XHJcbmltcG9ydCBUcmFuc2Zvcm0gZnJvbSBcIi4vTWF0aC9UcmFuc2Zvcm1cIjtcclxuaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9NYXRoL1ZlY3RvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFzdGVyaXplckFwcCB7XHJcblxyXG4gICAgY2FtZXJhSW5kZXhfdmlldyA9IDE7XHJcbiAgICBjYW1lcmFJbmRleF9jb250cm9sID0gMDtcclxuICAgIGNhbWVyYTogQ2FtZXJhID0gbnVsbDtcclxuICAgIHRoYW5kbGU6IG51bWJlcjtcclxuXHJcbiAgICBzY3JlZW5XaWR0aCA9IDgwMDtcclxuICAgIHNjcmVlbkhlaWdodCA9IDYwMDtcclxuICAgIGJveDogQm94ID0gbnVsbDtcclxuXHJcbiAgICBsYXN0X3Q6IG51bWJlcjtcclxuICAgIHN1bV90OiBudW1iZXI7XHJcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgd2luZG93Lm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBkb2N1bWVudC5vbmtleWRvd24gPSB0aGlzLmtleVByb2MuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gdGhpcy5zY3JlZW5XaWR0aCArICdweCc7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IHRoaXMuc2NyZWVuSGVpZ2h0ICsgJ3B4JztcclxuICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5ib3ggPSBuZXcgQm94KCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKG5ldyBWZWN0b3IoMCwgNTAsIC0yMDApLCBuZXcgVmVjdG9yKDAsIDAsIDApLCA2MCwgdGhpcy5zY3JlZW5XaWR0aCwgdGhpcy5zY3JlZW5IZWlnaHQsIDEwMCwgNTAwKTtcclxuICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5zdW1fdCA9IDA7XHJcbiAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHRoaXMubGFzdF90ID0gZC5nZXRUaW1lKCk7XHJcbiAgICAgICAgdGhpcy50aGFuZGxlID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHsgdGhpcy5kcmF3U2NlbmUoKTsgfSwgMTYpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICBsZXQgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sYXN0X3QgPSBkLmdldFRpbWUoKTtcclxuICAgICAgICB0aGlzLnRoYW5kbGUgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4geyB0aGlzLmRyYXdTY2VuZSgpOyB9LCAxNik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRoYW5kbGUpO1xyXG4gICAgICAgIHRoaXMudGhhbmRsZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd1NjZW5lKCkge1xyXG4gICAgICAgIGxldCBkID0gbmV3IERhdGUoKTtcclxuICAgICAgICBsZXQgdCA9IGQuZ2V0VGltZSgpO1xyXG4gICAgICAgIGxldCBkaWZmID0gdCAtIHRoaXMubGFzdF90O1xyXG4gICAgICAgIHRoaXMubGFzdF90ID0gdDtcclxuICAgICAgICB0aGlzLnN1bV90ID0gdGhpcy5zdW1fdCArIGRpZmY7XHJcblxyXG4gICAgICAgIC8vIOa4heepulxyXG4gICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnNjcmVlbldpZHRoLCB0aGlzLnNjcmVlbkhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gXCJyZ2JhKDE4MCwzMCwxNSwwLjEpXCI7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5zY3JlZW5XaWR0aCwgdGhpcy5zY3JlZW5IZWlnaHQpO1xyXG5cclxuICAgICAgICAvL+eVq+eri+aWuemrlFxyXG4gICAgICAgIHZhciBvZmZzZXRNYXRyaXggPSBUcmFuc2Zvcm0ub2Zmc2V0KDAsIDAsIDApO1xyXG4gICAgICAgIHZhciBub3dEZWdyZWUgPSB0aGlzLnN1bV90IC8gMTAwMCAqIDE1ICUgMzYwO1xyXG4gICAgICAgIC8vIHZhciBub3dEZWdyZWUgPSAwO1xyXG5cclxuICAgICAgICB2YXIgcm90YXRlTWF0cml4ID0gVHJhbnNmb3JtLnJvdGF0ZUJ5WShub3dEZWdyZWUpO1xyXG4gICAgICAgIHZhciBjb21iaW5lTWF0cml4ID0gVHJhbnNmb3JtLnRyYW5zZm9ybVRyYW5zZm9ybShvZmZzZXRNYXRyaXgsIHJvdGF0ZU1hdHJpeCk7XHJcbiAgICAgICAgdGhpcy5ib3gudXBkYXRlKHRoaXMuY2FtZXJhLCBjb21iaW5lTWF0cml4KTtcclxuICAgICAgICB0aGlzLmJveC5kcmF3KHRoaXMuY3R4KTtcclxuXHJcbiAgICAgICAgLy8gdmFyIG9mZnNldE1hdHJpeCA9IFRyYW5zZm9ybS5vZmZzZXQoMTUwLCAwLCAwKTtcclxuICAgICAgICAvLyB2YXIgcm90YXRlTWF0cml4ID0gVHJhbnNmb3JtLnJvdGF0ZUJ5WShub3dEZWdyZWUpO1xyXG4gICAgICAgIC8vIGNvbWJpbmVNYXRyaXggPSBUcmFuc2Zvcm0udHJhbnNmb3JtVHJhbnNmb3JtKHJvdGF0ZU1hdHJpeCwgb2Zmc2V0TWF0cml4KTtcclxuICAgICAgICAvLyB0aGlzLmJveC51cGRhdGUodGhpcy5jYW1lcmEsIGNvbWJpbmVNYXRyaXgpO1xyXG4gICAgICAgIC8vIHRoaXMuYm94LmRyYXcodGhpcy5jdHgpO1xyXG4gICAgfVxyXG5cclxuICAgIGtleVByb2MoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgICAgICBsZXQgS2VwTWFwID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHc6IDg3LFxyXG4gICAgICAgICAgICByOiA4MixcclxuXHJcbiAgICAgICAgICAgIGU6IDY5LFxyXG4gICAgICAgICAgICBkOiA2OCxcclxuICAgICAgICAgICAgczogODMsXHJcbiAgICAgICAgICAgIGY6IDcwLFxyXG5cclxuICAgICAgICAgICAgYV91cDogMzgsXHJcbiAgICAgICAgICAgIGFfZG93bjogNDAsXHJcbiAgICAgICAgICAgIGFfbGVmdDogMzcsXHJcbiAgICAgICAgICAgIGFfcmlnaHQ6IDM5XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIG1vdmVTID0gMTtcclxuICAgICAgICB2YXIgcm90YXRlUyA9IDAuMTtcclxuICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAudzpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLm1vdmVFeWUobW92ZVMsIHRoaXMuY2FtZXJhLnpfYXhpcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAucjpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLm1vdmVFeWUoLW1vdmVTLCB0aGlzLmNhbWVyYS56X2F4aXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5lOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEubW92ZUV5ZShtb3ZlUywgdGhpcy5jYW1lcmEueV9heGlzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5kOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEubW92ZUV5ZSgtbW92ZVMsIHRoaXMuY2FtZXJhLnlfYXhpcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAuczpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLm1vdmVFeWUoLW1vdmVTLCB0aGlzLmNhbWVyYS54X2F4aXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLmY6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5tb3ZlRXllKG1vdmVTLCB0aGlzLmNhbWVyYS54X2F4aXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5hX3VwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEuYWRkUGl0Y2gocm90YXRlUyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAuYV9kb3duOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEuYWRkUGl0Y2goLXJvdGF0ZVMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5hX2xlZnQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5hZGRZYXcoLXJvdGF0ZVMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLmFfcmlnaHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5hZGRZYXcocm90YXRlUyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOlsiZnJvbSIsImRpciIsInRoaXMiLCJweCIsInB5IiwicHoiLCJ4IiwieSIsInoiLCJjYWxjdWxhdGVfbm9ybWFsIiwidjAiLCJ2MSIsInYyIiwidjAxIiwiVmVjdG9yIiwibWludXMiLCJ2MDIiLCJjcm9zcyIsIm5vcm1hbGl6ZSIsImNhbGN1bGF0ZV9jZW50ZXIiLCJhZGQiLCJtdWx0aXBseSIsInV2IiwidSIsInYiLCJyZWZsZWN0IiwiSSIsIk4iLCJMIiwiZG90IiwiQSIsIkIiLCJzIiwibXVsdGlwbHkzIiwiZXF1YWwiLCJudW1iZXJfZXF1YWwiLCJsZXJwIiwidCIsImxlbmd0aCIsIk1hdGgiLCJzcXJ0IiwidGVtcCIsIm5lZ2F0aXZlIiwiY2xvbmUiLCJ1cCIsInplcm8iLCJ4QXhpcyIsInlBeGlzIiwiekF4aXMiLCJwb3NpdGlvbiIsInRyYW5zZm9ybVBvaW50IiwidHJhbnNmb3JtIiwicG9pbnQiLCJ2ZWN0b3JYIiwidmVjdG9yWSIsInZlY3RvcloiLCJ0cmFuc2Zvcm1WZWN0b3IiLCJ2ZXJ0ZXgiLCJ0cmFuc2Zvcm1UcmFuc2Zvcm0iLCJpbnB1dFRyYW5zZm9ybSIsIlRyYW5zZm9ybSIsInJvdGF0ZUJ5WiIsImRlZ3JlZSIsInJhZGlhbiIsImRlZ3JlZV90b19SYWQiLCJjIiwiY29zIiwic2luIiwicm90YXRlQnlZIiwicm90YXRlQnlYIiwib2Zmc2V0Iiwibm9ybWFsIiwiQyIsImlzX3Bvc2l0aXZlIiwidGVzdF9wIiwiZGlmZiIsImhpdCIsInJheSIsInJlc3VsdCIsIlBsYW5lIiwiaXNfaGl0IiwicGxhbmUiLCJoaXRfcG9zIiwiaSIsInB2MCIsInB2MSIsInB2MiIsIk1WUF9iYWNrZmFjZV9jdWxsaW5nX2NsaXBwaW5nIiwidHJpYW5nbGUiLCJwY2FtZXJhIiwid29ybGRUcmFuc2Zvcm0iLCJ2MF93IiwicCIsInYxX3ciLCJ2Ml93IiwidjBfYyIsInRvQ2FtZXJhU3BhY2UiLCJ2MV9jIiwidjJfYyIsInYwX3AiLCJ0b1Byb2plY3Rpb25TcGFjZSIsInYxX3AiLCJ2Ml9wIiwiY2VudGVyX3RvX2V5ZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGVfcCIsInVwZGF0ZV93IiwiVHJpYW5nbGUiLCJjbGlwX2luX1Byb2plY3Rpb25fU3BhY2UiLCJjbGlwIiwiaW5fbGlzdCIsInYwX291dCIsInYxX291dCIsInYyX291dCIsIm91dF9saXN0IiwicHVzaCIsIlQiLCJOYyIsIkZjIiwicHJvY2VzcyIsImxpc3QiLCJ0b05EQyIsInciLCJ2MF9zIiwidG9TY3JlZW5TcGFjZSIsInYxX3MiLCJ2Ml9zIiwidl9zIiwiZHJhdyIsImN0eCIsInRDb3VudCIsImluZGV4IiwibW92ZVRvIiwibGluZVRvIiwiZCIsIlBJIiwiYSIsImIiLCJhYnMiLCJnZXRfaGl0X3NvcnRfbGlzdCIsIm9ial9saXN0IiwibWFwIiwib2JqIiwiaCIsImZpbHRlciIsImluZm8iLCJzb3J0Iiwidl9jbGlwIiwiZ2V0Q3Jvc3NQb2ludCIsImNsaXBfZmlyc3RfaW4iLCJjbGlwX2ZpcnN0X291dCIsImNyb3NzMSIsImNyb3NzMiIsIm4iLCJidWlsZF92ZXJ0ZXgiLCJWZXJ0ZXgiLCJ0cmlhbmdsZXMiLCJtIiwicm90YXRlTWF0cml4IiwibjIiLCJ1cGRhdGUiLCJjYW1lcmEiLCJ0cmlhbmdsZXNfYWZ0ZXJfY2xpcCIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwic3Ryb2tlIiwiY29sb3IiLCJzaGFkaW5nIiwiaGl0X2luZm8iLCJkaXJlY3Rpb25fbGlnaHRfZGlyIiwiZGVwdGgiLCJzdHJlbmd0aCIsInNoYWRvd193ZWlnaHQiLCJnZXRfc2hhZG93X3dlaWdodCIsInllbGxvdyIsIkRpZmZ1c2UiLCJyZWQiLCJncmVlbiIsImJsdWUiLCJncmF5Iiwid2hpdGUiLCJleWUiLCJsb29rX2F0IiwiZm92X2RlZ3JlZSIsInNjcmVlblciLCJzY3JlZW5IIiwiRiIsIm1vdmVFeWUiLCJyYXRpbyIsInNjcmVlbkNlbnRlclgiLCJzY3JlZW5DZW50ZXJZIiwiaGFsZlciLCJoYWxmSCIsInpfYXhpcyIsImhlbHBfdiIsInhfYXhpcyIsInlfYXhpcyIsImFkZFBpdGNoIiwiYWRkWWF3IiwiY3JlYXRlX3JheV9kaXIiLCJ4X3dlaWdodCIsInlfd2VpZ2h0IiwiaGFsZl9mb3ZfcmFkIiwidGFuX2giLCJ0YW4iLCJ0YW5fdyIsImhhbGZfZm92IiwieV9zY2FsZSIsInhfc2NhbGUiLCJORENfQSIsInJlbmRlciIsInJlbmRlcl90YXJnZXQiLCJoYWxmX3BpeGVsX29mZnNldCIsIm11bHRpc2FtcGxlX2RpZmYiLCJyZW5kZXJfcGl4ZWwiLCJyYXlfZGlyIiwiY29sb3JzIiwiaGl0X3NvcnRfbGlzdCIsImNvdW50IiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJjdXJyZW50IiwiY2FtZXJhSW5kZXhfdmlldyIsImNhbWVyYUluZGV4X2NvbnRyb2wiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsImJveCIsIndpbmRvdyIsIm9ubG9hZCIsImluaXQiLCJkb2N1bWVudCIsIm9ua2V5ZG93biIsImtleVByb2MiLCJiaW5kIiwiY2FudmFzIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZXRDb250ZXh0Iiwic3RhcnQiLCJzdG9wIiwic3VtX3QiLCJEYXRlIiwibGFzdF90IiwiZ2V0VGltZSIsInRoYW5kbGUiLCJzZXRJbnRlcnZhbCIsImRyYXdTY2VuZSIsInJlc3VtZSIsImNsZWFySW50ZXJ2YWwiLCJjbGVhclJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIm9mZnNldE1hdHJpeCIsIm5vd0RlZ3JlZSIsImNvbWJpbmVNYXRyaXgiLCJldmVudCIsImtleUNvZGUiXSwic291cmNlUm9vdCI6IiJ9