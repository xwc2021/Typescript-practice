(()=>{"use strict";const t=function(t,e){this.from=t,this.dir=e};function e(t){return Math.PI*t/180}function n(t,e){return Math.abs(t-e)<.001}function i(t,e){return t.map((function(t){return t.h.hit(e,t.s)})).filter((function(t){return t.is_hit})).sort((function(t,e){return t.t-e.t}))}function r(t,e,n){return t+n*(e-t)}const s=function(){function t(t,e,n){this.x=0,this.y=0,this.z=0,this.x=t,this.y=e,this.z=n}return t.uv=function(e,n){return new t(e,n,0)},t.reflect=function(e,n){var i=-2*t.dot(e,n);return n.multiply(i).add(e)},t.add=function(e,n){return new t(n.x+e.x,n.y+e.y,n.z+e.z)},t.minus=function(e,n){return new t(e.x-n.x,e.y-n.y,e.z-n.z)},t.multiply=function(e,n){return new t(e.x*n,e.y*n,e.z*n)},t.multiply3=function(e,n){return new t(e.x*n.x,e.y*n.y,e.z*n.z)},t.cross=function(e,n){return new t(e.y*n.z-e.z*n.y,-e.x*n.z+e.z*n.x,e.x*n.y-e.y*n.x)},t.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},t.equal=function(t,e){return n(t.x,e.x)&&n(t.y,e.y)&&n(t.z,e.z)},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.normalize=function(){var t=this.length();return this.x=this.x/t,this.y=this.y/t,this.z=this.z/t,this},t.prototype.add=function(e){return t.add(this,e)},t.prototype.minus=function(e){return t.minus(this,e)},t.prototype.multiply=function(e){return t.multiply(this,e)},t.prototype.negative=function(){return t.multiply(this,-1)},t.prototype.clone=function(){return new t(this.x,this.y,this.z)},t.up=new t(0,1,0),t.zero=new t(0,0,0),t}(),o=function(){function t(t,e,n,i,r){this.p=new s(t,e,n),this.uv=new s(i,r,0)}return t.build_vertex=function(e,n){return new t(e.x,e.y,e.z,n.x,n.y)},t.prototype.copy=function(){return t.build_vertex(this.p,this.uv)},t}(),a=function(){function t(t,e,n,i){this.xAxis=t,this.yAxis=e,this.zAxis=n,this.position=i}return t.transformPoint=function(t,e){var n=t.xAxis.multiply(e.x),i=t.yAxis.multiply(e.y),r=t.zAxis.multiply(e.z);return t.position.add(n).add(i).add(r)},t.transformVector=function(t,e){var n=t.xAxis.multiply(e.x),i=t.yAxis.multiply(e.y),r=t.zAxis.multiply(e.z);return n.add(i).add(r)},t.transformTransform=function(e,n){return new t(t.transformVector(e,n.xAxis),t.transformVector(e,n.yAxis),t.transformVector(e,n.zAxis),t.transformPoint(e,n.position))},t.rotateByZ=function(n){var i=e(n),r=Math.cos(i),o=Math.sin(i);return new t(new s(r,o,0),new s(-o,r,0),new s(0,0,1),s.zero)},t.rotateByY=function(n){var i=e(n),r=Math.cos(i),o=Math.sin(i),a=new s(o,0,r);return new t(new s(r,0,-o),new s(0,1,0),a,s.zero)},t.rotateByX=function(n){var i=e(n),r=Math.cos(i),o=Math.sin(i);return new t(new s(1,0,0),new s(0,r,o),new s(0,-o,r),new s(0,0,0))},t.offset=function(e,n,i){return new t(new s(1,0,0),new s(0,1,0),new s(0,0,1),new s(e,n,i))},t}(),h=function(){function t(t,e,n){this.v0=t,this.v1=e,this.v2=n}return t.process=function(e,n,i){var h=a.transformPoint(i,e.v0.p),u=a.transformPoint(i,e.v1.p),c=a.transformPoint(i,e.v2.p),l=n.toCameraSpace(h),v=n.toCameraSpace(u),y=n.toCameraSpace(c),f=s.minus(v,l),p=s.minus(y,l),d=s.cross(f,p);d.normalize();var x=l.add(v).add(y).multiply(1/3),m=s.minus(s.zero,x);if(m.normalize(),s.dot(d,m)<=0)return null;for(var w=function(t,e){var n=[],i=function(t,e,n){var i=t.p,s=e.p,a=(n-i.z)/(s.z-i.z),h=r(i.x,s.x,a),u=r(i.y,s.y,a),c=t.uv,l=e.uv,v=r(c.x,l.x,a),y=r(c.y,l.y,a);return console.log("clip"),new o(h,u,n,v,y)},s=function(t,e,r){n[0]=t,n[1]=i(t,e,1),n[2]=i(t,r,1)},a=function(t,e,r){var s=i(r,t,1),o=i(t,e,1);n[0]=r,n[1]=s,n[2]=o,n[3]=r.copy(),n[4]=o,n[5]=e};return t.v0.p.z<1?t.v1.p.z<1?t.v2.p.z<1||s(t.v2,t.v0,t.v1):t.v2.p.z<1?s(t.v1,t.v2,t.v0):a(t.v0,t.v1,t.v2):t.v1.p.z<1?t.v2.p.z<1?s(t.v0,t.v1,t.v2):a(t.v1,t.v2,t.v0):t.v2.p.z<1?a(t.v2,t.v0,t.v1):(n[0]=t.v0,n[1]=t.v1,n[2]=t.v2),n}(new t(o.build_vertex(l,e.v0.uv),o.build_vertex(v,e.v1.uv),o.build_vertex(y,e.v2.uv))),_=[],z=0;z<w.length;++z)_[z]=n.toScreenSpace(w[z].p);return _},t.prototype.process=function(e,n){this.v_s=t.process(this,e,n)},t.prototype.draw=function(t){if(null!=this.v_s)for(var e=this.v_s.length/3,n=1;n<=e;++n){var i=3*n-1;t.moveTo(this.v_s[i].x,this.v_s[i].y),t.lineTo(this.v_s[i-2].x,this.v_s[i-2].y),t.lineTo(this.v_s[i-1].x,this.v_s[i-1].y),t.lineTo(this.v_s[i].x,this.v_s[i].y)}},t}(),u=function(){function t(){this.triangles=[],this.triangles.push(new h(o.build_vertex(new s(-10,-10,-10),s.uv(0,0)),o.build_vertex(new s(10,10,-10),s.uv(1,1)),o.build_vertex(new s(10,-10,-10),s.uv(1,0)))),this.triangles.push(new h(o.build_vertex(new s(-10,-10,-10),s.uv(0,0)),o.build_vertex(new s(-10,10,-10),s.uv(0,1)),o.build_vertex(new s(10,10,-10),s.uv(1,1))));for(var t=[a.rotateByY(90),a.rotateByY(180),a.rotateByY(270),a.rotateByX(90),a.rotateByX(-90)],e=0;e<t.length;++e){var n=t[e];this.triangles.push(new h(o.build_vertex(a.transformPoint(n,new s(-10,-10,-10)),s.uv(0,0)),o.build_vertex(a.transformPoint(n,new s(10,10,-10)),s.uv(1,1)),o.build_vertex(a.transformPoint(n,new s(10,-10,-10)),s.uv(1,0)))),this.triangles.push(new h(o.build_vertex(a.transformPoint(n,new s(-10,-10,-10)),s.uv(0,0)),o.build_vertex(a.transformPoint(n,new s(-10,10,-10)),s.uv(0,1)),o.build_vertex(a.transformPoint(n,new s(10,10,-10)),s.uv(1,1))))}}return t.prototype.update=function(t,e){this.triangles_after_clip=this.triangles;for(var n=0;n<this.triangles_after_clip.length;++n)this.triangles_after_clip[n].process(t,e)},t.prototype.draw=function(t){t.globalCompositeOperation="destination-over",t.strokeStyle="rgba(255,0,0,1)",t.beginPath();for(var e=0;e<this.triangles_after_clip.length;++e)this.triangles_after_clip[e].draw(t);t.stroke()},t}(),c=function(){function e(t){this.color=t}return e.prototype.shading=function(e,n,r,o){var a,h=e.normal,u=(0,(a=-s.dot(n,h))>1?1:a<0?0:a),c=function(e,n,r){var s=n.negative(),o=e.hit_pos.add(s.multiply(.001));return 0!=i(r,new t(o,s)).length?.45:1}(e,n,r);return this.color.multiply(u).multiply(c)},e.yellow=new e(new s(1,1,0)),e.red=new e(new s(1,0,0)),e.green=new e(new s(0,1,0)),e.blue=new e(new s(0,0,1)),e.gray=new e(new s(.5,.5,.5)),e.white=new e(new s(1,1,1)),e}(),l=function(){function n(t,n,i,r,o){this.moveEye=function(t,e){this.eye=s.add(this.eye,e.multiply(t))},this.toScreenSpace=function(t){var n=t.z,i=.5*e(this.fov_degree),r=1/Math.tan(i),o=1/(this.ratio*Math.tan(i)),a=t.x*o/n,h=t.y*r/n,u=this.halfW*a+this.screenCenterX,c=-this.halfH*h+this.screenCenterY;return new s(u,c,n)},this.ratio=r/o,this.screenW=r,this.screenH=o,this.screenCenterX=.5*this.screenW,this.screenCenterY=.5*this.screenH,this.halfW=.5*this.screenW,this.halfH=.5*this.screenH,this.z_axis=s.minus(n,t).normalize();var a=s.up;this.x_axis=s.cross(a,this.z_axis).normalize(),this.y_axis=s.cross(this.z_axis,this.x_axis),this.eye=t,this.fov_degree=i}return n.prototype.addPitch=function(t){},n.prototype.addYaw=function(t){},n.prototype.create_ray_dir=function(t,n,i){var r=e(.5*this.fov_degree),s=Math.tan(r),o=s*i;return this.z_axis.add(this.x_axis.multiply(t*o)).add(this.y_axis.multiply(n*s))},n.prototype.toCameraSpace=function(t){var e=t.minus(this.eye);return new s(s.dot(e,this.x_axis),s.dot(e,this.y_axis),s.dot(e,this.z_axis))},n.prototype.render=function(e,n){var r=this,o=new s(1,-1,0).normalize(),a=.5/e.h,h=[{x:0,y:0},{x:a,y:a},{x:-a,y:a},{x:-a,y:-a},{x:a,y:-a}];e.render_pixel((function(e,a,u){var l=r.create_ray_dir(e,a,u),v=h.map((function(e){var n=l.add(r.x_axis.multiply(e.x)).add(r.y_axis.multiply(e.y));return new t(r.eye,n.normalize())})).map((function(t){var e=i(n,t);if(0!=e.length){var r=e[0];return r.s.shading(r,o,n,1)}return c.gray.color})),y=h.length;return v.reduce((function(t,e){return t.add(e)}),s.zero).multiply(1/y)}))},n}();new(function(){function t(){var t=this;this.cameraIndex_view=1,this.cameraIndex_control=0,this.camera=null,this.screenWidth=800,this.screenHeight=600,this.box=null,window.onload=function(){t.init()},document.onkeydown=this.keyProc.bind(this)}return t.prototype.init=function(){var t=document.getElementById("canvas");t.style.width=this.screenWidth+"px",t.style.height=this.screenHeight+"px",t.width=t.clientWidth,t.height=t.clientHeight,this.ctx=t.getContext("2d"),this.box=new u,this.camera=new l(new s(0,50,-200),new s(0,0,0),60,this.screenWidth,this.screenHeight),this.start()},t.prototype.start=function(){var t=this;this.stop(),this.sum_t=0;var e=new Date;this.last_t=e.getTime(),this.thandle=window.setInterval((function(){t.drawScene()}),16)},t.prototype.resume=function(){var t=this,e=new Date;this.last_t=e.getTime(),this.thandle=window.setInterval((function(){t.drawScene()}),16)},t.prototype.stop=function(){window.clearInterval(this.thandle),this.thandle=null},t.prototype.drawScene=function(){var t=(new Date).getTime(),e=t-this.last_t;this.last_t=t,this.sum_t=this.sum_t+e,this.ctx.clearRect(0,0,this.screenWidth,this.screenHeight),this.ctx.beginPath(),this.ctx.fillStyle="rgba(180,30,15,0.1)",this.ctx.fillRect(0,0,this.screenWidth,this.screenHeight);var n=a.offset(0,0,0),i=this.sum_t/1e3*15%360,r=a.rotateByY(i),s=a.transformTransform(n,r);this.box.update(this.camera,s),this.box.draw(this.ctx),n=a.offset(150,0,0),r=a.rotateByY(i),s=a.transformTransform(r,n),this.box.update(this.camera,s),this.box.draw(this.ctx)},t.prototype.keyProc=function(t){switch(t.keyCode){case 87:this.camera.moveEye(1,this.camera.z_axis);break;case 82:this.camera.moveEye(-1,this.camera.z_axis);break;case 69:this.camera.moveEye(1,this.camera.y_axis);break;case 68:this.camera.moveEye(-1,this.camera.y_axis);break;case 83:this.camera.moveEye(-1,this.camera.x_axis);break;case 70:this.camera.moveEye(1,this.camera.x_axis);break;case 38:this.camera.addPitch(.1);break;case 40:this.camera.addPitch(-.1);break;case 37:this.camera.addYaw(-.1);break;case 39:this.camera.addYaw(.1)}},t}())})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0MsRUFBZ0IscUJBQTZCdkcsRUFBY3FHLEdBQzNEdE8sS0FBS3dNLElBQUl0RSxPQUFPbEksS0FBS21JLE9BQVFxRyxHQUM3QnhPLEtBQUt3TSxJQUFJaEYsS0FBS3hILEtBQUt5SCxNQUd2QixZQUFBcUYsUUFBQSxTQUFRMkIsR0FtQkosT0FBUUEsRUFBTUMsU0FDVixLQWpCRyxHQWtCQzFPLEtBQUttSSxPQUFPNEIsUUFKUixFQUl1Qi9KLEtBQUttSSxPQUFPd0MsUUFDdkMsTUFDSixLQW5CRyxHQW9CQzNLLEtBQUttSSxPQUFPNEIsU0FQUixFQU93Qi9KLEtBQUttSSxPQUFPd0MsUUFDeEMsTUFFSixLQXJCRyxHQXNCQzNLLEtBQUttSSxPQUFPNEIsUUFYUixFQVd1Qi9KLEtBQUttSSxPQUFPMkMsUUFDdkMsTUFDSixLQXZCRyxHQXdCQzlLLEtBQUttSSxPQUFPNEIsU0FkUixFQWN3Qi9KLEtBQUttSSxPQUFPMkMsUUFDeEMsTUFDSixLQXpCRyxHQTBCQzlLLEtBQUttSSxPQUFPNEIsU0FqQlIsRUFpQndCL0osS0FBS21JLE9BQU8wQyxRQUN4QyxNQUNKLEtBM0JHLEdBNEJDN0ssS0FBS21JLE9BQU80QixRQXBCUixFQW9CdUIvSixLQUFLbUksT0FBTzBDLFFBQ3ZDLE1BRUosS0E3Qk0sR0E4QkY3SyxLQUFLbUksT0FBTzRDLFNBdkJOLElBd0JOLE1BQ0osS0EvQlEsR0FnQ0ovSyxLQUFLbUksT0FBTzRDLFVBQVMsSUFDckIsTUFFSixLQWxDUSxHQW1DSi9LLEtBQUttSSxPQUFPNkMsUUFBTyxJQUNuQixNQUNKLEtBcENTLEdBcUNMaEwsS0FBS21JLE9BQU82QyxPQWpDTixNQXFDdEIsRUE1SUEsSyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9SYXkudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1Rvb2wudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1ZlY3Rvci50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVmVydGV4LnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9UcmFuc2Zvcm0udHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1RyaWFuZ2xlLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9Cb3gzRC50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGVyYWlscy9EaWZmdXNlLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9DYW1lcmEudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9tYWluLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvUmFzdGVyaXplckFwcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVmVjb3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYXkge1xyXG4gICAgZnJvbTogVmVjb3I7XHJcbiAgICBkaXI6IFZlY29yO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGZyb206IFZlY29yLCBkaXI6IFZlY29yKSB7XHJcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcclxuICAgICAgICB0aGlzLmRpciA9IGRpcjtcclxuICAgIH1cclxufTsiLCJpbXBvcnQgU2NlbmVOb2RlIGZyb20gXCIuLi9PYmplY3QvU2NlbmVOb2RlXCI7XHJcbmltcG9ydCBSYXkgZnJvbSBcIi4vUmF5XCI7XHJcbmltcG9ydCBIaXRJbmZvIGZyb20gXCIuL0hpdEluZm9cIjtcclxuaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IFRyaWFuZ2xlIGZyb20gXCIuL1RyaWFuZ2xlXCI7XHJcbmltcG9ydCBWZXJ0ZXggZnJvbSBcIi4vVmVydGV4XCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVncmVlX3RvX1JhZChkOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBNYXRoLlBJICogZCAvIDE4MDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBlcHNpbG9uOiBudW1iZXIgPSAwLjAwMTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJfZXF1YWwoYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBNYXRoLmFicyhhIC0gYikgPCBlcHNpbG9uO1xyXG59XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB4IGlucHV0XHJcbiAqIEBwYXJhbSBhIG1pbiBcclxuICogQHBhcmFtIGIgbWF4XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAoeDogbnVtYmVyLCBhOiBudW1iZXIsIGI6IG51bWJlcikge1xyXG4gICAgaWYgKHggPiBiKVxyXG4gICAgICAgIHJldHVybiBiO1xyXG4gICAgZWxzZSBpZiAoeCA8IGEpXHJcbiAgICAgICAgcmV0dXJuIGE7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRfaGl0X3NvcnRfbGlzdChvYmpfbGlzdDogU2NlbmVOb2RlW10sIHJheTogUmF5KSB7XHJcbiAgICBsZXQgaGl0X3NvcnRfbGlzdCA9IG9ial9saXN0Lm1hcChvYmogPT4gb2JqLmguaGl0KHJheSwgb2JqLnMpKVxyXG4gICAgICAgIC5maWx0ZXIoaW5mbyA9PiBpbmZvLmlzX2hpdClcclxuICAgICAgICAuc29ydCgoYTogSGl0SW5mbywgYjogSGl0SW5mbykgPT4gYS50IC0gYi50KTtcclxuXHJcbiAgICByZXR1cm4gaGl0X3NvcnRfbGlzdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldF9zaGFkb3dfd2VpZ2h0KGhpdF9pbmZvOiBIaXRJbmZvLCBkaXJlY3Rpb25fbGlnaHRfZGlyOiBWZWN0b3IsIG9ial9saXN0OiBTY2VuZU5vZGVbXSkge1xyXG5cclxuICAgIC8vIOaYr+WQpuWcqOW9seWtkOWFp1xyXG4gICAgbGV0IGRpciA9IGRpcmVjdGlvbl9saWdodF9kaXIubmVnYXRpdmUoKTtcclxuICAgIGxldCBmcm9tID0gaGl0X2luZm8uaGl0X3Bvcy5hZGQoZGlyLm11bHRpcGx5KGVwc2lsb24pKTsgLy8g5YGP56e75LiA5bCP5q616Led6Zui77yM6YG/5YWN5bCE5Lit6Ieq5bexXHJcbiAgICBsZXQgcmF5ID0gbmV3IFJheShmcm9tLCBkaXIpO1xyXG4gICAgbGV0IGhpdF9zb3J0X2xpc3QgPSBnZXRfaGl0X3NvcnRfbGlzdChvYmpfbGlzdCwgcmF5KTtcclxuICAgIGlmIChoaXRfc29ydF9saXN0Lmxlbmd0aCAhPSAwKSB7IC8vIOWcqOW9seWtkOWFp1xyXG4gICAgICAgIHJldHVybiAwLjQ1OyAvLyDkuI3opoHlpKrpu5FcclxuICAgIH0gZWxzZVxyXG4gICAgICAgIHJldHVybiAxO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGVycChhOiBudW1iZXIsIGI6IG51bWJlciwgdDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gYSArIHQgKiAoYiAtIGEpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xpcCh0cmlhbmdsZTogVHJpYW5nbGUsIG5lYXJQbGFuZVo6IG51bWJlcikge1xyXG5cclxuICAgIGxldCB2X2NsaXA6IFZlcnRleFtdID0gW107XHJcblxyXG4gICAgbGV0IGdldENyb3NzUG9pbnQgPSBmdW5jdGlvbiAodjA6IFZlcnRleCwgdjE6IFZlcnRleCwgcHo6IG51bWJlcikge1xyXG5cclxuICAgICAgICBsZXQgcHYwID0gdjAucDtcclxuICAgICAgICBsZXQgcHYxID0gdjEucDtcclxuICAgICAgICBsZXQgdCA9IChweiAtIHB2MC56KSAvIChwdjEueiAtIHB2MC56KTtcclxuICAgICAgICBsZXQgeCA9IGxlcnAocHYwLngsIHB2MS54LCB0KTtcclxuICAgICAgICBsZXQgeSA9IGxlcnAocHYwLnksIHB2MS55LCB0KTtcclxuXHJcbiAgICAgICAgLy8gdXbkuZ/opoHmj5LlgLxcclxuICAgICAgICBsZXQgdXYwID0gdjAudXY7XHJcbiAgICAgICAgbGV0IHV2MSA9IHYxLnV2O1xyXG4gICAgICAgIGxldCB1ID0gbGVycCh1djAueCwgdXYxLngsIHQpO1xyXG4gICAgICAgIGxldCB2ID0gbGVycCh1djAueSwgdXYxLnksIHQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjbGlwJylcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZXJ0ZXgoeCwgeSwgcHosIHUsIHYpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vcHZvIGluIFxyXG4gICAgbGV0IGNsaXBfZmlyc3RfaW4gPSBmdW5jdGlvbiAocHYwOiBWZXJ0ZXgsIHB2MTogVmVydGV4LCBwdjI6IFZlcnRleCkge1xyXG4gICAgICAgIC8vIDEgdHJpYW5nbGUgMSBvbmUgdHJpYW5nbGVcclxuICAgICAgICB2X2NsaXBbMF0gPSBwdjA7XHJcbiAgICAgICAgdl9jbGlwWzFdID0gZ2V0Q3Jvc3NQb2ludChwdjAsIHB2MSwgbmVhclBsYW5lWik7XHJcbiAgICAgICAgdl9jbGlwWzJdID0gZ2V0Q3Jvc3NQb2ludChwdjAsIHB2MiwgbmVhclBsYW5lWik7XHJcbiAgICB9XHJcblxyXG4gICAgLy9wdm8gb3V0XHJcbiAgICBsZXQgY2xpcF9maXJzdF9vdXQgPSBmdW5jdGlvbiAocHYwOiBWZXJ0ZXgsIHB2MTogVmVydGV4LCBwdjI6IFZlcnRleCkge1xyXG5cclxuICAgICAgICAvLyAxIHRyaWFuZ2xlIHRvIDIgdHJpYW5nbGVcclxuICAgICAgICBsZXQgY3Jvc3MxID0gZ2V0Q3Jvc3NQb2ludChwdjIsIHB2MCwgbmVhclBsYW5lWik7XHJcbiAgICAgICAgbGV0IGNyb3NzMiA9IGdldENyb3NzUG9pbnQocHYwLCBwdjEsIG5lYXJQbGFuZVopO1xyXG5cclxuICAgICAgICB2X2NsaXBbMF0gPSBwdjI7XHJcbiAgICAgICAgdl9jbGlwWzFdID0gY3Jvc3MxO1xyXG4gICAgICAgIHZfY2xpcFsyXSA9IGNyb3NzMjtcclxuXHJcbiAgICAgICAgdl9jbGlwWzNdID0gcHYyLmNvcHkoKTtcclxuICAgICAgICB2X2NsaXBbNF0gPSBjcm9zczI7XHJcbiAgICAgICAgdl9jbGlwWzVdID0gcHYxO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyDmnIk456iu5oOF5rOBXHJcbiAgICBpZiAodHJpYW5nbGUudjAucC56IDwgbmVhclBsYW5lWikvL291dFxyXG4gICAge1xyXG4gICAgICAgIGlmICh0cmlhbmdsZS52MS5wLnogPCBuZWFyUGxhbmVaKSAvL291dCBvdXRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0cmlhbmdsZS52Mi5wLnogPCBuZWFyUGxhbmVaKS8vZnVsbCBvdXQgb2YgbmVhclBsYW5lWiAobm8gY2xpcClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Z1bGwgb3V0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSAvL291dCBvdXQgaW5cclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3RfaW4odHJpYW5nbGUudjIsIHRyaWFuZ2xlLnYwLCB0cmlhbmdsZS52MSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgLy9vdXQgaW4gXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodHJpYW5nbGUudjIucC56IDwgbmVhclBsYW5lWikvL291dCBpbiBvdXRcclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3RfaW4odHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyLCB0cmlhbmdsZS52MCk7XHJcbiAgICAgICAgICAgIGVsc2UgLy8gb3V0IGluIGluXHJcbiAgICAgICAgICAgICAgICBjbGlwX2ZpcnN0X291dCh0cmlhbmdsZS52MCwgdHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIC8vIGluXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRyaWFuZ2xlLnYxLnAueiA8IG5lYXJQbGFuZVopLy8gaW4gb3V0IFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHRyaWFuZ2xlLnYyLnAueiA8IG5lYXJQbGFuZVopLy8gaW4gb3V0IG91dFxyXG4gICAgICAgICAgICAgICAgY2xpcF9maXJzdF9pbih0cmlhbmdsZS52MCwgdHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyKTtcclxuICAgICAgICAgICAgZWxzZSAvLyBpbiBvdXQgaW5cclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3Rfb3V0KHRyaWFuZ2xlLnYxLCB0cmlhbmdsZS52MiwgdHJpYW5nbGUudjApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIC8vIGluIGluXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodHJpYW5nbGUudjIucC56IDwgbmVhclBsYW5lWikvLyBpbiBpbiBvdXRcclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3Rfb3V0KHRyaWFuZ2xlLnYyLCB0cmlhbmdsZS52MCwgdHJpYW5nbGUudjEpO1xyXG4gICAgICAgICAgICBlbHNlIC8vIGluIGluIGluIChubyBjbGlwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2X2NsaXBbMF0gPSB0cmlhbmdsZS52MDtcclxuICAgICAgICAgICAgICAgIHZfY2xpcFsxXSA9IHRyaWFuZ2xlLnYxO1xyXG4gICAgICAgICAgICAgICAgdl9jbGlwWzJdID0gdHJpYW5nbGUudjI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHZfY2xpcDtcclxufSIsImltcG9ydCB7IG51bWJlcl9lcXVhbCB9IGZyb20gJy4vVG9vbCdcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZWN0b3Ige1xyXG5cclxuICAgIHN0YXRpYyB1dih1OiBudW1iZXIsIHY6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHUsIHYsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB1cCA9IG5ldyBWZWN0b3IoMCwgMSwgMCk7XHJcbiAgICBzdGF0aWMgemVybyA9IG5ldyBWZWN0b3IoMCwgMCwgMCk7XHJcblxyXG4gICAgc3RhdGljIHJlZmxlY3QoSTogVmVjdG9yLCBOOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgTCA9IC0yICogVmVjdG9yLmRvdChJLCBOKVxyXG4gICAgICAgIHJldHVybiBOLm11bHRpcGx5KEwpLmFkZChJKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKEIueCArIEEueCwgQi55ICsgQS55LCBCLnogKyBBLnopO1xyXG4gICAgICAgIHJldHVybiB0ZW1wXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG1pbnVzKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKEEueCAtIEIueCwgQS55IC0gQi55LCBBLnogLSBCLnopO1xyXG4gICAgICAgIHJldHVybiB0ZW1wXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG11bHRpcGx5KEE6IFZlY3RvciwgczogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKEEueCAqIHMsIEEueSAqIHMsIEEueiAqIHMpO1xyXG4gICAgICAgIHJldHVybiB0ZW1wXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG11bHRpcGx5MyhBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKEEueCAqIEIueCwgQS55ICogQi55LCBBLnogKiBCLnopO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcm9zcyhBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCB0ZW1wID0gbmV3IFZlY3RvcihBLnkgKiBCLnogLSBBLnogKiBCLnksIC1BLnggKiBCLnogKyBBLnogKiBCLngsIEEueCAqIEIueSAtIEEueSAqIEIueCk7XHJcbiAgICAgICAgcmV0dXJuIHRlbXA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRvdChBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBBLnggKiBCLnggKyBBLnkgKiBCLnkgKyBBLnogKiBCLno7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGVxdWFsKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bWJlcl9lcXVhbChBLngsIEIueCkgJiYgbnVtYmVyX2VxdWFsKEEueSwgQi55KSAmJiBudW1iZXJfZXF1YWwoQS56LCBCLnopO1xyXG4gICAgfVxyXG5cclxuICAgIHg6IG51bWJlciA9IDA7XHJcbiAgICB5OiBudW1iZXIgPSAwO1xyXG4gICAgejogbnVtYmVyID0gMDtcclxuICAgIGNvbnN0cnVjdG9yKHB4OiBudW1iZXIsIHB5OiBudW1iZXIsIHB6OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnggPSBweDtcclxuICAgICAgICB0aGlzLnkgPSBweTtcclxuICAgICAgICB0aGlzLnogPSBwejtcclxuICAgIH1cclxuXHJcbiAgICBsZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopO1xyXG4gICAgfVxyXG5cclxuICAgIG5vcm1hbGl6ZSgpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IHRoaXMubGVuZ3RoKCk7XHJcbiAgICAgICAgdGhpcy54ID0gdGhpcy54IC8gdGVtcDtcclxuICAgICAgICB0aGlzLnkgPSB0aGlzLnkgLyB0ZW1wO1xyXG4gICAgICAgIHRoaXMueiA9IHRoaXMueiAvIHRlbXA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkKEE6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuYWRkKHRoaXMsIEEpO1xyXG4gICAgfVxyXG5cclxuICAgIG1pbnVzKEE6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IubWludXModGhpcywgQSk7XHJcbiAgICB9XHJcblxyXG4gICAgbXVsdGlwbHkoczogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5tdWx0aXBseSh0aGlzLCBzKTtcclxuICAgIH1cclxuXHJcbiAgICBuZWdhdGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLm11bHRpcGx5KHRoaXMsIC0xKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih0aGlzLngsIHRoaXMueSwgdGhpcy56KTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgVmVjdG9yIGZyb20gJy4vVmVjdG9yJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVydGV4IHtcclxuICAgIHN0YXRpYyBidWlsZF92ZXJ0ZXgocDogVmVjdG9yLCB1djogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHZlcnRleCA9IG5ldyBWZXJ0ZXgocC54LCBwLnksIHAueiwgdXYueCwgdXYueSk7XHJcbiAgICAgICAgcmV0dXJuIHZlcnRleDtcclxuICAgIH1cclxuXHJcbiAgICBwOiBWZWN0b3I7XHJcbiAgICB1djogVmVjdG9yO1xyXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciwgdTogbnVtYmVyLCB2OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnAgPSBuZXcgVmVjdG9yKHgsIHksIHopO1xyXG4gICAgICAgIHRoaXMudXYgPSBuZXcgVmVjdG9yKHUsIHYsIDApO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgY29weSgpIHtcclxuICAgICAgICByZXR1cm4gVmVydGV4LmJ1aWxkX3ZlcnRleCh0aGlzLnAsIHRoaXMudXYpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IHsgZGVncmVlX3RvX1JhZCB9IGZyb20gJy4vVG9vbCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zZm9ybSB7XHJcbiAgICB4QXhpczogVmVjdG9yO1xyXG4gICAgeUF4aXM6IFZlY3RvcjtcclxuICAgIHpBeGlzOiBWZWN0b3I7XHJcbiAgICBwb3NpdGlvbjogVmVjdG9yO1xyXG4gICAgY29uc3RydWN0b3IoeEF4aXM6IFZlY3RvciwgeUF4aXM6IFZlY3RvciwgekF4aXM6IFZlY3RvciwgcG9zaXRpb246IFZlY3Rvcikge1xyXG4gICAgICAgIHRoaXMueEF4aXMgPSB4QXhpcztcclxuICAgICAgICB0aGlzLnlBeGlzID0geUF4aXM7XHJcbiAgICAgICAgdGhpcy56QXhpcyA9IHpBeGlzO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdHJhbnNmb3JtUG9pbnQodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHBvaW50OiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgdmVjdG9yWCA9IHRyYW5zZm9ybS54QXhpcy5tdWx0aXBseShwb2ludC54KTtcclxuICAgICAgICBsZXQgdmVjdG9yWSA9IHRyYW5zZm9ybS55QXhpcy5tdWx0aXBseShwb2ludC55KTtcclxuICAgICAgICBsZXQgdmVjdG9yWiA9IHRyYW5zZm9ybS56QXhpcy5tdWx0aXBseShwb2ludC56KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybS5wb3NpdGlvbi5hZGQodmVjdG9yWCkuYWRkKHZlY3RvclkpLmFkZCh2ZWN0b3JaKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdHJhbnNmb3JtVmVjdG9yKHRyYW5zZm9ybTogVHJhbnNmb3JtLCB2ZXJ0ZXg6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCB2ZWN0b3JYID0gdHJhbnNmb3JtLnhBeGlzLm11bHRpcGx5KHZlcnRleC54KTtcclxuICAgICAgICBsZXQgdmVjdG9yWSA9IHRyYW5zZm9ybS55QXhpcy5tdWx0aXBseSh2ZXJ0ZXgueSk7XHJcbiAgICAgICAgbGV0IHZlY3RvclogPSB0cmFuc2Zvcm0uekF4aXMubXVsdGlwbHkodmVydGV4LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gdmVjdG9yWC5hZGQodmVjdG9yWSkuYWRkKHZlY3RvclopO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB0cmFuc2Zvcm1UcmFuc2Zvcm0odHJhbnNmb3JtOiBUcmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVZlY3Rvcih0cmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtLnhBeGlzKSxcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVZlY3Rvcih0cmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtLnlBeGlzKSxcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVZlY3Rvcih0cmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtLnpBeGlzKSxcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHRyYW5zZm9ybSwgaW5wdXRUcmFuc2Zvcm0ucG9zaXRpb24pLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJvdGF0ZUJ5WihkZWdyZWU6IG51bWJlcikge1xyXG4gICAgICAgIGxldCByYWRpYW4gPSBkZWdyZWVfdG9fUmFkKGRlZ3JlZSk7XHJcbiAgICAgICAgbGV0IGMgPSBNYXRoLmNvcyhyYWRpYW4pLCBzID0gTWF0aC5zaW4ocmFkaWFuKTtcclxuICAgICAgICBsZXQgeEF4aXMgPSBuZXcgVmVjdG9yKGMsIHMsIDApO1xyXG4gICAgICAgIGxldCB5QXhpcyA9IG5ldyBWZWN0b3IoLXMsIGMsIDApO1xyXG4gICAgICAgIGxldCB6QXhpcyA9IG5ldyBWZWN0b3IoMCwgMCwgMSk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtKFxyXG4gICAgICAgICAgICB4QXhpcyxcclxuICAgICAgICAgICAgeUF4aXMsXHJcbiAgICAgICAgICAgIHpBeGlzLFxyXG4gICAgICAgICAgICBWZWN0b3IuemVybyxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByb3RhdGVCeVkoZGVncmVlOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgcmFkaWFuID0gZGVncmVlX3RvX1JhZChkZWdyZWUpO1xyXG4gICAgICAgIGxldCBjID0gTWF0aC5jb3MocmFkaWFuKSwgcyA9IE1hdGguc2luKHJhZGlhbik7XHJcbiAgICAgICAgbGV0IHpBeGlzID0gbmV3IFZlY3RvcihzLCAwLCBjKTtcclxuICAgICAgICBsZXQgeEF4aXMgPSBuZXcgVmVjdG9yKGMsIDAsIC1zKTtcclxuICAgICAgICBsZXQgeUF4aXMgPSBuZXcgVmVjdG9yKDAsIDEsIDApO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgeEF4aXMsXHJcbiAgICAgICAgICAgIHlBeGlzLFxyXG4gICAgICAgICAgICB6QXhpcyxcclxuICAgICAgICAgICAgVmVjdG9yLnplcm8sXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcm90YXRlQnlYKGRlZ3JlZTogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHJhZGlhbiA9IGRlZ3JlZV90b19SYWQoZGVncmVlKTtcclxuICAgICAgICBsZXQgYyA9IE1hdGguY29zKHJhZGlhbiksIHMgPSBNYXRoLnNpbihyYWRpYW4pO1xyXG4gICAgICAgIGxldCB4QXhpcyA9IG5ldyBWZWN0b3IoMSwgMCwgMCk7XHJcbiAgICAgICAgbGV0IHlBeGlzID0gbmV3IFZlY3RvcigwLCBjLCBzKTtcclxuICAgICAgICBsZXQgekF4aXMgPSBuZXcgVmVjdG9yKDAsIC1zLCBjKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm0oXHJcbiAgICAgICAgICAgIHhBeGlzLFxyXG4gICAgICAgICAgICB5QXhpcyxcclxuICAgICAgICAgICAgekF4aXMsXHJcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoMCwgMCwgMCksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgb2Zmc2V0KHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigxLCAwLCAwKSxcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigwLCAxLCAwKSxcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigwLCAwLCAxKSxcclxuICAgICAgICAgICAgbmV3IFZlY3Rvcih4LCB5LCB6KSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG4iLCJpbXBvcnQgVHJhbnNmb3JtIGZyb20gJy4vVHJhbnNmb3JtJztcclxuaW1wb3J0IFZlY3RvciBmcm9tICcuL1ZlY3RvcidcclxuaW1wb3J0IFZlcnRleCBmcm9tICcuL1ZlcnRleCdcclxuaW1wb3J0IHsgY2xpcCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9DYW1lcmEnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJpYW5nbGUge1xyXG5cclxuICAgIHN0YXRpYyBwcm9jZXNzKHRyaWFuZ2xlOiBUcmlhbmdsZSwgcGNhbWVyYTogQ2FtZXJhLCB3b3JsZFRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XHJcblxyXG4gICAgICAgIC8vIHRvIHdvcmxkIHNwYWNlXHJcbiAgICAgICAgbGV0IHYwX3cgPSBUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQod29ybGRUcmFuc2Zvcm0sIHRyaWFuZ2xlLnYwLnApO1xyXG4gICAgICAgIGxldCB2MV93ID0gVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHdvcmxkVHJhbnNmb3JtLCB0cmlhbmdsZS52MS5wKTtcclxuICAgICAgICBsZXQgdjJfdyA9IFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludCh3b3JsZFRyYW5zZm9ybSwgdHJpYW5nbGUudjIucCk7XHJcblxyXG4gICAgICAgIC8vIHRvIGNhbWVyYSBzcGFjZVxyXG4gICAgICAgIGxldCB2MF9jID0gcGNhbWVyYS50b0NhbWVyYVNwYWNlKHYwX3cpO1xyXG4gICAgICAgIGxldCB2MV9jID0gcGNhbWVyYS50b0NhbWVyYVNwYWNlKHYxX3cpO1xyXG4gICAgICAgIGxldCB2Ml9jID0gcGNhbWVyYS50b0NhbWVyYVNwYWNlKHYyX3cpO1xyXG5cclxuICAgICAgICAvL2JhY2sgZmFjZSBjdWxsaW5nXHJcbiAgICAgICAgbGV0IHYwMSA9IFZlY3Rvci5taW51cyh2MV9jLCB2MF9jKTtcclxuICAgICAgICBsZXQgdjAyID0gVmVjdG9yLm1pbnVzKHYyX2MsIHYwX2MpO1xyXG4gICAgICAgIGxldCBub3JtYWwgPSBWZWN0b3IuY3Jvc3ModjAxLCB2MDIpO1xyXG4gICAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTtcclxuXHJcbiAgICAgICAgbGV0IGNlbnRlciA9IHYwX2MuYWRkKHYxX2MpLmFkZCh2Ml9jKS5tdWx0aXBseSgxIC8gMyk7XHJcbiAgICAgICAgbGV0IGNlbnRlcl90b19leWUgPSBWZWN0b3IubWludXMoVmVjdG9yLnplcm8sIGNlbnRlcik7XHJcbiAgICAgICAgY2VudGVyX3RvX2V5ZS5ub3JtYWxpemUoKTtcclxuICAgICAgICBsZXQgY29zX3ZhbHVlID0gVmVjdG9yLmRvdChub3JtYWwsIGNlbnRlcl90b19leWUpOztcclxuICAgICAgICBpZiAoY29zX3ZhbHVlIDw9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDph43mlrDntoHlrpp1dlxyXG4gICAgICAgIGxldCB2MF9jX3V2ID0gVmVydGV4LmJ1aWxkX3ZlcnRleCh2MF9jLCB0cmlhbmdsZS52MC51dik7XHJcbiAgICAgICAgbGV0IHYxX2NfdXYgPSBWZXJ0ZXguYnVpbGRfdmVydGV4KHYxX2MsIHRyaWFuZ2xlLnYxLnV2KTtcclxuICAgICAgICBsZXQgdjJfY191diA9IFZlcnRleC5idWlsZF92ZXJ0ZXgodjJfYywgdHJpYW5nbGUudjIudXYpO1xyXG5cclxuICAgICAgICAvL2RvIG9ubHkgbmVhclBsYW5lIGNsaXBcclxuICAgICAgICBsZXQgbmVhclBsYW5lWiA9IDE7XHJcbiAgICAgICAgbGV0IHZfY2xpcCA9IGNsaXAobmV3IFRyaWFuZ2xlKHYwX2NfdXYsIHYxX2NfdXYsIHYyX2NfdXYpLCBuZWFyUGxhbmVaKTtcclxuXHJcbiAgICAgICAgLy8gdG8gc2NyZWVuIHNwYWNlXHJcbiAgICAgICAgbGV0IHZfczogVmVjdG9yW10gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZfY2xpcC5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB2X3NbaV0gPSBwY2FtZXJhLnRvU2NyZWVuU3BhY2Uodl9jbGlwW2ldLnApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdl9zO1xyXG4gICAgfVxyXG5cclxuICAgIHYwOiBWZXJ0ZXg7XHJcbiAgICB2MTogVmVydGV4O1xyXG4gICAgdjI6IFZlcnRleDtcclxuICAgIGNvbnN0cnVjdG9yKHB2MDogVmVydGV4LCBwdjE6IFZlcnRleCwgcHYyOiBWZXJ0ZXgpIHtcclxuICAgICAgICB0aGlzLnYwID0gcHYwO1xyXG4gICAgICAgIHRoaXMudjEgPSBwdjE7XHJcbiAgICAgICAgdGhpcy52MiA9IHB2MjtcclxuICAgIH1cclxuXHJcbiAgICB2X3M6IFZlY3RvcltdO1xyXG4gICAgcHJvY2VzcyhwY2FtZXJhOiBDYW1lcmEsIHdvcmxkVHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcclxuICAgICAgICB0aGlzLnZfcyA9IFRyaWFuZ2xlLnByb2Nlc3ModGhpcywgcGNhbWVyYSwgd29ybGRUcmFuc2Zvcm0pO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBpZiAodGhpcy52X3MgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgdENvdW50ID0gdGhpcy52X3MubGVuZ3RoIC8gMztcclxuICAgICAgICBmb3IgKGxldCBjID0gMTsgYyA8PSB0Q291bnQ7ICsrYykge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSAzICogYyAtIDE7XHJcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8odGhpcy52X3NbaW5kZXhdLngsIHRoaXMudl9zW2luZGV4XS55KTtcclxuICAgICAgICAgICAgY3R4LmxpbmVUbyh0aGlzLnZfc1tpbmRleCAtIDJdLngsIHRoaXMudl9zW2luZGV4IC0gMl0ueSk7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8odGhpcy52X3NbaW5kZXggLSAxXS54LCB0aGlzLnZfc1tpbmRleCAtIDFdLnkpO1xyXG4gICAgICAgICAgICBjdHgubGluZVRvKHRoaXMudl9zW2luZGV4XS54LCB0aGlzLnZfc1tpbmRleF0ueSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgVmVydGV4IGZyb20gJy4vVmVydGV4J1xyXG5pbXBvcnQgVHJpYW5nbGUgZnJvbSAnLi9UcmlhbmdsZSc7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSAnLi9WZWN0b3InO1xyXG5pbXBvcnQgVHJhbnNmb3JtIGZyb20gJy4vVHJhbnNmb3JtJztcclxuaW1wb3J0IHsgY2xpcCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9DYW1lcmEnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm94IHtcclxuICAgIHRyaWFuZ2xlczogVHJpYW5nbGVbXTtcclxuICAgIHRyaWFuZ2xlc19hZnRlcl9jbGlwOiBUcmlhbmdsZVtdO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLy8g5bu656uL5q2j5pa56auU6aCC6bue6LOH5paZXHJcbiAgICAgICAgdGhpcy50cmlhbmdsZXMgPSBbXTtcclxuICAgICAgICAvL+mghuaZgumHnVxyXG4gICAgICAgIHRoaXMudHJpYW5nbGVzLnB1c2goXHJcbiAgICAgICAgICAgIG5ldyBUcmlhbmdsZShcclxuICAgICAgICAgICAgICAgIFZlcnRleC5idWlsZF92ZXJ0ZXgobmV3IFZlY3RvcigtMTAsIC0xMCwgLTEwKSwgVmVjdG9yLnV2KDAsIDApKSxcclxuICAgICAgICAgICAgICAgIFZlcnRleC5idWlsZF92ZXJ0ZXgobmV3IFZlY3RvcigxMCwgMTAsIC0xMCksIFZlY3Rvci51digxLCAxKSksXHJcbiAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KG5ldyBWZWN0b3IoMTAsIC0xMCwgLTEwKSwgVmVjdG9yLnV2KDEsIDApKVxyXG4gICAgICAgICAgICApKTtcclxuICAgICAgICB0aGlzLnRyaWFuZ2xlcy5wdXNoKFxyXG4gICAgICAgICAgICBuZXcgVHJpYW5nbGUoXHJcbiAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KG5ldyBWZWN0b3IoLTEwLCAtMTAsIC0xMCksIFZlY3Rvci51digwLCAwKSksXHJcbiAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KG5ldyBWZWN0b3IoLTEwLCAxMCwgLTEwKSwgVmVjdG9yLnV2KDAsIDEpKSxcclxuICAgICAgICAgICAgICAgIFZlcnRleC5idWlsZF92ZXJ0ZXgobmV3IFZlY3RvcigxMCwgMTAsIC0xMCksIFZlY3Rvci51digxLCAxKSlcclxuICAgICAgICAgICAgKSk7XHJcblxyXG4gICAgICAgIGxldCBtID0gW1RyYW5zZm9ybS5yb3RhdGVCeVkoOTApLCBUcmFuc2Zvcm0ucm90YXRlQnlZKDE4MCksIFRyYW5zZm9ybS5yb3RhdGVCeVkoMjcwKSwgVHJhbnNmb3JtLnJvdGF0ZUJ5WCg5MCksIFRyYW5zZm9ybS5yb3RhdGVCeVgoLTkwKV1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG0ubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgbGV0IHJvdGF0ZU1hdHJpeCA9IG1baV1cclxuICAgICAgICAgICAgdGhpcy50cmlhbmdsZXMucHVzaChcclxuICAgICAgICAgICAgICAgIG5ldyBUcmlhbmdsZShcclxuICAgICAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludChyb3RhdGVNYXRyaXgsIG5ldyBWZWN0b3IoLTEwLCAtMTAsIC0xMCkpLCBWZWN0b3IudXYoMCwgMCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIFZlcnRleC5idWlsZF92ZXJ0ZXgoVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHJvdGF0ZU1hdHJpeCwgbmV3IFZlY3RvcigxMCwgMTAsIC0xMCkpLCBWZWN0b3IudXYoMSwgMSkpLFxyXG4gICAgICAgICAgICAgICAgICAgIFZlcnRleC5idWlsZF92ZXJ0ZXgoVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHJvdGF0ZU1hdHJpeCwgbmV3IFZlY3RvcigxMCwgLTEwLCAtMTApKSwgVmVjdG9yLnV2KDEsIDApKVxyXG4gICAgICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgICAgIHRoaXMudHJpYW5nbGVzLnB1c2goXHJcbiAgICAgICAgICAgICAgICBuZXcgVHJpYW5nbGUoXHJcbiAgICAgICAgICAgICAgICAgICAgVmVydGV4LmJ1aWxkX3ZlcnRleChUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQocm90YXRlTWF0cml4LCBuZXcgVmVjdG9yKC0xMCwgLTEwLCAtMTApKSwgVmVjdG9yLnV2KDAsIDApKSxcclxuICAgICAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludChyb3RhdGVNYXRyaXgsIG5ldyBWZWN0b3IoLTEwLCAxMCwgLTEwKSksIFZlY3Rvci51digwLCAxKSksXHJcbiAgICAgICAgICAgICAgICAgICAgVmVydGV4LmJ1aWxkX3ZlcnRleChUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQocm90YXRlTWF0cml4LCBuZXcgVmVjdG9yKDEwLCAxMCwgLTEwKSksIFZlY3Rvci51digxLCAxKSlcclxuICAgICAgICAgICAgICAgICkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoY2FtZXJhOiBDYW1lcmEsIHdvcmxkVHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcclxuXHJcbiAgICAgICAgLy8gdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcCA9IFtdO1xyXG4gICAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cmlhbmdsZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAvLyAgICAgbGV0IHRyaWFuZ2xlID0gdGhpcy50cmlhbmdsZXNbaV07XHJcbiAgICAgICAgLy8gICAgIGxldCBuZWFyUGxhbmVaID0gMTtcclxuICAgICAgICAvLyAgICAgbGV0IHZfY2xpcCA9IGNsaXAodHJpYW5nbGUsIG5lYXJQbGFuZVopO1xyXG5cclxuICAgICAgICAvLyAgICAgbGV0IGNvdW50ID0gdl9jbGlwLmxlbmd0aCAvIDM7XHJcbiAgICAgICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKGksIGNvdW50KTtcclxuICAgICAgICAvLyAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBjb3VudDsgKytrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAvLyDntYTlkIjkuInop5LlvaJcclxuICAgICAgICAvLyAgICAgICAgIGxldCBuZXdfdHJpYW5nbGUgPSBuZXcgVHJpYW5nbGUodl9jbGlwW2sgKiAzXSwgdl9jbGlwW2sgKiAzICsgMV0sIHZfY2xpcFtrICogMyArIDJdKTtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMudHJpYW5nbGVzX2FmdGVyX2NsaXAucHVzaChuZXdfdHJpYW5nbGUpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHRoaXMudHJpYW5nbGVzX2FmdGVyX2NsaXAgPSB0aGlzLnRyaWFuZ2xlcztcclxuXHJcbiAgICAgICAgLy8g6JmV55CG5q2j5pa56auU55qE6K6K5o+bXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyaWFuZ2xlc19hZnRlcl9jbGlwLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJpYW5nbGVzX2FmdGVyX2NsaXBbaV0ucHJvY2VzcyhjYW1lcmEsIHdvcmxkVHJhbnNmb3JtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIC8vIOeVq+S4ieinkuW9olxyXG4gICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tb3Zlcic7XHJcblxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwwLDAsMSknO1xyXG5cclxuXHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJpYW5nbGVzX2FmdGVyX2NsaXAubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcFtpXS5kcmF3KGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBWZWN0b3IgZnJvbSBcIi4uL01hdGgvVmVjdG9yXCI7XHJcbmltcG9ydCBIaXRJbmZvIGZyb20gXCIuLi9NYXRoL0hpdEluZm9cIjtcclxuaW1wb3J0IHsgY2xhbXAsIGdldF9zaGFkb3dfd2VpZ2h0IH0gZnJvbSBcIi4uL01hdGgvVG9vbFwiO1xyXG5pbXBvcnQgU2hhZGVyIGZyb20gXCIuL1NoYWRlclwiO1xyXG5pbXBvcnQgU2NlbmVOb2RlIGZyb20gXCIuLi9PYmplY3QvU2NlbmVOb2RlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaWZmdXNlIGltcGxlbWVudHMgU2hhZGVyIHtcclxuICAgIHN0YXRpYyB5ZWxsb3cgPSBuZXcgRGlmZnVzZShuZXcgVmVjdG9yKDEsIDEsIDApKTtcclxuICAgIHN0YXRpYyByZWQgPSBuZXcgRGlmZnVzZShuZXcgVmVjdG9yKDEsIDAsIDApKTtcclxuICAgIHN0YXRpYyBncmVlbiA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMCwgMSwgMCkpO1xyXG4gICAgc3RhdGljIGJsdWUgPSBuZXcgRGlmZnVzZShuZXcgVmVjdG9yKDAsIDAsIDEpKTtcclxuICAgIHN0YXRpYyBncmF5ID0gbmV3IERpZmZ1c2UobmV3IFZlY3RvcigwLjUsIDAuNSwgMC41KSk7XHJcbiAgICBzdGF0aWMgd2hpdGUgPSBuZXcgRGlmZnVzZShuZXcgVmVjdG9yKDEsIDEsIDEpKTtcclxuXHJcbiAgICBjb2xvcjogVmVjdG9yO1xyXG4gICAgY29uc3RydWN0b3IoY29sb3I6IFZlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBzaGFkaW5nKGhpdF9pbmZvOiBIaXRJbmZvLCBkaXJlY3Rpb25fbGlnaHRfZGlyOiBWZWN0b3IsIG9ial9saXN0OiBTY2VuZU5vZGVbXSwgZGVwdGg6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBuID0gaGl0X2luZm8ubm9ybWFsO1xyXG4gICAgICAgIGxldCBzdHJlbmd0aCA9IGNsYW1wKC1WZWN0b3IuZG90KGRpcmVjdGlvbl9saWdodF9kaXIsIG4pLCAwLCAxKTtcclxuXHJcbiAgICAgICAgbGV0IHNoYWRvd193ZWlnaHQgPSBnZXRfc2hhZG93X3dlaWdodChoaXRfaW5mbywgZGlyZWN0aW9uX2xpZ2h0X2Rpciwgb2JqX2xpc3QpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbG9yLm11bHRpcGx5KHN0cmVuZ3RoKS5tdWx0aXBseShzaGFkb3dfd2VpZ2h0KTtcclxuICAgIH1cclxufSIsImltcG9ydCBWZWN0b3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcbmltcG9ydCBSYXkgZnJvbSBcIi4vUmF5XCI7XHJcbmltcG9ydCB7IGRlZ3JlZV90b19SYWQsIGdldF9oaXRfc29ydF9saXN0IH0gZnJvbSBcIi4vVG9vbFwiXHJcbmltcG9ydCBSZW5kZXJUYXJnZXQgZnJvbSBcIi4vUmVuZGVyVGFyZ2V0XCI7XHJcbmltcG9ydCBIaXRJbmZvIGZyb20gXCIuL0hpdEluZm9cIjtcclxuaW1wb3J0IFNjZW5lTm9kZSBmcm9tIFwiLi4vT2JqZWN0L1NjZW5lTm9kZVwiO1xyXG5pbXBvcnQgRGlmZnVzZSBmcm9tIFwiLi4vTWF0ZXJhaWxzL0RpZmZ1c2VcIjtcclxuaW1wb3J0IFZlcnRleCBmcm9tIFwiLi9WZXJ0ZXhcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYSB7XHJcbiAgICBleWU6IFZlY3RvcjtcclxuXHJcbiAgICB4X2F4aXM6IFZlY3RvcjtcclxuICAgIHlfYXhpczogVmVjdG9yO1xyXG4gICAgel9heGlzOiBWZWN0b3I7XHJcblxyXG4gICAgcmF0aW86IG51bWJlcjtcclxuXHJcbiAgICBzY3JlZW5XOiBudW1iZXI7XHJcbiAgICBzY3JlZW5IOiBudW1iZXI7XHJcblxyXG4gICAgc2NyZWVuQ2VudGVyWDogbnVtYmVyO1xyXG4gICAgc2NyZWVuQ2VudGVyWTogbnVtYmVyO1xyXG4gICAgaGFsZlc6IG51bWJlcjtcclxuICAgIGhhbGZIOiBudW1iZXI7XHJcblxyXG4gICAgZm92X2RlZ3JlZTogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IoZXllOiBWZWN0b3IsIGxvb2tfYXQ6IFZlY3RvciwgZm92X2RlZ3JlZTogbnVtYmVyLCBzY3JlZW5XOiBudW1iZXIsIHNjcmVlbkg6IG51bWJlcikge1xyXG5cclxuICAgICAgICB0aGlzLnJhdGlvID0gc2NyZWVuVyAvIHNjcmVlbkg7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5XID0gc2NyZWVuVztcclxuICAgICAgICB0aGlzLnNjcmVlbkggPSBzY3JlZW5IO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuQ2VudGVyWCA9IHRoaXMuc2NyZWVuVyAqIDAuNTtcclxuICAgICAgICB0aGlzLnNjcmVlbkNlbnRlclkgPSB0aGlzLnNjcmVlbkggKiAwLjU7XHJcbiAgICAgICAgdGhpcy5oYWxmVyA9IHRoaXMuc2NyZWVuVyAqIDAuNTtcclxuICAgICAgICB0aGlzLmhhbGZIID0gdGhpcy5zY3JlZW5IICogMC41O1xyXG5cclxuICAgICAgICAvLyBjYW1lcmEgM+i7uFxyXG4gICAgICAgIHRoaXMuel9heGlzID0gVmVjdG9yLm1pbnVzKGxvb2tfYXQsIGV5ZSkubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgIC8vIOW3puaJi1xyXG4gICAgICAgIGxldCBoZWxwX3YgPSBWZWN0b3IudXA7XHJcbiAgICAgICAgdGhpcy54X2F4aXMgPSBWZWN0b3IuY3Jvc3MoaGVscF92LCB0aGlzLnpfYXhpcykubm9ybWFsaXplKCk7XHJcbiAgICAgICAgdGhpcy55X2F4aXMgPSBWZWN0b3IuY3Jvc3ModGhpcy56X2F4aXMsIHRoaXMueF9heGlzKTtcclxuXHJcbiAgICAgICAgLy8gY2FtZXJhIOWOn+m7nlxyXG4gICAgICAgIHRoaXMuZXllID0gZXllO1xyXG5cclxuICAgICAgICAvLyBjYW1lcmEgZm92XHJcbiAgICAgICAgdGhpcy5mb3ZfZGVncmVlID0gZm92X2RlZ3JlZTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlRXllID0gZnVuY3Rpb24gKHM6IG51bWJlciwgQTogVmVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5leWUgPSBWZWN0b3IuYWRkKHRoaXMuZXllLCBBLm11bHRpcGx5KHMpKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRQaXRjaChkZWdyZWU6IG51bWJlcikge1xyXG4gICAgICAgIC8vIHRvZG86IOS5mOS4imxvY2FsIG1hdHJpeFxyXG4gICAgfVxyXG5cclxuICAgIGFkZFlhdyhkZWdyZWU6IG51bWJlcikge1xyXG4gICAgICAgIC8vIHRvZG86IOS5mOS4imxvY2FsIG1hdHJpeFxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZV9yYXlfZGlyKHhfd2VpZ2h0OiBudW1iZXIsIHlfd2VpZ2h0OiBudW1iZXIsIHJhdGlvOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgaGFsZl9mb3ZfcmFkID0gZGVncmVlX3RvX1JhZCgwLjUgKiB0aGlzLmZvdl9kZWdyZWUpO1xyXG4gICAgICAgIGxldCB0YW5faCA9IE1hdGgudGFuKGhhbGZfZm92X3JhZCk7XHJcbiAgICAgICAgbGV0IHRhbl93ID0gdGFuX2ggKiByYXRpbztcclxuXHJcbiAgICAgICAgbGV0IGRpciA9IHRoaXMuel9heGlzXHJcbiAgICAgICAgICAgIC5hZGQodGhpcy54X2F4aXMubXVsdGlwbHkoeF93ZWlnaHQgKiB0YW5fdykpXHJcbiAgICAgICAgICAgIC5hZGQodGhpcy55X2F4aXMubXVsdGlwbHkoeV93ZWlnaHQgKiB0YW5faCkpO1xyXG5cclxuICAgICAgICByZXR1cm4gZGlyO1xyXG4gICAgfVxyXG5cclxuICAgIHRvQ2FtZXJhU3BhY2UoQTogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IGRpZmYgPSBBLm1pbnVzKHRoaXMuZXllKTtcclxuICAgICAgICBsZXQgcG9pbnRfaW5fY2FtZXJhX3NwYWNlID0gbmV3IFZlY3RvcihWZWN0b3IuZG90KGRpZmYsIHRoaXMueF9heGlzKSwgVmVjdG9yLmRvdChkaWZmLCB0aGlzLnlfYXhpcyksIFZlY3Rvci5kb3QoZGlmZiwgdGhpcy56X2F4aXMpKTtcclxuICAgICAgICByZXR1cm4gcG9pbnRfaW5fY2FtZXJhX3NwYWNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRvU2NyZWVuU3BhY2UgPSBmdW5jdGlvbiAoQTogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHogPSBBLno7XHJcbiAgICAgICAgbGV0IGZvdl9yYWQgPSBkZWdyZWVfdG9fUmFkKHRoaXMuZm92X2RlZ3JlZSk7XHJcbiAgICAgICAgbGV0IGhhbGZfZm92ID0gMC41ICogZm92X3JhZDtcclxuICAgICAgICBsZXQgeV9zY2FsZSA9IDEgLyBNYXRoLnRhbihoYWxmX2Zvdik7XHJcbiAgICAgICAgbGV0IHhfc2NhbGUgPSAxIC8gKHRoaXMucmF0aW8gKiBNYXRoLnRhbihoYWxmX2ZvdikpO1xyXG5cclxuICAgICAgICBsZXQgTkRDeCA9IEEueCAqIHhfc2NhbGUgLyB6O1xyXG4gICAgICAgIGxldCBOREN5ID0gQS55ICogeV9zY2FsZSAvIHo7XHJcblxyXG4gICAgICAgIC8vIOeUqOW6p+aomeiuiuaPm+S+hueci+W+heW+nk5EQ+WIsFNjcmVlbiBTcGFjZVxyXG4gICAgICAgIC8vIE5EQyB46Lu45Zyoc2NyZWVuIHNwYWNlIOeCuih3LzIsMClcclxuICAgICAgICAvLyBOREMgeei7uOWcqHNjcmVlbiBzcGFjZSDngrooLWgvMiwwKVxyXG4gICAgICAgIGxldCB4ID0gdGhpcy5oYWxmVyAqIE5EQ3ggKyB0aGlzLnNjcmVlbkNlbnRlclg7XHJcbiAgICAgICAgbGV0IHkgPSAtdGhpcy5oYWxmSCAqIE5EQ3kgKyB0aGlzLnNjcmVlbkNlbnRlclk7XHJcblxyXG4gICAgICAgIGxldCB0ZW1wID0gbmV3IFZlY3Rvcih4LCB5LCB6KTtcclxuICAgICAgICAvL2FsZXJ0KHRlbXAudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRlbXA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g566X5ZyWXHJcbiAgICByZW5kZXIocmVuZGVyX3RhcmdldDogUmVuZGVyVGFyZ2V0LCBvYmpfbGlzdDogU2NlbmVOb2RlW10pIHtcclxuICAgICAgICBsZXQgZGlyZWN0aW9uX2xpZ2h0X2RpciA9IG5ldyBWZWN0b3IoMSwgLTEsIDApLm5vcm1hbGl6ZSgpO1xyXG5cclxuICAgICAgICBsZXQgaGFsZl9waXhlbF9vZmZzZXQgPSAwLjUgLyByZW5kZXJfdGFyZ2V0Lmg7XHJcbiAgICAgICAgbGV0IG11bHRpc2FtcGxlX2RpZmYgPSBbXHJcbiAgICAgICAgICAgIHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgICAgICB7IHg6IGhhbGZfcGl4ZWxfb2Zmc2V0LCB5OiBoYWxmX3BpeGVsX29mZnNldCB9LFxyXG4gICAgICAgICAgICB7IHg6IC1oYWxmX3BpeGVsX29mZnNldCwgeTogaGFsZl9waXhlbF9vZmZzZXQgfSxcclxuICAgICAgICAgICAgeyB4OiAtaGFsZl9waXhlbF9vZmZzZXQsIHk6IC1oYWxmX3BpeGVsX29mZnNldCB9LFxyXG4gICAgICAgICAgICB7IHg6IGhhbGZfcGl4ZWxfb2Zmc2V0LCB5OiAtaGFsZl9waXhlbF9vZmZzZXQgfSxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICByZW5kZXJfdGFyZ2V0LnJlbmRlcl9waXhlbCgoeF93ZWlnaHQ6IG51bWJlciwgeV93ZWlnaHQ6IG51bWJlciwgcmF0aW86IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcmF5X2RpciA9IHRoaXMuY3JlYXRlX3JheV9kaXIoeF93ZWlnaHQsIHlfd2VpZ2h0LCByYXRpbyk7XHJcblxyXG4gICAgICAgICAgICAvLyDnlKLnlJ/lpJrmop1yYXlcclxuICAgICAgICAgICAgbGV0IHJheXMgPSBtdWx0aXNhbXBsZV9kaWZmLm1hcChkaWZmID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIOWwjXJheV9kcmnkvZzlgY/np7tcclxuICAgICAgICAgICAgICAgIGxldCBkaXIgPSByYXlfZGlyLmFkZCh0aGlzLnhfYXhpcy5tdWx0aXBseShkaWZmLngpKS5hZGQodGhpcy55X2F4aXMubXVsdGlwbHkoZGlmZi55KSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDpm5bnhLblkoznkIPjgIHlubPpnaLnmoRoaXToqIjnrpfkuI3pnIDopoFkaXLkvZxub3JtYWxpemXvvIzkvYbngrrkuobmlrnkvr/lj43lsITnmoToqIjnrpfpgoTmmK/kvZxub3JtYWxpemVcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmF5KHRoaXMuZXllLCBkaXIubm9ybWFsaXplKCkpXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g5q+P5YCLcmF56YO9566XY29sb3JcclxuICAgICAgICAgICAgbGV0IGNvbG9ycyA9IHJheXMubWFwKHJheSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGl0X3NvcnRfbGlzdCA9IGdldF9oaXRfc29ydF9saXN0KG9ial9saXN0LCByYXkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOacieWwhOS4reWXjlxyXG4gICAgICAgICAgICAgICAgbGV0IGlzX2hpdCA9IGhpdF9zb3J0X2xpc3QubGVuZ3RoICE9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNfaGl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdF9pbmZvID0gaGl0X3NvcnRfbGlzdFswXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGl0X2luZm8ucy5zaGFkaW5nKGhpdF9pbmZvLCBkaXJlY3Rpb25fbGlnaHRfZGlyLCBvYmpfbGlzdCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBEaWZmdXNlLmdyYXkuY29sb3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g5Y+W5bmz5Z2H5bCx5pyJQW50aWFsaWFzaW5n5pWI5p6cXHJcbiAgICAgICAgICAgIGxldCBjb3VudCA9IG11bHRpc2FtcGxlX2RpZmYubGVuZ3RoO1xyXG4gICAgICAgICAgICBsZXQgZmluYWxfY29sb3IgPSBjb2xvcnMucmVkdWNlKChhY2N1bXVsYXRvcjogVmVjdG9yLCBjdXJyZW50OiBWZWN0b3IpID0+IGFjY3VtdWxhdG9yLmFkZChjdXJyZW50KSwgVmVjdG9yLnplcm8pLm11bHRpcGx5KDEgLyBjb3VudCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmaW5hbF9jb2xvcjtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiLy8gaW1wb3J0IEFwcCBmcm9tICcuL0FwcCc7XHJcbi8vIG5ldyBBcHAoKTtcclxuXHJcbmltcG9ydCBSYXN0ZXJpemVyQXBwIGZyb20gJy4vUmFzdGVyaXplckFwcCc7XHJcbm5ldyBSYXN0ZXJpemVyQXBwKCk7IiwiaW1wb3J0IEJveCBmcm9tIFwiLi9NYXRoL0JveDNEXCI7XHJcbmltcG9ydCBDYW1lcmEgZnJvbSBcIi4vTWF0aC9DYW1lcmFcIjtcclxuaW1wb3J0IFRyYW5zZm9ybSBmcm9tIFwiLi9NYXRoL1RyYW5zZm9ybVwiO1xyXG5pbXBvcnQgVmVjdG9yIGZyb20gXCIuL01hdGgvVmVjdG9yXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYXN0ZXJpemVyQXBwIHtcclxuXHJcbiAgICBjYW1lcmFJbmRleF92aWV3ID0gMTtcclxuICAgIGNhbWVyYUluZGV4X2NvbnRyb2wgPSAwO1xyXG4gICAgY2FtZXJhOiBDYW1lcmEgPSBudWxsO1xyXG4gICAgdGhhbmRsZTogbnVtYmVyO1xyXG5cclxuICAgIHNjcmVlbldpZHRoID0gODAwO1xyXG4gICAgc2NyZWVuSGVpZ2h0ID0gNjAwO1xyXG4gICAgYm94OiBCb3ggPSBudWxsO1xyXG5cclxuICAgIGxhc3RfdDogbnVtYmVyO1xyXG4gICAgc3VtX3Q6IG51bWJlcjtcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB3aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IHRoaXMua2V5UHJvYy5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSB0aGlzLnNjcmVlbldpZHRoICsgJ3B4JztcclxuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy5zY3JlZW5IZWlnaHQgKyAncHgnO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcclxuICAgICAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICB0aGlzLmJveCA9IG5ldyBCb3goKTtcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEobmV3IFZlY3RvcigwLCA1MCwgLTIwMCksIG5ldyBWZWN0b3IoMCwgMCwgMCksIDYwLCB0aGlzLnNjcmVlbldpZHRoLCB0aGlzLnNjcmVlbkhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuc3VtX3QgPSAwO1xyXG4gICAgICAgIGxldCBkID0gbmV3IERhdGUoKTtcclxuICAgICAgICB0aGlzLmxhc3RfdCA9IGQuZ2V0VGltZSgpO1xyXG4gICAgICAgIHRoaXMudGhhbmRsZSA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7IHRoaXMuZHJhd1NjZW5lKCk7IH0sIDE2KTtcclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKSB7XHJcbiAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHRoaXMubGFzdF90ID0gZC5nZXRUaW1lKCk7XHJcbiAgICAgICAgdGhpcy50aGFuZGxlID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHsgdGhpcy5kcmF3U2NlbmUoKTsgfSwgMTYpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3AoKSB7XHJcbiAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy50aGFuZGxlKTtcclxuICAgICAgICB0aGlzLnRoYW5kbGUgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdTY2VuZSgpIHtcclxuICAgICAgICBsZXQgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgbGV0IHQgPSBkLmdldFRpbWUoKTtcclxuICAgICAgICBsZXQgZGlmZiA9IHQgLSB0aGlzLmxhc3RfdDtcclxuICAgICAgICB0aGlzLmxhc3RfdCA9IHQ7XHJcbiAgICAgICAgdGhpcy5zdW1fdCA9IHRoaXMuc3VtX3QgKyBkaWZmO1xyXG5cclxuICAgICAgICAvLyDmuIXnqbpcclxuICAgICAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5zY3JlZW5XaWR0aCwgdGhpcy5zY3JlZW5IZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwicmdiYSgxODAsMzAsMTUsMC4xKVwiO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuc2NyZWVuV2lkdGgsIHRoaXMuc2NyZWVuSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy/nlavnq4vmlrnpq5RcclxuICAgICAgICB2YXIgb2Zmc2V0TWF0cml4ID0gVHJhbnNmb3JtLm9mZnNldCgwLCAwLCAwKTtcclxuICAgICAgICB2YXIgbm93RGVncmVlID0gdGhpcy5zdW1fdCAvIDEwMDAgKiAxNSAlIDM2MDtcclxuICAgICAgICAvLyB2YXIgbm93RGVncmVlID0gMDtcclxuXHJcbiAgICAgICAgdmFyIHJvdGF0ZU1hdHJpeCA9IFRyYW5zZm9ybS5yb3RhdGVCeVkobm93RGVncmVlKTtcclxuICAgICAgICB2YXIgY29tYmluZU1hdHJpeCA9IFRyYW5zZm9ybS50cmFuc2Zvcm1UcmFuc2Zvcm0ob2Zmc2V0TWF0cml4LCByb3RhdGVNYXRyaXgpO1xyXG4gICAgICAgIHRoaXMuYm94LnVwZGF0ZSh0aGlzLmNhbWVyYSwgY29tYmluZU1hdHJpeCk7XHJcbiAgICAgICAgdGhpcy5ib3guZHJhdyh0aGlzLmN0eCk7XHJcblxyXG4gICAgICAgIHZhciBvZmZzZXRNYXRyaXggPSBUcmFuc2Zvcm0ub2Zmc2V0KDE1MCwgMCwgMCk7XHJcbiAgICAgICAgdmFyIHJvdGF0ZU1hdHJpeCA9IFRyYW5zZm9ybS5yb3RhdGVCeVkobm93RGVncmVlKTtcclxuICAgICAgICBjb21iaW5lTWF0cml4ID0gVHJhbnNmb3JtLnRyYW5zZm9ybVRyYW5zZm9ybShyb3RhdGVNYXRyaXgsIG9mZnNldE1hdHJpeCk7XHJcbiAgICAgICAgdGhpcy5ib3gudXBkYXRlKHRoaXMuY2FtZXJhLCBjb21iaW5lTWF0cml4KTtcclxuICAgICAgICB0aGlzLmJveC5kcmF3KHRoaXMuY3R4KTtcclxuICAgIH1cclxuXHJcbiAgICBrZXlQcm9jKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICAgICAgbGV0IEtlcE1hcCA9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB3OiA4NyxcclxuICAgICAgICAgICAgcjogODIsXHJcblxyXG4gICAgICAgICAgICBlOiA2OSxcclxuICAgICAgICAgICAgZDogNjgsXHJcbiAgICAgICAgICAgIHM6IDgzLFxyXG4gICAgICAgICAgICBmOiA3MCxcclxuXHJcbiAgICAgICAgICAgIGFfdXA6IDM4LFxyXG4gICAgICAgICAgICBhX2Rvd246IDQwLFxyXG4gICAgICAgICAgICBhX2xlZnQ6IDM3LFxyXG4gICAgICAgICAgICBhX3JpZ2h0OiAzOVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBtb3ZlUyA9IDE7XHJcbiAgICAgICAgdmFyIHJvdGF0ZVMgPSAwLjE7XHJcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLnc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5tb3ZlRXllKG1vdmVTLCB0aGlzLmNhbWVyYS56X2F4aXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLnI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5tb3ZlRXllKC1tb3ZlUywgdGhpcy5jYW1lcmEuel9heGlzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAuZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLm1vdmVFeWUobW92ZVMsIHRoaXMuY2FtZXJhLnlfYXhpcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAuZDpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLm1vdmVFeWUoLW1vdmVTLCB0aGlzLmNhbWVyYS55X2F4aXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLnM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5tb3ZlRXllKC1tb3ZlUywgdGhpcy5jYW1lcmEueF9heGlzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5mOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEubW92ZUV5ZShtb3ZlUywgdGhpcy5jYW1lcmEueF9heGlzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAuYV91cDpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLmFkZFBpdGNoKHJvdGF0ZVMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLmFfZG93bjpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLmFkZFBpdGNoKC1yb3RhdGVTKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAuYV9sZWZ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEuYWRkWWF3KC1yb3RhdGVTKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5hX3JpZ2h0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEuYWRkWWF3KHJvdGF0ZVMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbImZyb20iLCJkaXIiLCJ0aGlzIiwiZGVncmVlX3RvX1JhZCIsImQiLCJNYXRoIiwiUEkiLCJudW1iZXJfZXF1YWwiLCJhIiwiYiIsImFicyIsImdldF9oaXRfc29ydF9saXN0Iiwib2JqX2xpc3QiLCJyYXkiLCJtYXAiLCJvYmoiLCJoIiwiaGl0IiwicyIsImZpbHRlciIsImluZm8iLCJpc19oaXQiLCJzb3J0IiwidCIsImxlcnAiLCJweCIsInB5IiwicHoiLCJ4IiwieSIsInoiLCJ1diIsInUiLCJ2IiwiVmVjdG9yIiwicmVmbGVjdCIsIkkiLCJOIiwiTCIsImRvdCIsIm11bHRpcGx5IiwiYWRkIiwiQSIsIkIiLCJtaW51cyIsIm11bHRpcGx5MyIsImNyb3NzIiwiZXF1YWwiLCJsZW5ndGgiLCJzcXJ0Iiwibm9ybWFsaXplIiwidGVtcCIsIm5lZ2F0aXZlIiwiY2xvbmUiLCJ1cCIsInplcm8iLCJwIiwiYnVpbGRfdmVydGV4IiwiVmVydGV4IiwiY29weSIsInhBeGlzIiwieUF4aXMiLCJ6QXhpcyIsInBvc2l0aW9uIiwidHJhbnNmb3JtUG9pbnQiLCJ0cmFuc2Zvcm0iLCJwb2ludCIsInZlY3RvclgiLCJ2ZWN0b3JZIiwidmVjdG9yWiIsInRyYW5zZm9ybVZlY3RvciIsInZlcnRleCIsInRyYW5zZm9ybVRyYW5zZm9ybSIsImlucHV0VHJhbnNmb3JtIiwiVHJhbnNmb3JtIiwicm90YXRlQnlaIiwiZGVncmVlIiwicmFkaWFuIiwiYyIsImNvcyIsInNpbiIsInJvdGF0ZUJ5WSIsInJvdGF0ZUJ5WCIsIm9mZnNldCIsInB2MCIsInB2MSIsInB2MiIsInYwIiwidjEiLCJ2MiIsInByb2Nlc3MiLCJ0cmlhbmdsZSIsInBjYW1lcmEiLCJ3b3JsZFRyYW5zZm9ybSIsInYwX3ciLCJ2MV93IiwidjJfdyIsInYwX2MiLCJ0b0NhbWVyYVNwYWNlIiwidjFfYyIsInYyX2MiLCJ2MDEiLCJ2MDIiLCJub3JtYWwiLCJjZW50ZXIiLCJjZW50ZXJfdG9fZXllIiwidl9jbGlwIiwibmVhclBsYW5lWiIsImdldENyb3NzUG9pbnQiLCJ1djAiLCJ1djEiLCJjb25zb2xlIiwibG9nIiwiY2xpcF9maXJzdF9pbiIsImNsaXBfZmlyc3Rfb3V0IiwiY3Jvc3MxIiwiY3Jvc3MyIiwiY2xpcCIsIlRyaWFuZ2xlIiwidl9zIiwiaSIsInRvU2NyZWVuU3BhY2UiLCJkcmF3IiwiY3R4IiwidENvdW50IiwiaW5kZXgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJ0cmlhbmdsZXMiLCJwdXNoIiwibSIsInJvdGF0ZU1hdHJpeCIsInVwZGF0ZSIsImNhbWVyYSIsInRyaWFuZ2xlc19hZnRlcl9jbGlwIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwic3Ryb2tlU3R5bGUiLCJiZWdpblBhdGgiLCJzdHJva2UiLCJjb2xvciIsInNoYWRpbmciLCJoaXRfaW5mbyIsImRpcmVjdGlvbl9saWdodF9kaXIiLCJkZXB0aCIsIm4iLCJzdHJlbmd0aCIsInNoYWRvd193ZWlnaHQiLCJoaXRfcG9zIiwiZ2V0X3NoYWRvd193ZWlnaHQiLCJ5ZWxsb3ciLCJEaWZmdXNlIiwicmVkIiwiZ3JlZW4iLCJibHVlIiwiZ3JheSIsIndoaXRlIiwiZXllIiwibG9va19hdCIsImZvdl9kZWdyZWUiLCJzY3JlZW5XIiwic2NyZWVuSCIsIm1vdmVFeWUiLCJoYWxmX2ZvdiIsInlfc2NhbGUiLCJ0YW4iLCJ4X3NjYWxlIiwicmF0aW8iLCJOREN4IiwiTkRDeSIsImhhbGZXIiwic2NyZWVuQ2VudGVyWCIsImhhbGZIIiwic2NyZWVuQ2VudGVyWSIsInpfYXhpcyIsImhlbHBfdiIsInhfYXhpcyIsInlfYXhpcyIsImFkZFBpdGNoIiwiYWRkWWF3IiwiY3JlYXRlX3JheV9kaXIiLCJ4X3dlaWdodCIsInlfd2VpZ2h0IiwiaGFsZl9mb3ZfcmFkIiwidGFuX2giLCJ0YW5fdyIsImRpZmYiLCJyZW5kZXIiLCJyZW5kZXJfdGFyZ2V0IiwiaGFsZl9waXhlbF9vZmZzZXQiLCJtdWx0aXNhbXBsZV9kaWZmIiwicmVuZGVyX3BpeGVsIiwicmF5X2RpciIsImNvbG9ycyIsImhpdF9zb3J0X2xpc3QiLCJjb3VudCIsInJlZHVjZSIsImFjY3VtdWxhdG9yIiwiY3VycmVudCIsImNhbWVyYUluZGV4X3ZpZXciLCJjYW1lcmFJbmRleF9jb250cm9sIiwic2NyZWVuV2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJib3giLCJ3aW5kb3ciLCJvbmxvYWQiLCJpbml0IiwiZG9jdW1lbnQiLCJvbmtleWRvd24iLCJrZXlQcm9jIiwiYmluZCIsImNhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZ2V0Q29udGV4dCIsInN0YXJ0Iiwic3RvcCIsInN1bV90IiwiRGF0ZSIsImxhc3RfdCIsImdldFRpbWUiLCJ0aGFuZGxlIiwic2V0SW50ZXJ2YWwiLCJkcmF3U2NlbmUiLCJyZXN1bWUiLCJjbGVhckludGVydmFsIiwiY2xlYXJSZWN0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJvZmZzZXRNYXRyaXgiLCJub3dEZWdyZWUiLCJjb21iaW5lTWF0cml4IiwiZXZlbnQiLCJrZXlDb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==