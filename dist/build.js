(()=>{"use strict";const t=function(t,e){this.from=t,this.dir=e},e=function(){function t(t,e,n){this.x=0,this.y=0,this.z=0,this.x=t,this.y=e,this.z=n}return t.calculate_normal=function(e,n,i){var r=t.minus(n,e),s=t.minus(i,e);return t.cross(r,s).normalize()},t.calculate_center=function(t,e,n){return t.add(e).add(n).multiply(1/3)},t.uv=function(e,n){return new t(e,n,0)},t.reflect=function(e,n){var i=-2*t.dot(e,n);return n.multiply(i).add(e)},t.add=function(e,n){return new t(n.x+e.x,n.y+e.y,n.z+e.z)},t.minus=function(e,n){return new t(e.x-n.x,e.y-n.y,e.z-n.z)},t.multiply=function(e,n){return new t(e.x*n,e.y*n,e.z*n)},t.multiply3=function(e,n){return new t(e.x*n.x,e.y*n.y,e.z*n.z)},t.cross=function(e,n){return new t(e.y*n.z-e.z*n.y,-e.x*n.z+e.z*n.x,e.x*n.y-e.y*n.x)},t.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},t.equal=function(t,e){return h(t.x,e.x)&&h(t.y,e.y)&&h(t.z,e.z)},t.lerp=function(e,n,i){return new t(c(e.x,n.x,i),c(e.y,n.y,i),c(e.z,n.z,i))},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.normalize=function(){var t=this.length();return this.x=this.x/t,this.y=this.y/t,this.z=this.z/t,this},t.prototype.add=function(e){return t.add(this,e)},t.prototype.minus=function(e){return t.minus(this,e)},t.prototype.multiply=function(e){return t.multiply(this,e)},t.prototype.negative=function(){return t.multiply(this,-1)},t.prototype.clone=function(){return new t(this.x,this.y,this.z)},t.up=new t(0,1,0),t.zero=new t(0,0,0),t}(),n=function(t,e){this.p=t,this.w=e};const i=function(){function t(t,i){this.from=t,this.dir=new n(e.minus(i.p,t.p),i.w-t.w)}return t.prototype.t_when_x_equal_w=function(){return(this.from.w-this.from.p.x)/(this.dir.p.x-this.dir.w)},t.prototype.t_when_y_equal_w=function(){return(this.from.w-this.from.p.y)/(this.dir.p.y-this.dir.w)},t.prototype.t_when_z_equal_w=function(){return(this.from.w-this.from.p.z)/(this.dir.p.z-this.dir.w)},t.prototype.t_when_x_equal_minus_w=function(){return-(this.from.w+this.from.p.x)/(this.dir.w+this.dir.p.x)},t.prototype.t_when_y_equal_minus_w=function(){return-(this.from.w+this.from.p.y)/(this.dir.w+this.dir.p.y)},t.prototype.t_when_z_equal_zero_w=function(){return-this.from.p.z/this.dir.p.z},t}(),r=function(){function t(t,e,n,i){this.xAxis=t,this.yAxis=e,this.zAxis=n,this.position=i}return t.transformPoint=function(t,e){var n=t.xAxis.multiply(e.x),i=t.yAxis.multiply(e.y),r=t.zAxis.multiply(e.z);return t.position.add(n).add(i).add(r)},t.transformVector=function(t,e){var n=t.xAxis.multiply(e.x),i=t.yAxis.multiply(e.y),r=t.zAxis.multiply(e.z);return n.add(i).add(r)},t.transformTransform=function(e,n){return new t(t.transformVector(e,n.xAxis),t.transformVector(e,n.yAxis),t.transformVector(e,n.zAxis),t.transformPoint(e,n.position))},t.rotateByZ=function(n){var i=o(n),r=Math.cos(i),s=Math.sin(i);return new t(new e(r,s,0),new e(-s,r,0),new e(0,0,1),e.zero)},t.rotateByY=function(n){var i=o(n),r=Math.cos(i),s=Math.sin(i),a=new e(s,0,r);return new t(new e(r,0,-s),new e(0,1,0),a,e.zero)},t.rotateByX=function(n){var i=o(n),r=Math.cos(i),s=Math.sin(i);return new t(new e(1,0,0),new e(0,r,s),new e(0,-s,r),new e(0,0,0))},t.offset=function(n,i,r){return new t(new e(1,0,0),new e(0,1,0),new e(0,0,1),new e(n,i,r))},t}(),s=function(){function t(t,e,n){this.v0=t,this.v1=e,this.v2=n}return t.MVP_backface_culling_clipping=function(n,i,s){var o=r.transformPoint(s,n.v0.p),a=r.transformPoint(s,n.v1.p),h=r.transformPoint(s,n.v2.p),u=i.toCameraSpace(o),c=i.toCameraSpace(a),p=i.toCameraSpace(h),l=i.toProjectionSpace(u),f=i.toProjectionSpace(c),w=i.toProjectionSpace(p),y=e.calculate_normal(u,c,p),_=e.minus(e.zero,e.calculate_center(u,c,p)).normalize();if(e.dot(y,_)<=0)return[];var v=n.v0.clone().update_p(l).update_w(u.z),d=n.v1.clone().update_p(f).update_w(c.z),m=n.v2.clone().update_p(w).update_w(p.z);return t.clip_in_Projection_Space(v,d,m,i)},t.clip_helper=function(t,e,n,i,r){for(var s=[],o=0,a=t;o<a.length;o++)for(var h=0,u=p(a[o],e,n,i,r);h<u.length;h++){var c=u[h];s.push(c)}return s},t.clip_in_Projection_Space=function(e,n,i,r){var s=[new t(e,n,i)],o=t.clip_helper(s,(function(t){return t.v0.w<t.v0.p.z}),(function(t){return t.v1.w<t.v1.p.z}),(function(t){return t.v2.w<t.v2.p.z}),a.Far);return t.clip_helper(o,(function(t){return 0>t.v0.p.z}),(function(t){return 0>t.v1.p.z}),(function(t){return 0>t.v2.p.z}),a.Near)},t.process=function(e,n,i){for(var r=[],s=0,o=t.MVP_backface_culling_clipping(e,n,i);s<o.length;s++){var a=o[s],h=n.toNDC(a.v0.p,a.v0.w),u=n.toNDC(a.v1.p,a.v1.w),c=n.toNDC(a.v2.p,a.v2.w),p=n.toScreenSpace(h),l=n.toScreenSpace(u),f=n.toScreenSpace(c);r.push(p),r.push(l),r.push(f)}return r},t.prototype.process=function(e,n){this.v_s=t.process(this,e,n)},t.prototype.draw=function(t){if(null!=this.v_s)for(var e=this.v_s.length/3,n=1;n<=e;++n){var i=3*n-1;t.moveTo(this.v_s[i].x,this.v_s[i].y),t.lineTo(this.v_s[i-2].x,this.v_s[i-2].y),t.lineTo(this.v_s[i-1].x,this.v_s[i-1].y),t.lineTo(this.v_s[i].x,this.v_s[i].y)}},t}();function o(t){return Math.PI*t/180}var a;function h(t,e){return Math.abs(t-e)<.001}function u(t,e){return t.map((function(t){return t.h.hit(e,t.s)})).filter((function(t){return t.is_hit})).sort((function(t,e){return t.t-e.t}))}function c(t,e,n){return t+n*(e-t)}function p(t,e,n,r,o){var h=[],u=function(t,e){var n=new i(t.get_Vector4D(),e.get_Vector4D()),r=0;switch(o){case a.Far:r=n.t_when_z_equal_w();break;case a.Near:r=n.t_when_z_equal_zero_w()}return l.lerp(t,e,r)},c=function(t,e,n){h[0]=new s(t,u(t,e),u(t,n))},p=function(t,e,n){var i=u(n,t),r=u(t,e);h[0]=new s(n,i,r),h[1]=new s(n,r,e)};return e(t)?n(t)?r(t)||c(t.v2,t.v0,t.v1):r(t)?c(t.v1,t.v2,t.v0):p(t.v0,t.v1,t.v2):n(t)?r(t)?c(t.v0,t.v1,t.v2):p(t.v1,t.v2,t.v0):r(t)?p(t.v2,t.v0,t.v1):h[0]=t,h}!function(t){t[t.Near=0]="Near",t[t.Far=1]="Far",t[t.Right=2]="Right",t[t.Left=3]="Left",t[t.Top=4]="Top",t[t.Bottom=5]="Bottom"}(a||(a={}));const l=function(){function t(t,e,n,i,r){this.p=t,this.n=e,this.w=n,this.u=i,this.v=r}return t.build_vertex=function(e,n,i,r,s){return new t(e,n,i,r,s)},t.lerp=function(n,i,r){return new t(e.lerp(n.p,i.p,r),e.lerp(n.n,i.n,r),c(n.w,i.w,r),c(n.u,i.u,r),c(n.v,i.v,r))},t.prototype.clone=function(){return new t(this.p.clone(),this.n.clone(),this.w,this.u,this.v)},t.prototype.update_p=function(t){return this.p=t,this},t.prototype.update_w=function(t){return this.w=t,this},t.prototype.get_Vector4D=function(){return new n(this.p,this.w)},t}(),f=function(){function t(){this.triangles=[];var t=new e(0,0,-1);this.triangles.push(new s(new l(new e(-10,-10,-10),t,1,0,0),new l(new e(10,10,-10),t,1,1,1),new l(new e(10,-10,-10),t,1,1,0))),this.triangles.push(new s(new l(new e(-10,-10,-10),t,1,0,0),new l(new e(-10,10,-10),t,1,0,1),new l(new e(10,10,-10),t,1,1,1)));for(var n=[r.rotateByY(90),r.rotateByY(180),r.rotateByY(270),r.rotateByX(90),r.rotateByX(-90)],i=0;i<n.length;++i){var o=n[i],a=r.transformPoint(o,t);this.triangles.push(new s(l.build_vertex(r.transformPoint(o,new e(-10,-10,-10)),a,1,0,0),l.build_vertex(r.transformPoint(o,new e(10,10,-10)),a,1,1,1),l.build_vertex(r.transformPoint(o,new e(10,-10,-10)),a,1,1,0))),this.triangles.push(new s(l.build_vertex(r.transformPoint(o,new e(-10,-10,-10)),a,1,0,0),l.build_vertex(r.transformPoint(o,new e(-10,10,-10)),a,1,0,1),l.build_vertex(r.transformPoint(o,new e(10,10,-10)),a,1,1,1)))}}return t.prototype.update=function(t,e){this.triangles_after_clip=this.triangles;for(var n=0;n<this.triangles_after_clip.length;++n)this.triangles_after_clip[n].process(t,e)},t.prototype.draw=function(t){t.globalCompositeOperation="destination-over",t.strokeStyle="rgba(255,0,0,1)",t.beginPath();for(var e=0;e<this.triangles_after_clip.length;++e)this.triangles_after_clip[e].draw(t);t.stroke()},t}(),w=function(){function n(t){this.color=t}return n.prototype.shading=function(n,i,r,s){var o,a=n.normal,h=(0,(o=-e.dot(i,a))>1?1:o<0?0:o),c=function(e,n,i){var r=n.negative(),s=e.hit_pos.add(r.multiply(.001));return 0!=u(i,new t(s,r)).length?.45:1}(n,i,r);return this.color.multiply(h).multiply(c)},n.yellow=new n(new e(1,1,0)),n.red=new n(new e(1,0,0)),n.green=new n(new e(0,1,0)),n.blue=new n(new e(0,0,1)),n.gray=new n(new e(.5,.5,.5)),n.white=new n(new e(1,1,1)),n}(),y=function(){function n(t,n,i,r,s,o,a){this.moveEye=function(t,n){this.eye=e.add(this.eye,n.multiply(t))},this.ratio=r/s,this.screenW=r,this.screenH=s,this.screenCenterX=.5*this.screenW,this.screenCenterY=.5*this.screenH,this.halfW=.5*this.screenW,this.halfH=.5*this.screenH,this.z_axis=e.minus(n,t).normalize();var h=e.up;this.x_axis=e.cross(h,this.z_axis).normalize(),this.y_axis=e.cross(this.z_axis,this.x_axis),this.eye=t,this.fov_degree=i,this.N=o,this.F=a,this.a=a/(a-o),this.b=-o*a/(a-o),console.log(this.a,this.b)}return n.prototype.addPitch=function(t){},n.prototype.addYaw=function(t){},n.prototype.create_ray_dir=function(t,e,n){var i=o(.5*this.fov_degree),r=Math.tan(i),s=r*n;return this.z_axis.add(this.x_axis.multiply(t*s)).add(this.y_axis.multiply(e*r))},n.prototype.toCameraSpace=function(t){var n=t.minus(this.eye);return new e(e.dot(n,this.x_axis),e.dot(n,this.y_axis),e.dot(n,this.z_axis))},n.prototype.toProjectionSpace=function(t){var n=.5*o(this.fov_degree),i=1/Math.tan(n),r=1/(this.ratio*Math.tan(n));return new e(t.x*r,t.y*i,t.z*this.a+this.b)},n.prototype.toNDC=function(t,e){var n=1/e;return t.multiply(n)},n.prototype.toScreenSpace=function(t){var n=this.halfW*t.x+this.screenCenterX,i=-this.halfH*t.y+this.screenCenterY;return new e(n,i,t.z)},n.prototype.render=function(n,i){var r=this,s=new e(1,-1,0).normalize(),o=.5/n.h,a=[{x:0,y:0},{x:o,y:o},{x:-o,y:o},{x:-o,y:-o},{x:o,y:-o}];n.render_pixel((function(n,o,h){var c=r.create_ray_dir(n,o,h),p=a.map((function(e){var n=c.add(r.x_axis.multiply(e.x)).add(r.y_axis.multiply(e.y));return new t(r.eye,n.normalize())})).map((function(t){var e=u(i,t);if(0!=e.length){var n=e[0];return n.s.shading(n,s,i,1)}return w.gray.color})),l=a.length;return p.reduce((function(t,e){return t.add(e)}),e.zero).multiply(1/l)}))},n}();new(function(){function t(){var t=this;this.cameraIndex_view=1,this.cameraIndex_control=0,this.camera=null,this.screenWidth=800,this.screenHeight=600,this.box=null,window.onload=function(){t.init()},document.onkeydown=this.keyProc.bind(this)}return t.prototype.init=function(){var t=document.getElementById("canvas");t.style.width=this.screenWidth+"px",t.style.height=this.screenHeight+"px",t.width=t.clientWidth,t.height=t.clientHeight,this.ctx=t.getContext("2d"),this.box=new f,this.camera=new y(new e(0,50,-200),new e(0,0,0),60,this.screenWidth,this.screenHeight,100,500),this.start()},t.prototype.start=function(){var t=this;this.stop(),this.sum_t=0;var e=new Date;this.last_t=e.getTime(),this.thandle=window.setInterval((function(){t.drawScene()}),16)},t.prototype.resume=function(){var t=this,e=new Date;this.last_t=e.getTime(),this.thandle=window.setInterval((function(){t.drawScene()}),16)},t.prototype.stop=function(){window.clearInterval(this.thandle),this.thandle=null},t.prototype.drawScene=function(){var t=(new Date).getTime(),e=t-this.last_t;this.last_t=t,this.sum_t=this.sum_t+e,this.ctx.clearRect(0,0,this.screenWidth,this.screenHeight),this.ctx.beginPath(),this.ctx.fillStyle="rgba(180,30,15,0.1)",this.ctx.fillRect(0,0,this.screenWidth,this.screenHeight);var n=r.offset(0,0,0),i=this.sum_t/1e3*15%360,s=r.rotateByY(i),o=r.transformTransform(n,s);this.box.update(this.camera,o),this.box.draw(this.ctx)},t.prototype.keyProc=function(t){switch(t.keyCode){case 87:this.camera.moveEye(1,this.camera.z_axis);break;case 82:this.camera.moveEye(-1,this.camera.z_axis);break;case 69:this.camera.moveEye(1,this.camera.y_axis);break;case 68:this.camera.moveEye(-1,this.camera.y_axis);break;case 83:this.camera.moveEye(-1,this.camera.x_axis);break;case 70:this.camera.moveEye(1,this.camera.x_axis);break;case 38:this.camera.addPitch(.1);break;case 40:this.camera.addPitch(-.1);break;case 37:this.camera.addYaw(-.1);break;case 39:this.camera.addYaw(.1)}},t}())})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0ssT0FBT3dDLFVBQVMsSUFDckIsTUFFSixLQWxDUSxHQW1DSjFNLEtBQUtrSyxPQUFPeUMsUUFBTyxJQUNuQixNQUNKLEtBcENTLEdBcUNMM00sS0FBS2tLLE9BQU95QyxPQWpDTixNQXFDdEIsRUE1SUEsSyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9SYXkudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1ZlY3Rvci50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVmVjdG9yNEQudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1JheTRELnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9UcmFuc2Zvcm0udHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1RyaWFuZ2xlLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9Ub29sLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9WZXJ0ZXgudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL0JveDNELnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0ZXJhaWxzL0RpZmZ1c2UudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL0NhbWVyYS50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9SYXN0ZXJpemVyQXBwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWZWNvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJheSB7XHJcbiAgICBmcm9tOiBWZWNvcjtcclxuICAgIGRpcjogVmVjb3I7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZnJvbTogVmVjb3IsIGRpcjogVmVjb3IpIHtcclxuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xyXG4gICAgICAgIHRoaXMuZGlyID0gZGlyO1xyXG4gICAgfVxyXG59OyIsImltcG9ydCB7IGxlcnAsIG51bWJlcl9lcXVhbCB9IGZyb20gJy4vVG9vbCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlY3RvciB7XHJcblxyXG4gICAgc3RhdGljIGNhbGN1bGF0ZV9ub3JtYWwodjA6IFZlY3RvciwgdjE6IFZlY3RvciwgdjI6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCB2MDEgPSBWZWN0b3IubWludXModjEsIHYwKTtcclxuICAgICAgICBsZXQgdjAyID0gVmVjdG9yLm1pbnVzKHYyLCB2MCk7XHJcbiAgICAgICAgbGV0IG5vcm1hbCA9IFZlY3Rvci5jcm9zcyh2MDEsIHYwMik7XHJcbiAgICAgICAgcmV0dXJuIG5vcm1hbC5ub3JtYWxpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2FsY3VsYXRlX2NlbnRlcih2MDogVmVjdG9yLCB2MTogVmVjdG9yLCB2MjogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHYwLmFkZCh2MSkuYWRkKHYyKS5tdWx0aXBseSgxIC8gMyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHV2KHU6IG51bWJlciwgdjogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IodSwgdiwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHVwID0gbmV3IFZlY3RvcigwLCAxLCAwKTtcclxuICAgIHN0YXRpYyB6ZXJvID0gbmV3IFZlY3RvcigwLCAwLCAwKTtcclxuXHJcbiAgICBzdGF0aWMgcmVmbGVjdChJOiBWZWN0b3IsIE46IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCBMID0gLTIgKiBWZWN0b3IuZG90KEksIE4pXHJcbiAgICAgICAgcmV0dXJuIE4ubXVsdGlwbHkoTCkuYWRkKEkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGQoQTogVmVjdG9yLCBCOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IG5ldyBWZWN0b3IoQi54ICsgQS54LCBCLnkgKyBBLnksIEIueiArIEEueik7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbWludXMoQTogVmVjdG9yLCBCOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IG5ldyBWZWN0b3IoQS54IC0gQi54LCBBLnkgLSBCLnksIEEueiAtIEIueik7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbXVsdGlwbHkoQTogVmVjdG9yLCBzOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IG5ldyBWZWN0b3IoQS54ICogcywgQS55ICogcywgQS56ICogcyk7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbXVsdGlwbHkzKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoQS54ICogQi54LCBBLnkgKiBCLnksIEEueiAqIEIueik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNyb3NzKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKEEueSAqIEIueiAtIEEueiAqIEIueSwgLUEueCAqIEIueiArIEEueiAqIEIueCwgQS54ICogQi55IC0gQS55ICogQi54KTtcclxuICAgICAgICByZXR1cm4gdGVtcDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZG90KEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIEEueCAqIEIueCArIEEueSAqIEIueSArIEEueiAqIEIuejtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZXF1YWwoQTogVmVjdG9yLCBCOiBWZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gbnVtYmVyX2VxdWFsKEEueCwgQi54KSAmJiBudW1iZXJfZXF1YWwoQS55LCBCLnkpICYmIG51bWJlcl9lcXVhbChBLnosIEIueik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGxlcnAoQTogVmVjdG9yLCBCOiBWZWN0b3IsIHQ6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKFxyXG4gICAgICAgICAgICBsZXJwKEEueCwgQi54LCB0KSxcclxuICAgICAgICAgICAgbGVycChBLnksIEIueSwgdCksXHJcbiAgICAgICAgICAgIGxlcnAoQS56LCBCLnosIHQpKTtcclxuICAgIH1cclxuXHJcbiAgICB4OiBudW1iZXIgPSAwO1xyXG4gICAgeTogbnVtYmVyID0gMDtcclxuICAgIHo6IG51bWJlciA9IDA7XHJcbiAgICBjb25zdHJ1Y3RvcihweDogbnVtYmVyLCBweTogbnVtYmVyLCBwejogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy54ID0gcHg7XHJcbiAgICAgICAgdGhpcy55ID0gcHk7XHJcbiAgICAgICAgdGhpcy56ID0gcHo7XHJcbiAgICB9XHJcblxyXG4gICAgbGVuZ3RoKCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56KTtcclxuICAgIH1cclxuXHJcbiAgICBub3JtYWxpemUoKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSB0aGlzLmxlbmd0aCgpO1xyXG4gICAgICAgIHRoaXMueCA9IHRoaXMueCAvIHRlbXA7XHJcbiAgICAgICAgdGhpcy55ID0gdGhpcy55IC8gdGVtcDtcclxuICAgICAgICB0aGlzLnogPSB0aGlzLnogLyB0ZW1wO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZChBOiBWZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLmFkZCh0aGlzLCBBKTtcclxuICAgIH1cclxuXHJcbiAgICBtaW51cyhBOiBWZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLm1pbnVzKHRoaXMsIEEpO1xyXG4gICAgfVxyXG5cclxuICAgIG11bHRpcGx5KHM6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IubXVsdGlwbHkodGhpcywgcyk7XHJcbiAgICB9XHJcblxyXG4gICAgbmVnYXRpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5tdWx0aXBseSh0aGlzLCAtMSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54LCB0aGlzLnksIHRoaXMueik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVmVjb3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZWN0b3I0RCB7XHJcbiAgICBwOiBWZWNvcjtcclxuICAgIHc6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwOiBWZWNvciwgdzogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5wID0gcDtcclxuICAgICAgICB0aGlzLncgPSB3O1xyXG4gICAgfVxyXG59OyIsImltcG9ydCBWZWN0b3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcbmltcG9ydCBWZWNvcjREIGZyb20gXCIuL1ZlY3RvcjREXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYXkge1xyXG4gICAgZnJvbTogVmVjb3I0RDtcclxuICAgIGRpcjogVmVjb3I0RDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihmcm9tOiBWZWNvcjRELCB0bzogVmVjb3I0RCkge1xyXG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XHJcbiAgICAgICAgdGhpcy5kaXIgPSBuZXcgVmVjb3I0RChWZWN0b3IubWludXModG8ucCwgZnJvbS5wKSwgdG8udyAtIGZyb20udyk7XHJcbiAgICB9XHJcblxyXG4gICAgdF93aGVuX3hfZXF1YWxfdygpIHtcclxuICAgICAgICAvLyBmcm9tLnggKyB0ICogZGlyLng9IGZyb20udyArIHQgKiBkaXIudztcclxuICAgICAgICBsZXQgdCA9ICh0aGlzLmZyb20udyAtIHRoaXMuZnJvbS5wLngpIC8gKHRoaXMuZGlyLnAueCAtIHRoaXMuZGlyLncpO1xyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG5cclxuICAgIHRfd2hlbl95X2VxdWFsX3coKSB7XHJcbiAgICAgICAgbGV0IHQgPSAodGhpcy5mcm9tLncgLSB0aGlzLmZyb20ucC55KSAvICh0aGlzLmRpci5wLnkgLSB0aGlzLmRpci53KTtcclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuXHJcbiAgICB0X3doZW5fel9lcXVhbF93KCkge1xyXG4gICAgICAgIGxldCB0ID0gKHRoaXMuZnJvbS53IC0gdGhpcy5mcm9tLnAueikgLyAodGhpcy5kaXIucC56IC0gdGhpcy5kaXIudyk7XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdF93aGVuX3hfZXF1YWxfbWludXNfdygpIHtcclxuICAgICAgICAvLyBmcm9tLnggKyB0ICogZGlyLng9IC0oZnJvbS53ICsgdCAqIGRpci53KTtcclxuXHJcbiAgICAgICAgbGV0IHQgPSAtKHRoaXMuZnJvbS53ICsgdGhpcy5mcm9tLnAueCkgLyAodGhpcy5kaXIudyArIHRoaXMuZGlyLnAueCk7XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdF93aGVuX3lfZXF1YWxfbWludXNfdygpIHtcclxuICAgICAgICBsZXQgdCA9IC0odGhpcy5mcm9tLncgKyB0aGlzLmZyb20ucC55KSAvICh0aGlzLmRpci53ICsgdGhpcy5kaXIucC55KTtcclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuXHJcbiAgICB0X3doZW5fel9lcXVhbF96ZXJvX3coKSB7XHJcblxyXG4gICAgICAgIC8vIGZyb20ueiArIHQgKiBkaXIuej0gMDtcclxuICAgICAgICBsZXQgdCA9IC10aGlzLmZyb20ucC56IC8gdGhpcy5kaXIucC56O1xyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG59OyIsImltcG9ydCBWZWN0b3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcbmltcG9ydCB7IGRlZ3JlZV90b19SYWQgfSBmcm9tICcuL1Rvb2wnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFuc2Zvcm0ge1xyXG4gICAgeEF4aXM6IFZlY3RvcjtcclxuICAgIHlBeGlzOiBWZWN0b3I7XHJcbiAgICB6QXhpczogVmVjdG9yO1xyXG4gICAgcG9zaXRpb246IFZlY3RvcjtcclxuICAgIGNvbnN0cnVjdG9yKHhBeGlzOiBWZWN0b3IsIHlBeGlzOiBWZWN0b3IsIHpBeGlzOiBWZWN0b3IsIHBvc2l0aW9uOiBWZWN0b3IpIHtcclxuICAgICAgICB0aGlzLnhBeGlzID0geEF4aXM7XHJcbiAgICAgICAgdGhpcy55QXhpcyA9IHlBeGlzO1xyXG4gICAgICAgIHRoaXMuekF4aXMgPSB6QXhpcztcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHRyYW5zZm9ybVBvaW50KHRyYW5zZm9ybTogVHJhbnNmb3JtLCBwb2ludDogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHZlY3RvclggPSB0cmFuc2Zvcm0ueEF4aXMubXVsdGlwbHkocG9pbnQueCk7XHJcbiAgICAgICAgbGV0IHZlY3RvclkgPSB0cmFuc2Zvcm0ueUF4aXMubXVsdGlwbHkocG9pbnQueSk7XHJcbiAgICAgICAgbGV0IHZlY3RvclogPSB0cmFuc2Zvcm0uekF4aXMubXVsdGlwbHkocG9pbnQueik7XHJcblxyXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm0ucG9zaXRpb24uYWRkKHZlY3RvclgpLmFkZCh2ZWN0b3JZKS5hZGQodmVjdG9yWik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHRyYW5zZm9ybVZlY3Rvcih0cmFuc2Zvcm06IFRyYW5zZm9ybSwgdmVydGV4OiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgdmVjdG9yWCA9IHRyYW5zZm9ybS54QXhpcy5tdWx0aXBseSh2ZXJ0ZXgueCk7XHJcbiAgICAgICAgbGV0IHZlY3RvclkgPSB0cmFuc2Zvcm0ueUF4aXMubXVsdGlwbHkodmVydGV4LnkpO1xyXG4gICAgICAgIGxldCB2ZWN0b3JaID0gdHJhbnNmb3JtLnpBeGlzLm11bHRpcGx5KHZlcnRleC56KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHZlY3RvclguYWRkKHZlY3RvclkpLmFkZCh2ZWN0b3JaKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdHJhbnNmb3JtVHJhbnNmb3JtKHRyYW5zZm9ybTogVHJhbnNmb3JtLCBpbnB1dFRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm0oXHJcbiAgICAgICAgICAgIFRyYW5zZm9ybS50cmFuc2Zvcm1WZWN0b3IodHJhbnNmb3JtLCBpbnB1dFRyYW5zZm9ybS54QXhpcyksXHJcbiAgICAgICAgICAgIFRyYW5zZm9ybS50cmFuc2Zvcm1WZWN0b3IodHJhbnNmb3JtLCBpbnB1dFRyYW5zZm9ybS55QXhpcyksXHJcbiAgICAgICAgICAgIFRyYW5zZm9ybS50cmFuc2Zvcm1WZWN0b3IodHJhbnNmb3JtLCBpbnB1dFRyYW5zZm9ybS56QXhpcyksXHJcbiAgICAgICAgICAgIFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludCh0cmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtLnBvc2l0aW9uKSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByb3RhdGVCeVooZGVncmVlOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgcmFkaWFuID0gZGVncmVlX3RvX1JhZChkZWdyZWUpO1xyXG4gICAgICAgIGxldCBjID0gTWF0aC5jb3MocmFkaWFuKSwgcyA9IE1hdGguc2luKHJhZGlhbik7XHJcbiAgICAgICAgbGV0IHhBeGlzID0gbmV3IFZlY3RvcihjLCBzLCAwKTtcclxuICAgICAgICBsZXQgeUF4aXMgPSBuZXcgVmVjdG9yKC1zLCBjLCAwKTtcclxuICAgICAgICBsZXQgekF4aXMgPSBuZXcgVmVjdG9yKDAsIDAsIDEpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgeEF4aXMsXHJcbiAgICAgICAgICAgIHlBeGlzLFxyXG4gICAgICAgICAgICB6QXhpcyxcclxuICAgICAgICAgICAgVmVjdG9yLnplcm8sXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcm90YXRlQnlZKGRlZ3JlZTogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHJhZGlhbiA9IGRlZ3JlZV90b19SYWQoZGVncmVlKTtcclxuICAgICAgICBsZXQgYyA9IE1hdGguY29zKHJhZGlhbiksIHMgPSBNYXRoLnNpbihyYWRpYW4pO1xyXG4gICAgICAgIGxldCB6QXhpcyA9IG5ldyBWZWN0b3IocywgMCwgYyk7XHJcbiAgICAgICAgbGV0IHhBeGlzID0gbmV3IFZlY3RvcihjLCAwLCAtcyk7XHJcbiAgICAgICAgbGV0IHlBeGlzID0gbmV3IFZlY3RvcigwLCAxLCAwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm0oXHJcbiAgICAgICAgICAgIHhBeGlzLFxyXG4gICAgICAgICAgICB5QXhpcyxcclxuICAgICAgICAgICAgekF4aXMsXHJcbiAgICAgICAgICAgIFZlY3Rvci56ZXJvLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJvdGF0ZUJ5WChkZWdyZWU6IG51bWJlcikge1xyXG4gICAgICAgIGxldCByYWRpYW4gPSBkZWdyZWVfdG9fUmFkKGRlZ3JlZSk7XHJcbiAgICAgICAgbGV0IGMgPSBNYXRoLmNvcyhyYWRpYW4pLCBzID0gTWF0aC5zaW4ocmFkaWFuKTtcclxuICAgICAgICBsZXQgeEF4aXMgPSBuZXcgVmVjdG9yKDEsIDAsIDApO1xyXG4gICAgICAgIGxldCB5QXhpcyA9IG5ldyBWZWN0b3IoMCwgYywgcyk7XHJcbiAgICAgICAgbGV0IHpBeGlzID0gbmV3IFZlY3RvcigwLCAtcywgYyk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtKFxyXG4gICAgICAgICAgICB4QXhpcyxcclxuICAgICAgICAgICAgeUF4aXMsXHJcbiAgICAgICAgICAgIHpBeGlzLFxyXG4gICAgICAgICAgICBuZXcgVmVjdG9yKDAsIDAsIDApLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG9mZnNldCh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm0oXHJcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoMSwgMCwgMCksXHJcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoMCwgMSwgMCksXHJcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoMCwgMCwgMSksXHJcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoeCwgeSwgeiksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuIiwiaW1wb3J0IFRyYW5zZm9ybSBmcm9tICcuL1RyYW5zZm9ybSc7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSAnLi9WZWN0b3InXHJcbmltcG9ydCBWZXJ0ZXggZnJvbSAnLi9WZXJ0ZXgnXHJcbmltcG9ydCB7IENsaXBQbGFuZSwgY2xpcCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9DYW1lcmEnO1xyXG5pbXBvcnQgUGxhbmUgZnJvbSAnLi9QbGFuZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmlhbmdsZSB7XHJcblxyXG4gICAgc3RhdGljIE1WUF9iYWNrZmFjZV9jdWxsaW5nX2NsaXBwaW5nKHRyaWFuZ2xlOiBUcmlhbmdsZSwgcGNhbWVyYTogQ2FtZXJhLCB3b3JsZFRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XHJcbiAgICAgICAgLy8gdG8gd29ybGQgc3BhY2VcclxuICAgICAgICBsZXQgdjBfdyA9IFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludCh3b3JsZFRyYW5zZm9ybSwgdHJpYW5nbGUudjAucCk7XHJcbiAgICAgICAgbGV0IHYxX3cgPSBUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQod29ybGRUcmFuc2Zvcm0sIHRyaWFuZ2xlLnYxLnApO1xyXG4gICAgICAgIGxldCB2Ml93ID0gVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHdvcmxkVHJhbnNmb3JtLCB0cmlhbmdsZS52Mi5wKTtcclxuXHJcbiAgICAgICAgLy8gdG8gY2FtZXJhIHNwYWNlXHJcbiAgICAgICAgbGV0IHYwX2MgPSBwY2FtZXJhLnRvQ2FtZXJhU3BhY2UodjBfdyk7XHJcbiAgICAgICAgbGV0IHYxX2MgPSBwY2FtZXJhLnRvQ2FtZXJhU3BhY2UodjFfdyk7XHJcbiAgICAgICAgbGV0IHYyX2MgPSBwY2FtZXJhLnRvQ2FtZXJhU3BhY2UodjJfdyk7XHJcblxyXG4gICAgICAgIC8vIHRvIHByb2plY3Rpb24gc3BhY2UgKGNsaXAgc3BhY2UpXHJcbiAgICAgICAgbGV0IHYwX3AgPSBwY2FtZXJhLnRvUHJvamVjdGlvblNwYWNlKHYwX2MpO1xyXG4gICAgICAgIGxldCB2MV9wID0gcGNhbWVyYS50b1Byb2plY3Rpb25TcGFjZSh2MV9jKTtcclxuICAgICAgICBsZXQgdjJfcCA9IHBjYW1lcmEudG9Qcm9qZWN0aW9uU3BhY2UodjJfYyk7XHJcblxyXG4gICAgICAgIC8vIGJhY2sgZmFjZSBjdWxsaW5nIFxyXG4gICAgICAgIC8vIGxldCB2MF90ZXN0ID0gbmV3IFZlY3Rvcih2MF9wLngsIHYwX3AueSwgdjBfYy56KTtcclxuICAgICAgICAvLyBsZXQgdjFfdGVzdCA9IG5ldyBWZWN0b3IodjFfcC54LCB2MV9wLnksIHYxX2Mueik7XHJcbiAgICAgICAgLy8gbGV0IHYyX3Rlc3QgPSBuZXcgVmVjdG9yKHYyX3AueCwgdjJfcC55LCB2Ml9jLnopO1xyXG4gICAgICAgIC8vIGxldCBub3JtYWwgPSBWZWN0b3IuY2FsY3VsYXRlX25vcm1hbCh2MF90ZXN0LCB2MV90ZXN0LCB2Ml90ZXN0KTtcclxuICAgICAgICAvLyBsZXQgY2VudGVyX3RvX2V5ZSA9IFZlY3Rvci5taW51cyhWZWN0b3IuemVybywgVmVjdG9yLmNhbGN1bGF0ZV9jZW50ZXIodjBfdGVzdCwgdjFfdGVzdCwgdjJfdGVzdCkpLm5vcm1hbGl6ZSgpO1xyXG5cclxuICAgICAgICAvLyDlnKh2aWV3IHNwYWNl5YGa77yM5LiN54S25ZyoY2xpcCBzcGFjZeWBmu+8jOmChOimgeaKinrnlKh35Y+W5Luj5o6J77yM5pyJ6bue5pCe5belXHJcbiAgICAgICAgbGV0IG5vcm1hbCA9IFZlY3Rvci5jYWxjdWxhdGVfbm9ybWFsKHYwX2MsIHYxX2MsIHYyX2MpO1xyXG4gICAgICAgIGxldCBjZW50ZXJfdG9fZXllID0gVmVjdG9yLm1pbnVzKFZlY3Rvci56ZXJvLCBWZWN0b3IuY2FsY3VsYXRlX2NlbnRlcih2MF9jLCB2MV9jLCB2Ml9jKSkubm9ybWFsaXplKCk7XHJcbiAgICAgICAgbGV0IGNvc192YWx1ZSA9IFZlY3Rvci5kb3Qobm9ybWFsLCBjZW50ZXJfdG9fZXllKTs7XHJcbiAgICAgICAgaWYgKGNvc192YWx1ZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjdWxsaW5nJylcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g6YeN5paw57aB5a6adXZcclxuICAgICAgICBsZXQgdjAgPSB0cmlhbmdsZS52MC5jbG9uZSgpLnVwZGF0ZV9wKHYwX3ApLnVwZGF0ZV93KHYwX2Mueik7XHJcbiAgICAgICAgbGV0IHYxID0gdHJpYW5nbGUudjEuY2xvbmUoKS51cGRhdGVfcCh2MV9wKS51cGRhdGVfdyh2MV9jLnopO1xyXG4gICAgICAgIGxldCB2MiA9IHRyaWFuZ2xlLnYyLmNsb25lKCkudXBkYXRlX3AodjJfcCkudXBkYXRlX3codjJfYy56KTtcclxuXHJcbiAgICAgICAgLy8g5Z+36KGM5LiJ6KeS5b2i6KOB5YiHXHJcblxyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh2MC5wLnopO1xyXG4gICAgICAgIHJldHVybiBUcmlhbmdsZS5jbGlwX2luX1Byb2plY3Rpb25fU3BhY2UodjAsIHYxLCB2MiwgcGNhbWVyYSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNsaXBfaGVscGVyKGluX2xpc3Q6IFRyaWFuZ2xlW10sXHJcbiAgICAgICAgdjBfb3V0OiAodHJpYW5nbGU6IFRyaWFuZ2xlKSA9PiBib29sZWFuLFxyXG4gICAgICAgIHYxX291dDogKHRyaWFuZ2xlOiBUcmlhbmdsZSkgPT4gYm9vbGVhbixcclxuICAgICAgICB2Ml9vdXQ6ICh0cmlhbmdsZTogVHJpYW5nbGUpID0+IGJvb2xlYW4sXHJcbiAgICAgICAgcGxhbmU6IENsaXBQbGFuZSkge1xyXG5cclxuICAgICAgICBsZXQgb3V0X2xpc3Q6IFRyaWFuZ2xlW10gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBUIG9mIGluX2xpc3QpIHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGNsaXAoVCwgdjBfb3V0LCB2MV9vdXQsIHYyX291dCwgcGxhbmUpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCB0IG9mIHJlc3VsdClcclxuICAgICAgICAgICAgICAgIG91dF9saXN0LnB1c2godCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRfbGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xpcF9pbl9Qcm9qZWN0aW9uX1NwYWNlKHYwOiBWZXJ0ZXgsIHYxOiBWZXJ0ZXgsIHYyOiBWZXJ0ZXgsIHBjYW1lcmE6IENhbWVyYSkge1xyXG4gICAgICAgIC8vIFRvZG865Z+36KGMNuWAi+W5s+mdoueahOS4ieinkuW9ouijgeWIh1xyXG4gICAgICAgIC8vIOWSjHnou7jlpL40NeW6pueahDLlgIvlubPpnaLjgIHlkox46Lu45aS+NDXluqbnmoQy5YCL5bmz6Z2i44CB6YKE5pyJTmPlkoxGY1xyXG4gICAgICAgIC8vIGh0dHBzOi8vZ3Bubm90ZXMuYmxvZ3Nwb3QuY29tLzIwMjEvMTEvYmxvZy1wb3N0XzI4Lmh0bWxcclxuXHJcblxyXG4gICAgICAgIGxldCBpbl9saXN0ID0gW25ldyBUcmlhbmdsZSh2MCwgdjEsIHYyKV07XHJcblxyXG4gICAgICAgIC8vIEZhclxyXG4gICAgICAgIGxldCBvdXRfbGlzdCA9IFRyaWFuZ2xlLmNsaXBfaGVscGVyKGluX2xpc3QsXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gVC52MC53IDwgVC52MC5wLno7IH0sXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gVC52MS53IDwgVC52MS5wLno7IH0sXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gVC52Mi53IDwgVC52Mi5wLno7IH0sXHJcbiAgICAgICAgICAgIENsaXBQbGFuZS5GYXIpO1xyXG5cclxuICAgICAgICAvLyBOZWFyXHJcbiAgICAgICAgb3V0X2xpc3QgPSBUcmlhbmdsZS5jbGlwX2hlbHBlcihvdXRfbGlzdCxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiAwID4gVC52MC5wLno7IH0sXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gMCA+IFQudjEucC56OyB9LFxyXG4gICAgICAgICAgICAoVDogVHJpYW5nbGUpID0+IHsgcmV0dXJuIDAgPiBULnYyLnAuejsgfSxcclxuICAgICAgICAgICAgQ2xpcFBsYW5lLk5lYXIpO1xyXG5cclxuICAgICAgICByZXR1cm4gb3V0X2xpc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHByb2Nlc3ModHJpYW5nbGU6IFRyaWFuZ2xlLCBwY2FtZXJhOiBDYW1lcmEsIHdvcmxkVHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcclxuXHJcbiAgICAgICAgLy8gdG8gTVZQXHJcbiAgICAgICAgbGV0IHRyaWFuZ2xlX2xpc3QgPSBUcmlhbmdsZS5NVlBfYmFja2ZhY2VfY3VsbGluZ19jbGlwcGluZyh0cmlhbmdsZSwgcGNhbWVyYSwgd29ybGRUcmFuc2Zvcm0pO1xyXG5cclxuICAgICAgICBsZXQgbGlzdCA9IFtdO1xyXG4gICAgICAgIC8vIHRvIE5EQ1xyXG4gICAgICAgIGZvciAobGV0IFQgb2YgdHJpYW5nbGVfbGlzdCkge1xyXG4gICAgICAgICAgICBsZXQgdjAgPSBwY2FtZXJhLnRvTkRDKFQudjAucCwgVC52MC53KTtcclxuICAgICAgICAgICAgbGV0IHYxID0gcGNhbWVyYS50b05EQyhULnYxLnAsIFQudjEudyk7XHJcbiAgICAgICAgICAgIGxldCB2MiA9IHBjYW1lcmEudG9OREMoVC52Mi5wLCBULnYyLncpO1xyXG5cclxuICAgICAgICAgICAgLy8gdG8gc2NyZWVuIHNwYWNlXHJcbiAgICAgICAgICAgIGxldCB2MF9zID0gcGNhbWVyYS50b1NjcmVlblNwYWNlKHYwKTtcclxuICAgICAgICAgICAgbGV0IHYxX3MgPSBwY2FtZXJhLnRvU2NyZWVuU3BhY2UodjEpO1xyXG4gICAgICAgICAgICBsZXQgdjJfcyA9IHBjYW1lcmEudG9TY3JlZW5TcGFjZSh2Mik7XHJcblxyXG4gICAgICAgICAgICAvLyDngrrkuoblkozmnKzkvobnmoRjb2Rl55u45a6577yM5pqr5pmC5YWI5YKz5Ye65Y67XHJcbiAgICAgICAgICAgIGxpc3QucHVzaCh2MF9zKTtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKHYxX3MpO1xyXG4gICAgICAgICAgICBsaXN0LnB1c2godjJfcyk7XHJcblxyXG4gICAgICAgICAgICAvLyDmib7lh7rljIXlnI3nmoTnn6nlvaJcclxuXHJcbiAgICAgICAgICAgIC8vIOWwjeefqeW9ouijoeeahOavj+WAi+m7nnBcclxuICAgICAgICAgICAgLy8g5Yik5a6a5piv5ZCm5L2N5Zyoc2NyZWVuIHNwYWNl5LiJ6KeS5b2iXHJcbiAgICAgICAgICAgIC8vIGlmIHllcyBcclxuICAgICAgICAgICAgLy8gKDEp6YeN5paw5oqK6buecOaYoOWwhOWIsE5EQyxcclxuICAgICAgICAgICAgLy8gKDIp5ZyoTkRD6YCy6KGM5YWn5o+S77yM5LmY5LiKd+WbnuWIsHByb2plY3Rpb24gc3BhY2VcclxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9ncG5ub3Rlcy5ibG9nc3BvdC5jb20vMjAyMS8xMS9ibG9nLXBvc3RfMjcuaHRtbFxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgdjA6IFZlcnRleDtcclxuICAgIHYxOiBWZXJ0ZXg7XHJcbiAgICB2MjogVmVydGV4O1xyXG4gICAgY29uc3RydWN0b3IocHYwOiBWZXJ0ZXgsIHB2MTogVmVydGV4LCBwdjI6IFZlcnRleCkge1xyXG4gICAgICAgIHRoaXMudjAgPSBwdjA7XHJcbiAgICAgICAgdGhpcy52MSA9IHB2MTtcclxuICAgICAgICB0aGlzLnYyID0gcHYyO1xyXG4gICAgfVxyXG5cclxuICAgIHZfczogVmVjdG9yW107XHJcbiAgICBwcm9jZXNzKHBjYW1lcmE6IENhbWVyYSwgd29ybGRUcmFuc2Zvcm06IFRyYW5zZm9ybSkge1xyXG4gICAgICAgIHRoaXMudl9zID0gVHJpYW5nbGUucHJvY2Vzcyh0aGlzLCBwY2FtZXJhLCB3b3JsZFRyYW5zZm9ybSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIGlmICh0aGlzLnZfcyA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCB0Q291bnQgPSB0aGlzLnZfcy5sZW5ndGggLyAzO1xyXG4gICAgICAgIGZvciAobGV0IGMgPSAxOyBjIDw9IHRDb3VudDsgKytjKSB7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IDMgKiBjIC0gMTtcclxuICAgICAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnZfc1tpbmRleF0ueCwgdGhpcy52X3NbaW5kZXhdLnkpO1xyXG4gICAgICAgICAgICBjdHgubGluZVRvKHRoaXMudl9zW2luZGV4IC0gMl0ueCwgdGhpcy52X3NbaW5kZXggLSAyXS55KTtcclxuICAgICAgICAgICAgY3R4LmxpbmVUbyh0aGlzLnZfc1tpbmRleCAtIDFdLngsIHRoaXMudl9zW2luZGV4IC0gMV0ueSk7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8odGhpcy52X3NbaW5kZXhdLngsIHRoaXMudl9zW2luZGV4XS55KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCBTY2VuZU5vZGUgZnJvbSBcIi4uL09iamVjdC9TY2VuZU5vZGVcIjtcclxuaW1wb3J0IFJheSBmcm9tIFwiLi9SYXlcIjtcclxuaW1wb3J0IFJheTREIGZyb20gXCIuL1JheTREXCI7XHJcbmltcG9ydCBIaXRJbmZvIGZyb20gXCIuL0hpdEluZm9cIjtcclxuaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IFRyaWFuZ2xlIGZyb20gXCIuL1RyaWFuZ2xlXCI7XHJcbmltcG9ydCBWZXJ0ZXggZnJvbSBcIi4vVmVydGV4XCI7XHJcbmltcG9ydCBQbGFuZSBmcm9tIFwiLi9QbGFuZVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlZ3JlZV90b19SYWQoZDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5QSSAqIGQgLyAxODA7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZXBzaWxvbjogbnVtYmVyID0gMC4wMDE7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyX2VxdWFsKGE6IG51bWJlciwgYjogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDwgZXBzaWxvbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0geCBpbnB1dFxyXG4gKiBAcGFyYW0gYSBtaW4gXHJcbiAqIEBwYXJhbSBiIG1heFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHg6IG51bWJlciwgYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcclxuICAgIGlmICh4ID4gYilcclxuICAgICAgICByZXR1cm4gYjtcclxuICAgIGVsc2UgaWYgKHggPCBhKVxyXG4gICAgICAgIHJldHVybiBhO1xyXG4gICAgZWxzZVxyXG4gICAgICAgIHJldHVybiB4O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2hpdF9zb3J0X2xpc3Qob2JqX2xpc3Q6IFNjZW5lTm9kZVtdLCByYXk6IFJheSkge1xyXG4gICAgbGV0IGhpdF9zb3J0X2xpc3QgPSBvYmpfbGlzdC5tYXAob2JqID0+IG9iai5oLmhpdChyYXksIG9iai5zKSlcclxuICAgICAgICAuZmlsdGVyKGluZm8gPT4gaW5mby5pc19oaXQpXHJcbiAgICAgICAgLnNvcnQoKGE6IEhpdEluZm8sIGI6IEhpdEluZm8pID0+IGEudCAtIGIudCk7XHJcblxyXG4gICAgcmV0dXJuIGhpdF9zb3J0X2xpc3Q7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRfc2hhZG93X3dlaWdodChoaXRfaW5mbzogSGl0SW5mbywgZGlyZWN0aW9uX2xpZ2h0X2RpcjogVmVjdG9yLCBvYmpfbGlzdDogU2NlbmVOb2RlW10pIHtcclxuXHJcbiAgICAvLyDmmK/lkKblnKjlvbHlrZDlhadcclxuICAgIGxldCBkaXIgPSBkaXJlY3Rpb25fbGlnaHRfZGlyLm5lZ2F0aXZlKCk7XHJcbiAgICBsZXQgZnJvbSA9IGhpdF9pbmZvLmhpdF9wb3MuYWRkKGRpci5tdWx0aXBseShlcHNpbG9uKSk7IC8vIOWBj+enu+S4gOWwj+autei3nembou+8jOmBv+WFjeWwhOS4reiHquW3sVxyXG4gICAgbGV0IHJheSA9IG5ldyBSYXkoZnJvbSwgZGlyKTtcclxuICAgIGxldCBoaXRfc29ydF9saXN0ID0gZ2V0X2hpdF9zb3J0X2xpc3Qob2JqX2xpc3QsIHJheSk7XHJcbiAgICBpZiAoaGl0X3NvcnRfbGlzdC5sZW5ndGggIT0gMCkgeyAvLyDlnKjlvbHlrZDlhadcclxuICAgICAgICByZXR1cm4gMC40NTsgLy8g5LiN6KaB5aSq6buRXHJcbiAgICB9IGVsc2VcclxuICAgICAgICByZXR1cm4gMTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoYTogbnVtYmVyLCBiOiBudW1iZXIsIHQ6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIGEgKyB0ICogKGIgLSBhKTtcclxufVxyXG5cclxuZXhwb3J0IGVudW0gQ2xpcFBsYW5lIHtcclxuICAgIE5lYXIsXHJcbiAgICBGYXIsXHJcbiAgICBSaWdodCxcclxuICAgIExlZnQsXHJcbiAgICBUb3AsXHJcbiAgICBCb3R0b21cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsaXAodHJpYW5nbGU6IFRyaWFuZ2xlLFxyXG4gICAgdjBfb3V0OiAodHJpYW5nbGU6IFRyaWFuZ2xlKSA9PiBib29sZWFuLFxyXG4gICAgdjFfb3V0OiAodHJpYW5nbGU6IFRyaWFuZ2xlKSA9PiBib29sZWFuLFxyXG4gICAgdjJfb3V0OiAodHJpYW5nbGU6IFRyaWFuZ2xlKSA9PiBib29sZWFuLFxyXG4gICAgcGxhbmU6IENsaXBQbGFuZSkge1xyXG5cclxuICAgIGxldCB2X2NsaXA6IFRyaWFuZ2xlW10gPSBbXTtcclxuXHJcbiAgICBsZXQgZ2V0Q3Jvc3NQb2ludCA9IGZ1bmN0aW9uICh2MDogVmVydGV4LCB2MTogVmVydGV4KSB7XHJcbiAgICAgICAgbGV0IHJheSA9IG5ldyBSYXk0RCh2MC5nZXRfVmVjdG9yNEQoKSwgdjEuZ2V0X1ZlY3RvcjREKCkpO1xyXG5cclxuICAgICAgICBsZXQgdCA9IDA7XHJcbiAgICAgICAgc3dpdGNoIChwbGFuZSkge1xyXG4gICAgICAgICAgICBjYXNlIENsaXBQbGFuZS5GYXI6XHJcbiAgICAgICAgICAgICAgICB0ID0gcmF5LnRfd2hlbl96X2VxdWFsX3coKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENsaXBQbGFuZS5OZWFyOlxyXG4gICAgICAgICAgICAgICAgdCA9IHJheS50X3doZW5fel9lcXVhbF96ZXJvX3coKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFZlcnRleC5sZXJwKHYwLCB2MSwgdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdm8gaW4gXHJcbiAgICBsZXQgY2xpcF9maXJzdF9pbiA9IGZ1bmN0aW9uICh2MDogVmVydGV4LCB2MTogVmVydGV4LCB2MjogVmVydGV4KSB7XHJcbiAgICAgICAgLy8gMSB0cmlhbmdsZSB0byAxIHRyaWFuZ2xlXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ29uZScpO1xyXG4gICAgICAgIHZfY2xpcFswXSA9IG5ldyBUcmlhbmdsZSh2MCwgZ2V0Q3Jvc3NQb2ludCh2MCwgdjEpLCBnZXRDcm9zc1BvaW50KHYwLCB2MikpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdm8gb3V0XHJcbiAgICBsZXQgY2xpcF9maXJzdF9vdXQgPSBmdW5jdGlvbiAodjA6IFZlcnRleCwgdjE6IFZlcnRleCwgdjI6IFZlcnRleCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd0d28nKTtcclxuICAgICAgICAvLyAxIHRyaWFuZ2xlIHRvIDIgdHJpYW5nbGVcclxuICAgICAgICBsZXQgY3Jvc3MxID0gZ2V0Q3Jvc3NQb2ludCh2MiwgdjApO1xyXG4gICAgICAgIGxldCBjcm9zczIgPSBnZXRDcm9zc1BvaW50KHYwLCB2MSk7XHJcblxyXG4gICAgICAgIHZfY2xpcFswXSA9IG5ldyBUcmlhbmdsZSh2MiwgY3Jvc3MxLCBjcm9zczIpO1xyXG4gICAgICAgIHZfY2xpcFsxXSA9IG5ldyBUcmlhbmdsZSh2MiwgY3Jvc3MyLCB2MSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIOaciTjnqK7mg4Xms4FcclxuICAgIGlmICh2MF9vdXQodHJpYW5nbGUpLyp0cmlhbmdsZS52MC5wLnogPCBuZWFyUGxhbmVaKi8pLy9vdXRcclxuICAgIHtcclxuICAgICAgICBpZiAodjFfb3V0KHRyaWFuZ2xlKSAvKiB0cmlhbmdsZS52MS5wLnogPCBuZWFyUGxhbmVaICovKS8vIG91dCBvdXRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh2Ml9vdXQodHJpYW5nbGUpIC8qdHJpYW5nbGUudjIucC56IDwgbmVhclBsYW5lWiovKS8vZnVsbCBvdXQgb2YgbmVhclBsYW5lWiAobm8gY2xpcClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Z1bGwgb3V0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSAvL291dCBvdXQgaW5cclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3RfaW4odHJpYW5nbGUudjIsIHRyaWFuZ2xlLnYwLCB0cmlhbmdsZS52MSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgLy9vdXQgaW4gXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodjJfb3V0KHRyaWFuZ2xlKSAvKnRyaWFuZ2xlLnYyLnAueiA8IG5lYXJQbGFuZVoqLykvL291dCBpbiBvdXRcclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3RfaW4odHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyLCB0cmlhbmdsZS52MCk7XHJcbiAgICAgICAgICAgIGVsc2UgLy8gb3V0IGluIGluXHJcbiAgICAgICAgICAgICAgICBjbGlwX2ZpcnN0X291dCh0cmlhbmdsZS52MCwgdHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIC8vIGluXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHYxX291dCh0cmlhbmdsZSkgLyp0cmlhbmdsZS52MS5wLnogPCBuZWFyUGxhbmVaKi8pLy8gaW4gb3V0IFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHYyX291dCh0cmlhbmdsZSkgLyp0cmlhbmdsZS52Mi5wLnogPCBuZWFyUGxhbmVaKi8pLy8gaW4gb3V0IG91dFxyXG4gICAgICAgICAgICAgICAgY2xpcF9maXJzdF9pbih0cmlhbmdsZS52MCwgdHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyKTtcclxuICAgICAgICAgICAgZWxzZSAvLyBpbiBvdXQgaW5cclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3Rfb3V0KHRyaWFuZ2xlLnYxLCB0cmlhbmdsZS52MiwgdHJpYW5nbGUudjApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIC8vIGluIGluXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodjJfb3V0KHRyaWFuZ2xlKSAvKnRyaWFuZ2xlLnYyLnAueiA8IG5lYXJQbGFuZVoqLykvLyBpbiBpbiBvdXRcclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3Rfb3V0KHRyaWFuZ2xlLnYyLCB0cmlhbmdsZS52MCwgdHJpYW5nbGUudjEpO1xyXG4gICAgICAgICAgICBlbHNlIC8vIGluIGluIGluIChubyBjbGlwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2X2NsaXBbMF0gPSB0cmlhbmdsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2X2NsaXA7XHJcbn0iLCJcclxuaW1wb3J0IHsgbGVycCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSAnLi9WZWN0b3InXHJcbmltcG9ydCBWZWN0b3I0RCBmcm9tICcuL1ZlY3RvcjREJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlcnRleCB7XHJcbiAgICBzdGF0aWMgYnVpbGRfdmVydGV4KHA6IFZlY3RvciwgbjogVmVjdG9yLCB3OiBudW1iZXIsIHU6IG51bWJlciwgdjogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHZlcnRleCA9IG5ldyBWZXJ0ZXgocCwgbiwgdywgdSwgdik7XHJcbiAgICAgICAgcmV0dXJuIHZlcnRleDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbGVycCh2MDogVmVydGV4LCB2MTogVmVydGV4LCB0OiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgcCA9IFZlY3Rvci5sZXJwKHYwLnAsIHYxLnAsIHQpO1xyXG4gICAgICAgIGxldCBuID0gVmVjdG9yLmxlcnAodjAubiwgdjEubiwgdCk7XHJcbiAgICAgICAgbGV0IHcgPSBsZXJwKHYwLncsIHYxLncsIHQpO1xyXG4gICAgICAgIGxldCB1ID0gbGVycCh2MC51LCB2MS51LCB0KTtcclxuICAgICAgICBsZXQgdiA9IGxlcnAodjAudiwgdjEudiwgdCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZXJ0ZXgocCwgbiwgdywgdSwgdik7XHJcbiAgICB9XHJcblxyXG4gICAgcDogVmVjdG9yO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgdTogbnVtYmVyO1xyXG4gICAgdjogbnVtYmVyO1xyXG4gICAgbjogVmVjdG9yO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHA6IFZlY3RvciwgbjogVmVjdG9yLCB3OiBudW1iZXIsIHU6IG51bWJlciwgdjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5wID0gcDtcclxuICAgICAgICB0aGlzLm4gPSBuO1xyXG4gICAgICAgIHRoaXMudyA9IHc7XHJcbiAgICAgICAgdGhpcy51ID0gdTtcclxuICAgICAgICB0aGlzLnYgPSB2O1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVydGV4KHRoaXMucC5jbG9uZSgpLCB0aGlzLm4uY2xvbmUoKSwgdGhpcy53LCB0aGlzLnUsIHRoaXMudik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlX3AocDogVmVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5wID0gcDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVfdyh3OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLncgPSB3O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldF9WZWN0b3I0RCgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjREKHRoaXMucCwgdGhpcy53KTtcclxuICAgIH1cclxufSIsImltcG9ydCBWZXJ0ZXggZnJvbSAnLi9WZXJ0ZXgnXHJcbmltcG9ydCBUcmlhbmdsZSBmcm9tICcuL1RyaWFuZ2xlJztcclxuaW1wb3J0IFZlY3RvciBmcm9tICcuL1ZlY3Rvcic7XHJcbmltcG9ydCBUcmFuc2Zvcm0gZnJvbSAnLi9UcmFuc2Zvcm0nO1xyXG5pbXBvcnQgeyBjbGlwIH0gZnJvbSAnLi9Ub29sJztcclxuaW1wb3J0IENhbWVyYSBmcm9tICcuL0NhbWVyYSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCb3gge1xyXG4gICAgdHJpYW5nbGVzOiBUcmlhbmdsZVtdO1xyXG4gICAgdHJpYW5nbGVzX2FmdGVyX2NsaXA6IFRyaWFuZ2xlW107XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvLyDlu7rnq4vmraPmlrnpq5TpoILpu57os4fmlplcclxuICAgICAgICB0aGlzLnRyaWFuZ2xlcyA9IFtdO1xyXG4gICAgICAgIC8v6aCG5pmC6YedXHJcbiAgICAgICAgbGV0IG4gPSBuZXcgVmVjdG9yKDAsIDAsIC0xKTtcclxuICAgICAgICB0aGlzLnRyaWFuZ2xlcy5wdXNoKFxyXG4gICAgICAgICAgICBuZXcgVHJpYW5nbGUoXHJcbiAgICAgICAgICAgICAgICBuZXcgVmVydGV4KG5ldyBWZWN0b3IoLTEwLCAtMTAsIC0xMCksIG4sIDEsIDAsIDApLFxyXG4gICAgICAgICAgICAgICAgbmV3IFZlcnRleChuZXcgVmVjdG9yKDEwLCAxMCwgLTEwKSwgbiwgMSwgMSwgMSksXHJcbiAgICAgICAgICAgICAgICBuZXcgVmVydGV4KG5ldyBWZWN0b3IoMTAsIC0xMCwgLTEwKSwgbiwgMSwgMSwgMClcclxuICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgdGhpcy50cmlhbmdsZXMucHVzaChcclxuICAgICAgICAgICAgbmV3IFRyaWFuZ2xlKFxyXG4gICAgICAgICAgICAgICAgbmV3IFZlcnRleChuZXcgVmVjdG9yKC0xMCwgLTEwLCAtMTApLCBuLCAxLCAwLCAwKSxcclxuICAgICAgICAgICAgICAgIG5ldyBWZXJ0ZXgobmV3IFZlY3RvcigtMTAsIDEwLCAtMTApLCBuLCAxLCAwLCAxKSxcclxuICAgICAgICAgICAgICAgIG5ldyBWZXJ0ZXgobmV3IFZlY3RvcigxMCwgMTAsIC0xMCksIG4sIDEsIDEsIDEpXHJcbiAgICAgICAgICAgICkpO1xyXG5cclxuICAgICAgICBsZXQgbSA9IFtUcmFuc2Zvcm0ucm90YXRlQnlZKDkwKSwgVHJhbnNmb3JtLnJvdGF0ZUJ5WSgxODApLCBUcmFuc2Zvcm0ucm90YXRlQnlZKDI3MCksIFRyYW5zZm9ybS5yb3RhdGVCeVgoOTApLCBUcmFuc2Zvcm0ucm90YXRlQnlYKC05MCldXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCByb3RhdGVNYXRyaXggPSBtW2ldO1xyXG4gICAgICAgICAgICBsZXQgbjIgPSBUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQocm90YXRlTWF0cml4LCBuKTtcclxuICAgICAgICAgICAgdGhpcy50cmlhbmdsZXMucHVzaChcclxuICAgICAgICAgICAgICAgIG5ldyBUcmlhbmdsZShcclxuICAgICAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludChyb3RhdGVNYXRyaXgsIG5ldyBWZWN0b3IoLSAxMCwgLTEwLCAtMTApKSwgbjIsIDEsIDAsIDApLFxyXG4gICAgICAgICAgICAgICAgICAgIFZlcnRleC5idWlsZF92ZXJ0ZXgoVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHJvdGF0ZU1hdHJpeCwgbmV3IFZlY3RvcigxMCwgMTAsIC0xMCkpLCBuMiwgMSwgMSwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgVmVydGV4LmJ1aWxkX3ZlcnRleChUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQocm90YXRlTWF0cml4LCBuZXcgVmVjdG9yKDEwLCAtMTAsIC0xMCkpLCBuMiwgMSwgMSwgMClcclxuICAgICAgICAgICAgICAgICkpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWFuZ2xlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgbmV3IFRyaWFuZ2xlKFxyXG4gICAgICAgICAgICAgICAgICAgIFZlcnRleC5idWlsZF92ZXJ0ZXgoVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHJvdGF0ZU1hdHJpeCwgbmV3IFZlY3RvcigtMTAsIC0xMCwgLTEwKSksIG4yLCAxLCAwLCAwKSxcclxuICAgICAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludChyb3RhdGVNYXRyaXgsIG5ldyBWZWN0b3IoLTEwLCAxMCwgLTEwKSksIG4yLCAxLCAwLCAxKSxcclxuICAgICAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludChyb3RhdGVNYXRyaXgsIG5ldyBWZWN0b3IoMTAsIDEwLCAtMTApKSwgbjIsIDEsIDEsIDEpXHJcbiAgICAgICAgICAgICAgICApKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGNhbWVyYTogQ2FtZXJhLCB3b3JsZFRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XHJcblxyXG4gICAgICAgIC8vIOa4rOippuijgeWIh+S4ieinkuW9oueahGNvZGVcclxuICAgICAgICAvLyB0aGlzLnRyaWFuZ2xlc19hZnRlcl9jbGlwID0gW107XHJcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyaWFuZ2xlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIC8vICAgICBsZXQgdHJpYW5nbGUgPSB0aGlzLnRyaWFuZ2xlc1tpXTtcclxuICAgICAgICAvLyAgICAgbGV0IG5lYXJQbGFuZVogPSAxO1xyXG4gICAgICAgIC8vICAgICBsZXQgdl9jbGlwID0gY2xpcCh0cmlhbmdsZSwgbmVhclBsYW5lWik7XHJcblxyXG4gICAgICAgIC8vICAgICBsZXQgY291bnQgPSB2X2NsaXAubGVuZ3RoIC8gMztcclxuICAgICAgICAvLyAgICAgLy8gY29uc29sZS5sb2coaSwgY291bnQpO1xyXG4gICAgICAgIC8vICAgICBmb3IgKGxldCBrID0gMDsgayA8IGNvdW50OyArK2spIHtcclxuICAgICAgICAvLyAgICAgICAgIC8vIOe1hOWQiOS4ieinkuW9olxyXG4gICAgICAgIC8vICAgICAgICAgbGV0IG5ld190cmlhbmdsZSA9IG5ldyBUcmlhbmdsZSh2X2NsaXBbayAqIDNdLCB2X2NsaXBbayAqIDMgKyAxXSwgdl9jbGlwW2sgKiAzICsgMl0pO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcC5wdXNoKG5ld190cmlhbmdsZSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcCA9IHRoaXMudHJpYW5nbGVzO1xyXG5cclxuICAgICAgICAvLyDomZXnkIbmraPmlrnpq5TnmoTorormj5tcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJpYW5nbGVzX2FmdGVyX2NsaXAubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcFtpXS5wcm9jZXNzKGNhbWVyYSwgd29ybGRUcmFuc2Zvcm0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgLy8g55Wr5LiJ6KeS5b2iXHJcbiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1vdmVyJztcclxuXHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDAsMCwxKSc7XHJcblxyXG5cclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcC5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLnRyaWFuZ2xlc19hZnRlcl9jbGlwW2ldLmRyYXcoY3R4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi4vTWF0aC9WZWN0b3JcIjtcclxuaW1wb3J0IEhpdEluZm8gZnJvbSBcIi4uL01hdGgvSGl0SW5mb1wiO1xyXG5pbXBvcnQgeyBjbGFtcCwgZ2V0X3NoYWRvd193ZWlnaHQgfSBmcm9tIFwiLi4vTWF0aC9Ub29sXCI7XHJcbmltcG9ydCBTaGFkZXIgZnJvbSBcIi4vU2hhZGVyXCI7XHJcbmltcG9ydCBTY2VuZU5vZGUgZnJvbSBcIi4uL09iamVjdC9TY2VuZU5vZGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpZmZ1c2UgaW1wbGVtZW50cyBTaGFkZXIge1xyXG4gICAgc3RhdGljIHllbGxvdyA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMSwgMSwgMCkpO1xyXG4gICAgc3RhdGljIHJlZCA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMSwgMCwgMCkpO1xyXG4gICAgc3RhdGljIGdyZWVuID0gbmV3IERpZmZ1c2UobmV3IFZlY3RvcigwLCAxLCAwKSk7XHJcbiAgICBzdGF0aWMgYmx1ZSA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMCwgMCwgMSkpO1xyXG4gICAgc3RhdGljIGdyYXkgPSBuZXcgRGlmZnVzZShuZXcgVmVjdG9yKDAuNSwgMC41LCAwLjUpKTtcclxuICAgIHN0YXRpYyB3aGl0ZSA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMSwgMSwgMSkpO1xyXG5cclxuICAgIGNvbG9yOiBWZWN0b3I7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb2xvcjogVmVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHNoYWRpbmcoaGl0X2luZm86IEhpdEluZm8sIGRpcmVjdGlvbl9saWdodF9kaXI6IFZlY3Rvciwgb2JqX2xpc3Q6IFNjZW5lTm9kZVtdLCBkZXB0aDogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IG4gPSBoaXRfaW5mby5ub3JtYWw7XHJcbiAgICAgICAgbGV0IHN0cmVuZ3RoID0gY2xhbXAoLVZlY3Rvci5kb3QoZGlyZWN0aW9uX2xpZ2h0X2RpciwgbiksIDAsIDEpO1xyXG5cclxuICAgICAgICBsZXQgc2hhZG93X3dlaWdodCA9IGdldF9zaGFkb3dfd2VpZ2h0KGhpdF9pbmZvLCBkaXJlY3Rpb25fbGlnaHRfZGlyLCBvYmpfbGlzdCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3IubXVsdGlwbHkoc3RyZW5ndGgpLm11bHRpcGx5KHNoYWRvd193ZWlnaHQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IFJheSBmcm9tIFwiLi9SYXlcIjtcclxuaW1wb3J0IHsgZGVncmVlX3RvX1JhZCwgZ2V0X2hpdF9zb3J0X2xpc3QgfSBmcm9tIFwiLi9Ub29sXCJcclxuaW1wb3J0IFJlbmRlclRhcmdldCBmcm9tIFwiLi9SZW5kZXJUYXJnZXRcIjtcclxuaW1wb3J0IEhpdEluZm8gZnJvbSBcIi4vSGl0SW5mb1wiO1xyXG5pbXBvcnQgU2NlbmVOb2RlIGZyb20gXCIuLi9PYmplY3QvU2NlbmVOb2RlXCI7XHJcbmltcG9ydCBEaWZmdXNlIGZyb20gXCIuLi9NYXRlcmFpbHMvRGlmZnVzZVwiO1xyXG5pbXBvcnQgVmVydGV4IGZyb20gXCIuL1ZlcnRleFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhIHtcclxuICAgIGV5ZTogVmVjdG9yO1xyXG5cclxuICAgIHhfYXhpczogVmVjdG9yO1xyXG4gICAgeV9heGlzOiBWZWN0b3I7XHJcbiAgICB6X2F4aXM6IFZlY3RvcjtcclxuXHJcbiAgICByYXRpbzogbnVtYmVyO1xyXG5cclxuICAgIHNjcmVlblc6IG51bWJlcjtcclxuICAgIHNjcmVlbkg6IG51bWJlcjtcclxuXHJcbiAgICBzY3JlZW5DZW50ZXJYOiBudW1iZXI7XHJcbiAgICBzY3JlZW5DZW50ZXJZOiBudW1iZXI7XHJcbiAgICBoYWxmVzogbnVtYmVyO1xyXG4gICAgaGFsZkg6IG51bWJlcjtcclxuXHJcbiAgICAvLyDoppbpjJDnmoQg6L+R5bmz6Z2i5ZKM6YGg5bmz6Z2iXHJcbiAgICAvLyBh44CBYuWSjOaKleW9seefqemZo+aciemXnFxyXG4gICAgTjogbnVtYmVyO1xyXG4gICAgRjogbnVtYmVyO1xyXG4gICAgYTogbnVtYmVyO1xyXG4gICAgYjogbnVtYmVyO1xyXG5cclxuICAgIGZvdl9kZWdyZWU6IG51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKGV5ZTogVmVjdG9yLCBsb29rX2F0OiBWZWN0b3IsIGZvdl9kZWdyZWU6IG51bWJlciwgc2NyZWVuVzogbnVtYmVyLCBzY3JlZW5IOiBudW1iZXIsIE46IG51bWJlciwgRjogbnVtYmVyKSB7XHJcblxyXG4gICAgICAgIHRoaXMucmF0aW8gPSBzY3JlZW5XIC8gc2NyZWVuSDtcclxuICAgICAgICB0aGlzLnNjcmVlblcgPSBzY3JlZW5XO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuSCA9IHNjcmVlbkg7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5DZW50ZXJYID0gdGhpcy5zY3JlZW5XICogMC41O1xyXG4gICAgICAgIHRoaXMuc2NyZWVuQ2VudGVyWSA9IHRoaXMuc2NyZWVuSCAqIDAuNTtcclxuICAgICAgICB0aGlzLmhhbGZXID0gdGhpcy5zY3JlZW5XICogMC41O1xyXG4gICAgICAgIHRoaXMuaGFsZkggPSB0aGlzLnNjcmVlbkggKiAwLjU7XHJcblxyXG4gICAgICAgIC8vIGNhbWVyYSAz6Lu4XHJcbiAgICAgICAgdGhpcy56X2F4aXMgPSBWZWN0b3IubWludXMobG9va19hdCwgZXllKS5ub3JtYWxpemUoKTtcclxuXHJcbiAgICAgICAgLy8g5bem5omLXHJcbiAgICAgICAgbGV0IGhlbHBfdiA9IFZlY3Rvci51cDtcclxuICAgICAgICB0aGlzLnhfYXhpcyA9IFZlY3Rvci5jcm9zcyhoZWxwX3YsIHRoaXMuel9heGlzKS5ub3JtYWxpemUoKTtcclxuICAgICAgICB0aGlzLnlfYXhpcyA9IFZlY3Rvci5jcm9zcyh0aGlzLnpfYXhpcywgdGhpcy54X2F4aXMpO1xyXG5cclxuICAgICAgICAvLyBjYW1lcmEg5Y6f6bueXHJcbiAgICAgICAgdGhpcy5leWUgPSBleWU7XHJcblxyXG4gICAgICAgIC8vIGNhbWVyYSBmb3ZcclxuICAgICAgICB0aGlzLmZvdl9kZWdyZWUgPSBmb3ZfZGVncmVlO1xyXG5cclxuICAgICAgICAvLyDoppbpjJDnmoQg6L+R5bmz6Z2i5ZKM6YGg5bmz6Z2iXHJcbiAgICAgICAgdGhpcy5OID0gTjtcclxuICAgICAgICB0aGlzLkYgPSBGO1xyXG5cclxuICAgICAgICAvLyBodHRwczovL2dwbm5vdGVzLmJsb2dzcG90LmNvbS8yMDIxLzExL2Jsb2ctcG9zdF8yNy5odG1sXHJcbiAgICAgICAgLy8g5oqV5b2x55+p6Zmj5bCNeueahOS/ruato++8jOmAmeijoeS9v+eUqOW3puaJi1xyXG4gICAgICAgIHRoaXMuYSA9IEYgLyAoRiAtIE4pO1xyXG4gICAgICAgIHRoaXMuYiA9IC1OICogRiAvIChGIC0gTik7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYSwgdGhpcy5iKTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlRXllID0gZnVuY3Rpb24gKHM6IG51bWJlciwgQTogVmVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5leWUgPSBWZWN0b3IuYWRkKHRoaXMuZXllLCBBLm11bHRpcGx5KHMpKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRQaXRjaChkZWdyZWU6IG51bWJlcikge1xyXG4gICAgICAgIC8vIHRvZG86IOS5mOS4imxvY2FsIG1hdHJpeFxyXG4gICAgfVxyXG5cclxuICAgIGFkZFlhdyhkZWdyZWU6IG51bWJlcikge1xyXG4gICAgICAgIC8vIHRvZG86IOS5mOS4imxvY2FsIG1hdHJpeFxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZV9yYXlfZGlyKHhfd2VpZ2h0OiBudW1iZXIsIHlfd2VpZ2h0OiBudW1iZXIsIHJhdGlvOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgaGFsZl9mb3ZfcmFkID0gZGVncmVlX3RvX1JhZCgwLjUgKiB0aGlzLmZvdl9kZWdyZWUpO1xyXG4gICAgICAgIGxldCB0YW5faCA9IE1hdGgudGFuKGhhbGZfZm92X3JhZCk7XHJcbiAgICAgICAgbGV0IHRhbl93ID0gdGFuX2ggKiByYXRpbztcclxuXHJcbiAgICAgICAgbGV0IGRpciA9IHRoaXMuel9heGlzXHJcbiAgICAgICAgICAgIC5hZGQodGhpcy54X2F4aXMubXVsdGlwbHkoeF93ZWlnaHQgKiB0YW5fdykpXHJcbiAgICAgICAgICAgIC5hZGQodGhpcy55X2F4aXMubXVsdGlwbHkoeV93ZWlnaHQgKiB0YW5faCkpO1xyXG5cclxuICAgICAgICByZXR1cm4gZGlyO1xyXG4gICAgfVxyXG5cclxuICAgIHRvQ2FtZXJhU3BhY2UoQTogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IGRpZmYgPSBBLm1pbnVzKHRoaXMuZXllKTtcclxuICAgICAgICBsZXQgcG9pbnRfaW5fY2FtZXJhX3NwYWNlID0gbmV3IFZlY3RvcihWZWN0b3IuZG90KGRpZmYsIHRoaXMueF9heGlzKSwgVmVjdG9yLmRvdChkaWZmLCB0aGlzLnlfYXhpcyksIFZlY3Rvci5kb3QoZGlmZiwgdGhpcy56X2F4aXMpKTtcclxuICAgICAgICByZXR1cm4gcG9pbnRfaW5fY2FtZXJhX3NwYWNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRvUHJvamVjdGlvblNwYWNlKEE6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCBmb3ZfcmFkID0gZGVncmVlX3RvX1JhZCh0aGlzLmZvdl9kZWdyZWUpO1xyXG4gICAgICAgIGxldCBoYWxmX2ZvdiA9IDAuNSAqIGZvdl9yYWQ7XHJcbiAgICAgICAgbGV0IHlfc2NhbGUgPSAxIC8gTWF0aC50YW4oaGFsZl9mb3YpO1xyXG4gICAgICAgIGxldCB4X3NjYWxlID0gMSAvICh0aGlzLnJhdGlvICogTWF0aC50YW4oaGFsZl9mb3YpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoQS54ICogeF9zY2FsZSwgQS55ICogeV9zY2FsZSwgQS56ICogdGhpcy5hICsgdGhpcy5iKTtcclxuICAgIH1cclxuXHJcbiAgICB0b05EQyhBOiBWZWN0b3IsIHc6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBzID0gMSAvIHc7XHJcbiAgICAgICAgcmV0dXJuIEEubXVsdGlwbHkocyk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9TY3JlZW5TcGFjZShORENfQTogVmVjdG9yKSB7XHJcbiAgICAgICAgLy8g55So5bqn5qiZ6K6K5o+b5L6G55yL5b6F5b6eTkRD5YiwU2NyZWVuIFNwYWNlXHJcbiAgICAgICAgLy8gTkRDIHjou7jlnKhzY3JlZW4gc3BhY2Ug54K6KHcvMiwwKVxyXG4gICAgICAgIC8vIE5EQyB56Lu45Zyoc2NyZWVuIHNwYWNlIOeCuigtaC8yLDApXHJcbiAgICAgICAgbGV0IHggPSB0aGlzLmhhbGZXICogTkRDX0EueCArIHRoaXMuc2NyZWVuQ2VudGVyWDtcclxuICAgICAgICBsZXQgeSA9IC10aGlzLmhhbGZIICogTkRDX0EueSArIHRoaXMuc2NyZWVuQ2VudGVyWTtcclxuXHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKHgsIHksIE5EQ19BLnopO1xyXG4gICAgICAgIHJldHVybiB0ZW1wO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOeul+WcllxyXG4gICAgcmVuZGVyKHJlbmRlcl90YXJnZXQ6IFJlbmRlclRhcmdldCwgb2JqX2xpc3Q6IFNjZW5lTm9kZVtdKSB7XHJcbiAgICAgICAgbGV0IGRpcmVjdGlvbl9saWdodF9kaXIgPSBuZXcgVmVjdG9yKDEsIC0xLCAwKS5ub3JtYWxpemUoKTtcclxuXHJcbiAgICAgICAgbGV0IGhhbGZfcGl4ZWxfb2Zmc2V0ID0gMC41IC8gcmVuZGVyX3RhcmdldC5oO1xyXG4gICAgICAgIGxldCBtdWx0aXNhbXBsZV9kaWZmID0gW1xyXG4gICAgICAgICAgICB7IHg6IDAsIHk6IDAgfSxcclxuICAgICAgICAgICAgeyB4OiBoYWxmX3BpeGVsX29mZnNldCwgeTogaGFsZl9waXhlbF9vZmZzZXQgfSxcclxuICAgICAgICAgICAgeyB4OiAtaGFsZl9waXhlbF9vZmZzZXQsIHk6IGhhbGZfcGl4ZWxfb2Zmc2V0IH0sXHJcbiAgICAgICAgICAgIHsgeDogLWhhbGZfcGl4ZWxfb2Zmc2V0LCB5OiAtaGFsZl9waXhlbF9vZmZzZXQgfSxcclxuICAgICAgICAgICAgeyB4OiBoYWxmX3BpeGVsX29mZnNldCwgeTogLWhhbGZfcGl4ZWxfb2Zmc2V0IH0sXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgcmVuZGVyX3RhcmdldC5yZW5kZXJfcGl4ZWwoKHhfd2VpZ2h0OiBudW1iZXIsIHlfd2VpZ2h0OiBudW1iZXIsIHJhdGlvOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJheV9kaXIgPSB0aGlzLmNyZWF0ZV9yYXlfZGlyKHhfd2VpZ2h0LCB5X3dlaWdodCwgcmF0aW8pO1xyXG5cclxuICAgICAgICAgICAgLy8g55Si55Sf5aSa5qKdcmF5XHJcbiAgICAgICAgICAgIGxldCByYXlzID0gbXVsdGlzYW1wbGVfZGlmZi5tYXAoZGlmZiA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDlsI1yYXlfZHJp5L2c5YGP56e7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGlyID0gcmF5X2Rpci5hZGQodGhpcy54X2F4aXMubXVsdGlwbHkoZGlmZi54KSkuYWRkKHRoaXMueV9heGlzLm11bHRpcGx5KGRpZmYueSkpXHJcblxyXG4gICAgICAgICAgICAgICAgLy8g6ZuW54S25ZKM55CD44CB5bmz6Z2i55qEaGl06KiI566X5LiN6ZyA6KaBZGly5L2cbm9ybWFsaXpl77yM5L2G54K65LqG5pa55L6/5Y+N5bCE55qE6KiI566X6YKE5piv5L2cbm9ybWFsaXplXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJheSh0aGlzLmV5ZSwgZGlyLm5vcm1hbGl6ZSgpKVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIOavj+WAi3JheemDveeul2NvbG9yXHJcbiAgICAgICAgICAgIGxldCBjb2xvcnMgPSByYXlzLm1hcChyYXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGhpdF9zb3J0X2xpc3QgPSBnZXRfaGl0X3NvcnRfbGlzdChvYmpfbGlzdCwgcmF5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDmnInlsITkuK3ll45cclxuICAgICAgICAgICAgICAgIGxldCBpc19oaXQgPSBoaXRfc29ydF9saXN0Lmxlbmd0aCAhPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzX2hpdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRfaW5mbyA9IGhpdF9zb3J0X2xpc3RbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhpdF9pbmZvLnMuc2hhZGluZyhoaXRfaW5mbywgZGlyZWN0aW9uX2xpZ2h0X2Rpciwgb2JqX2xpc3QsIDEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGlmZnVzZS5ncmF5LmNvbG9yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIOWPluW5s+Wdh+WwseaciUFudGlhbGlhc2luZ+aViOaenFxyXG4gICAgICAgICAgICBsZXQgY291bnQgPSBtdWx0aXNhbXBsZV9kaWZmLmxlbmd0aDtcclxuICAgICAgICAgICAgbGV0IGZpbmFsX2NvbG9yID0gY29sb3JzLnJlZHVjZSgoYWNjdW11bGF0b3I6IFZlY3RvciwgY3VycmVudDogVmVjdG9yKSA9PiBhY2N1bXVsYXRvci5hZGQoY3VycmVudCksIFZlY3Rvci56ZXJvKS5tdWx0aXBseSgxIC8gY291bnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmluYWxfY29sb3I7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsIi8vIGltcG9ydCBBcHAgZnJvbSAnLi9BcHAnO1xyXG4vLyBuZXcgQXBwKCk7XHJcblxyXG5pbXBvcnQgUmFzdGVyaXplckFwcCBmcm9tICcuL1Jhc3Rlcml6ZXJBcHAnO1xyXG5uZXcgUmFzdGVyaXplckFwcCgpOyIsImltcG9ydCBCb3ggZnJvbSBcIi4vTWF0aC9Cb3gzRFwiO1xyXG5pbXBvcnQgQ2FtZXJhIGZyb20gXCIuL01hdGgvQ2FtZXJhXCI7XHJcbmltcG9ydCBUcmFuc2Zvcm0gZnJvbSBcIi4vTWF0aC9UcmFuc2Zvcm1cIjtcclxuaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9NYXRoL1ZlY3RvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFzdGVyaXplckFwcCB7XHJcblxyXG4gICAgY2FtZXJhSW5kZXhfdmlldyA9IDE7XHJcbiAgICBjYW1lcmFJbmRleF9jb250cm9sID0gMDtcclxuICAgIGNhbWVyYTogQ2FtZXJhID0gbnVsbDtcclxuICAgIHRoYW5kbGU6IG51bWJlcjtcclxuXHJcbiAgICBzY3JlZW5XaWR0aCA9IDgwMDtcclxuICAgIHNjcmVlbkhlaWdodCA9IDYwMDtcclxuICAgIGJveDogQm94ID0gbnVsbDtcclxuXHJcbiAgICBsYXN0X3Q6IG51bWJlcjtcclxuICAgIHN1bV90OiBudW1iZXI7XHJcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgd2luZG93Lm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBkb2N1bWVudC5vbmtleWRvd24gPSB0aGlzLmtleVByb2MuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gdGhpcy5zY3JlZW5XaWR0aCArICdweCc7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IHRoaXMuc2NyZWVuSGVpZ2h0ICsgJ3B4JztcclxuICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5ib3ggPSBuZXcgQm94KCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKG5ldyBWZWN0b3IoMCwgNTAsIC0yMDApLCBuZXcgVmVjdG9yKDAsIDAsIDApLCA2MCwgdGhpcy5zY3JlZW5XaWR0aCwgdGhpcy5zY3JlZW5IZWlnaHQsIDEwMCwgNTAwKTtcclxuICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5zdW1fdCA9IDA7XHJcbiAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHRoaXMubGFzdF90ID0gZC5nZXRUaW1lKCk7XHJcbiAgICAgICAgdGhpcy50aGFuZGxlID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHsgdGhpcy5kcmF3U2NlbmUoKTsgfSwgMTYpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICBsZXQgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sYXN0X3QgPSBkLmdldFRpbWUoKTtcclxuICAgICAgICB0aGlzLnRoYW5kbGUgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4geyB0aGlzLmRyYXdTY2VuZSgpOyB9LCAxNik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRoYW5kbGUpO1xyXG4gICAgICAgIHRoaXMudGhhbmRsZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd1NjZW5lKCkge1xyXG4gICAgICAgIGxldCBkID0gbmV3IERhdGUoKTtcclxuICAgICAgICBsZXQgdCA9IGQuZ2V0VGltZSgpO1xyXG4gICAgICAgIGxldCBkaWZmID0gdCAtIHRoaXMubGFzdF90O1xyXG4gICAgICAgIHRoaXMubGFzdF90ID0gdDtcclxuICAgICAgICB0aGlzLnN1bV90ID0gdGhpcy5zdW1fdCArIGRpZmY7XHJcblxyXG4gICAgICAgIC8vIOa4heepulxyXG4gICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnNjcmVlbldpZHRoLCB0aGlzLnNjcmVlbkhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gXCJyZ2JhKDE4MCwzMCwxNSwwLjEpXCI7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5zY3JlZW5XaWR0aCwgdGhpcy5zY3JlZW5IZWlnaHQpO1xyXG5cclxuICAgICAgICAvL+eVq+eri+aWuemrlFxyXG4gICAgICAgIHZhciBvZmZzZXRNYXRyaXggPSBUcmFuc2Zvcm0ub2Zmc2V0KDAsIDAsIDApO1xyXG4gICAgICAgIHZhciBub3dEZWdyZWUgPSB0aGlzLnN1bV90IC8gMTAwMCAqIDE1ICUgMzYwO1xyXG4gICAgICAgIC8vIHZhciBub3dEZWdyZWUgPSAwO1xyXG5cclxuICAgICAgICB2YXIgcm90YXRlTWF0cml4ID0gVHJhbnNmb3JtLnJvdGF0ZUJ5WShub3dEZWdyZWUpO1xyXG4gICAgICAgIHZhciBjb21iaW5lTWF0cml4ID0gVHJhbnNmb3JtLnRyYW5zZm9ybVRyYW5zZm9ybShvZmZzZXRNYXRyaXgsIHJvdGF0ZU1hdHJpeCk7XHJcbiAgICAgICAgdGhpcy5ib3gudXBkYXRlKHRoaXMuY2FtZXJhLCBjb21iaW5lTWF0cml4KTtcclxuICAgICAgICB0aGlzLmJveC5kcmF3KHRoaXMuY3R4KTtcclxuXHJcbiAgICAgICAgLy8gdmFyIG9mZnNldE1hdHJpeCA9IFRyYW5zZm9ybS5vZmZzZXQoMTUwLCAwLCAwKTtcclxuICAgICAgICAvLyB2YXIgcm90YXRlTWF0cml4ID0gVHJhbnNmb3JtLnJvdGF0ZUJ5WShub3dEZWdyZWUpO1xyXG4gICAgICAgIC8vIGNvbWJpbmVNYXRyaXggPSBUcmFuc2Zvcm0udHJhbnNmb3JtVHJhbnNmb3JtKHJvdGF0ZU1hdHJpeCwgb2Zmc2V0TWF0cml4KTtcclxuICAgICAgICAvLyB0aGlzLmJveC51cGRhdGUodGhpcy5jYW1lcmEsIGNvbWJpbmVNYXRyaXgpO1xyXG4gICAgICAgIC8vIHRoaXMuYm94LmRyYXcodGhpcy5jdHgpO1xyXG4gICAgfVxyXG5cclxuICAgIGtleVByb2MoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgICAgICBsZXQgS2VwTWFwID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHc6IDg3LFxyXG4gICAgICAgICAgICByOiA4MixcclxuXHJcbiAgICAgICAgICAgIGU6IDY5LFxyXG4gICAgICAgICAgICBkOiA2OCxcclxuICAgICAgICAgICAgczogODMsXHJcbiAgICAgICAgICAgIGY6IDcwLFxyXG5cclxuICAgICAgICAgICAgYV91cDogMzgsXHJcbiAgICAgICAgICAgIGFfZG93bjogNDAsXHJcbiAgICAgICAgICAgIGFfbGVmdDogMzcsXHJcbiAgICAgICAgICAgIGFfcmlnaHQ6IDM5XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIG1vdmVTID0gMTtcclxuICAgICAgICB2YXIgcm90YXRlUyA9IDAuMTtcclxuICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAudzpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLm1vdmVFeWUobW92ZVMsIHRoaXMuY2FtZXJhLnpfYXhpcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAucjpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLm1vdmVFeWUoLW1vdmVTLCB0aGlzLmNhbWVyYS56X2F4aXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5lOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEubW92ZUV5ZShtb3ZlUywgdGhpcy5jYW1lcmEueV9heGlzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5kOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEubW92ZUV5ZSgtbW92ZVMsIHRoaXMuY2FtZXJhLnlfYXhpcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAuczpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLm1vdmVFeWUoLW1vdmVTLCB0aGlzLmNhbWVyYS54X2F4aXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLmY6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5tb3ZlRXllKG1vdmVTLCB0aGlzLmNhbWVyYS54X2F4aXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5hX3VwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEuYWRkUGl0Y2gocm90YXRlUyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAuYV9kb3duOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEuYWRkUGl0Y2goLXJvdGF0ZVMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5hX2xlZnQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5hZGRZYXcoLXJvdGF0ZVMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLmFfcmlnaHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5hZGRZYXcocm90YXRlUyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOlsiZnJvbSIsImRpciIsInRoaXMiLCJweCIsInB5IiwicHoiLCJ4IiwieSIsInoiLCJjYWxjdWxhdGVfbm9ybWFsIiwidjAiLCJ2MSIsInYyIiwidjAxIiwiVmVjdG9yIiwibWludXMiLCJ2MDIiLCJjcm9zcyIsIm5vcm1hbGl6ZSIsImNhbGN1bGF0ZV9jZW50ZXIiLCJhZGQiLCJtdWx0aXBseSIsInV2IiwidSIsInYiLCJyZWZsZWN0IiwiSSIsIk4iLCJMIiwiZG90IiwiQSIsIkIiLCJzIiwibXVsdGlwbHkzIiwiZXF1YWwiLCJudW1iZXJfZXF1YWwiLCJsZXJwIiwidCIsImxlbmd0aCIsIk1hdGgiLCJzcXJ0IiwidGVtcCIsIm5lZ2F0aXZlIiwiY2xvbmUiLCJ1cCIsInplcm8iLCJwIiwidyIsInRvIiwidF93aGVuX3hfZXF1YWxfdyIsInRfd2hlbl95X2VxdWFsX3ciLCJ0X3doZW5fel9lcXVhbF93IiwidF93aGVuX3hfZXF1YWxfbWludXNfdyIsInRfd2hlbl95X2VxdWFsX21pbnVzX3ciLCJ0X3doZW5fel9lcXVhbF96ZXJvX3ciLCJ4QXhpcyIsInlBeGlzIiwiekF4aXMiLCJwb3NpdGlvbiIsInRyYW5zZm9ybVBvaW50IiwidHJhbnNmb3JtIiwicG9pbnQiLCJ2ZWN0b3JYIiwidmVjdG9yWSIsInZlY3RvcloiLCJ0cmFuc2Zvcm1WZWN0b3IiLCJ2ZXJ0ZXgiLCJ0cmFuc2Zvcm1UcmFuc2Zvcm0iLCJpbnB1dFRyYW5zZm9ybSIsIlRyYW5zZm9ybSIsInJvdGF0ZUJ5WiIsImRlZ3JlZSIsInJhZGlhbiIsImRlZ3JlZV90b19SYWQiLCJjIiwiY29zIiwic2luIiwicm90YXRlQnlZIiwicm90YXRlQnlYIiwib2Zmc2V0IiwicHYwIiwicHYxIiwicHYyIiwiTVZQX2JhY2tmYWNlX2N1bGxpbmdfY2xpcHBpbmciLCJ0cmlhbmdsZSIsInBjYW1lcmEiLCJ3b3JsZFRyYW5zZm9ybSIsInYwX3ciLCJ2MV93IiwidjJfdyIsInYwX2MiLCJ0b0NhbWVyYVNwYWNlIiwidjFfYyIsInYyX2MiLCJ2MF9wIiwidG9Qcm9qZWN0aW9uU3BhY2UiLCJ2MV9wIiwidjJfcCIsIm5vcm1hbCIsImNlbnRlcl90b19leWUiLCJ1cGRhdGVfcCIsInVwZGF0ZV93IiwiVHJpYW5nbGUiLCJjbGlwX2luX1Byb2plY3Rpb25fU3BhY2UiLCJjbGlwX2hlbHBlciIsImluX2xpc3QiLCJ2MF9vdXQiLCJ2MV9vdXQiLCJ2Ml9vdXQiLCJwbGFuZSIsIm91dF9saXN0IiwiY2xpcCIsInB1c2giLCJUIiwiQ2xpcFBsYW5lIiwiRmFyIiwiTmVhciIsInByb2Nlc3MiLCJsaXN0IiwidG9OREMiLCJ2MF9zIiwidG9TY3JlZW5TcGFjZSIsInYxX3MiLCJ2Ml9zIiwidl9zIiwiZHJhdyIsImN0eCIsInRDb3VudCIsImluZGV4IiwibW92ZVRvIiwibGluZVRvIiwiZCIsIlBJIiwiYSIsImIiLCJhYnMiLCJnZXRfaGl0X3NvcnRfbGlzdCIsIm9ial9saXN0IiwicmF5IiwibWFwIiwib2JqIiwiaCIsImhpdCIsImZpbHRlciIsImluZm8iLCJpc19oaXQiLCJzb3J0Iiwidl9jbGlwIiwiZ2V0Q3Jvc3NQb2ludCIsIlJheTREIiwiZ2V0X1ZlY3RvcjREIiwiY2xpcF9maXJzdF9pbiIsImNsaXBfZmlyc3Rfb3V0IiwiY3Jvc3MxIiwiY3Jvc3MyIiwibiIsImJ1aWxkX3ZlcnRleCIsIlZlcnRleCIsInRyaWFuZ2xlcyIsIm0iLCJpIiwicm90YXRlTWF0cml4IiwibjIiLCJ1cGRhdGUiLCJjYW1lcmEiLCJ0cmlhbmdsZXNfYWZ0ZXJfY2xpcCIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwic3Ryb2tlIiwiY29sb3IiLCJzaGFkaW5nIiwiaGl0X2luZm8iLCJkaXJlY3Rpb25fbGlnaHRfZGlyIiwiZGVwdGgiLCJzdHJlbmd0aCIsInNoYWRvd193ZWlnaHQiLCJoaXRfcG9zIiwiZ2V0X3NoYWRvd193ZWlnaHQiLCJ5ZWxsb3ciLCJEaWZmdXNlIiwicmVkIiwiZ3JlZW4iLCJibHVlIiwiZ3JheSIsIndoaXRlIiwiZXllIiwibG9va19hdCIsImZvdl9kZWdyZWUiLCJzY3JlZW5XIiwic2NyZWVuSCIsIkYiLCJtb3ZlRXllIiwicmF0aW8iLCJzY3JlZW5DZW50ZXJYIiwic2NyZWVuQ2VudGVyWSIsImhhbGZXIiwiaGFsZkgiLCJ6X2F4aXMiLCJoZWxwX3YiLCJ4X2F4aXMiLCJ5X2F4aXMiLCJjb25zb2xlIiwibG9nIiwiYWRkUGl0Y2giLCJhZGRZYXciLCJjcmVhdGVfcmF5X2RpciIsInhfd2VpZ2h0IiwieV93ZWlnaHQiLCJoYWxmX2Zvdl9yYWQiLCJ0YW5faCIsInRhbiIsInRhbl93IiwiZGlmZiIsImhhbGZfZm92IiwieV9zY2FsZSIsInhfc2NhbGUiLCJORENfQSIsInJlbmRlciIsInJlbmRlcl90YXJnZXQiLCJoYWxmX3BpeGVsX29mZnNldCIsIm11bHRpc2FtcGxlX2RpZmYiLCJyZW5kZXJfcGl4ZWwiLCJyYXlfZGlyIiwiY29sb3JzIiwiaGl0X3NvcnRfbGlzdCIsImNvdW50IiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJjdXJyZW50IiwiY2FtZXJhSW5kZXhfdmlldyIsImNhbWVyYUluZGV4X2NvbnRyb2wiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsImJveCIsIndpbmRvdyIsIm9ubG9hZCIsImluaXQiLCJkb2N1bWVudCIsIm9ua2V5ZG93biIsImtleVByb2MiLCJiaW5kIiwiY2FudmFzIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZXRDb250ZXh0Iiwic3RhcnQiLCJzdG9wIiwic3VtX3QiLCJEYXRlIiwibGFzdF90IiwiZ2V0VGltZSIsInRoYW5kbGUiLCJzZXRJbnRlcnZhbCIsImRyYXdTY2VuZSIsInJlc3VtZSIsImNsZWFySW50ZXJ2YWwiLCJjbGVhclJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIm9mZnNldE1hdHJpeCIsIm5vd0RlZ3JlZSIsImNvbWJpbmVNYXRyaXgiLCJldmVudCIsImtleUNvZGUiXSwic291cmNlUm9vdCI6IiJ9