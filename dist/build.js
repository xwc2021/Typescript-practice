(()=>{"use strict";const t=function(t,e){this.from=t,this.dir=e};function e(t){return Math.PI*t/180}function n(t,e){return Math.abs(t-e)<.001}function i(t,e){return t.map((function(t){return t.h.hit(e,t.s)})).filter((function(t){return t.is_hit})).sort((function(t,e){return t.t-e.t}))}function r(t,e,n){return t+n*(e-t)}const s=function(){function t(t,e,n){this.x=0,this.y=0,this.z=0,this.x=t,this.y=e,this.z=n}return t.calculate_normal=function(e,n,i){var r=t.minus(n,e),s=t.minus(i,e);return t.cross(r,s).normalize()},t.calculate_center=function(t,e,n){return t.add(e).add(n).multiply(1/3)},t.uv=function(e,n){return new t(e,n,0)},t.reflect=function(e,n){var i=-2*t.dot(e,n);return n.multiply(i).add(e)},t.add=function(e,n){return new t(n.x+e.x,n.y+e.y,n.z+e.z)},t.minus=function(e,n){return new t(e.x-n.x,e.y-n.y,e.z-n.z)},t.multiply=function(e,n){return new t(e.x*n,e.y*n,e.z*n)},t.multiply3=function(e,n){return new t(e.x*n.x,e.y*n.y,e.z*n.z)},t.cross=function(e,n){return new t(e.y*n.z-e.z*n.y,-e.x*n.z+e.z*n.x,e.x*n.y-e.y*n.x)},t.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},t.equal=function(t,e){return n(t.x,e.x)&&n(t.y,e.y)&&n(t.z,e.z)},t.lerp=function(e,n,i){return new t(r(e.x,n.x,i),r(e.y,n.y,i),r(e.z,n.z,i))},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.normalize=function(){var t=this.length();return this.x=this.x/t,this.y=this.y/t,this.z=this.z/t,this},t.prototype.add=function(e){return t.add(this,e)},t.prototype.minus=function(e){return t.minus(this,e)},t.prototype.multiply=function(e){return t.multiply(this,e)},t.prototype.negative=function(){return t.multiply(this,-1)},t.prototype.clone=function(){return new t(this.x,this.y,this.z)},t.up=new t(0,1,0),t.zero=new t(0,0,0),t}(),o=function(){function t(t,e,n,i,r){this.p=t,this.n=e,this.w=n,this.u=i,this.v=r}return t.build_vertex=function(e,n,i,r,s){return new t(e,n,i,r,s)},t.lerp=function(e,n,i){return new t(s.lerp(e.p,n.p,i),s.lerp(e.n,n.n,i),r(e.w,n.w,i),r(e.u,n.u,i),r(e.v,n.v,i))},t.prototype.clone=function(){return new t(this.p.clone(),this.n.clone(),this.w,this.u,this.v)},t.prototype.update_p=function(t){return this.p=t,this},t.prototype.update_w=function(t){return this.w=t,this},t}(),a=function(){function t(t,e,n,i){this.xAxis=t,this.yAxis=e,this.zAxis=n,this.position=i}return t.transformPoint=function(t,e){var n=t.xAxis.multiply(e.x),i=t.yAxis.multiply(e.y),r=t.zAxis.multiply(e.z);return t.position.add(n).add(i).add(r)},t.transformVector=function(t,e){var n=t.xAxis.multiply(e.x),i=t.yAxis.multiply(e.y),r=t.zAxis.multiply(e.z);return n.add(i).add(r)},t.transformTransform=function(e,n){return new t(t.transformVector(e,n.xAxis),t.transformVector(e,n.yAxis),t.transformVector(e,n.zAxis),t.transformPoint(e,n.position))},t.rotateByZ=function(n){var i=e(n),r=Math.cos(i),o=Math.sin(i);return new t(new s(r,o,0),new s(-o,r,0),new s(0,0,1),s.zero)},t.rotateByY=function(n){var i=e(n),r=Math.cos(i),o=Math.sin(i),a=new s(o,0,r);return new t(new s(r,0,-o),new s(0,1,0),a,s.zero)},t.rotateByX=function(n){var i=e(n),r=Math.cos(i),o=Math.sin(i);return new t(new s(1,0,0),new s(0,r,o),new s(0,-o,r),new s(0,0,0))},t.offset=function(e,n,i){return new t(new s(1,0,0),new s(0,1,0),new s(0,0,1),new s(e,n,i))},t}(),h=function(){function t(t,e,n){this.v0=t,this.v1=e,this.v2=n}return t.MVP_backface_culling_clipping=function(e,n,i){var r=a.transformPoint(i,e.v0.p),o=a.transformPoint(i,e.v1.p),h=a.transformPoint(i,e.v2.p),c=n.toCameraSpace(r),u=n.toCameraSpace(o),l=n.toCameraSpace(h),p=n.toProjectionSpace(c),f=n.toProjectionSpace(u),y=n.toProjectionSpace(l),d=s.calculate_normal(p,f,y),w=s.minus(s.zero,s.calculate_center(p,f,y)).normalize();if(s.dot(d,w)<=0)return[];var m=e.v0.clone().update_p(p).update_w(c.z),x=e.v1.clone().update_p(f).update_w(u.z),_=e.v2.clone().update_p(y).update_w(l.z);return t.clip_in_Projection_Space(m,x,_)},t.clip_in_Projection_Space=function(e,n,i){return[new t(e,n,i)]},t.clip_in_NDC=function(t,e,n){return[[t,e,n]]},t.process=function(e,n,i){for(var r=0,s=t.MVP_backface_culling_clipping(e,n,i);r<s.length;r++)for(var o=s[r],a=n.toNDC(o.v0.p),h=n.toNDC(o.v1.p),c=n.toNDC(o.v2.p),u=0,l=t.clip_in_NDC(a,h,c);u<l.length;u++){var p=l[u];return[n.toScreenSpace(p[0]),n.toScreenSpace(p[1]),n.toScreenSpace(p[2])]}},t.prototype.process=function(e,n){this.v_s=t.process(this,e,n)},t.prototype.draw=function(t){if(null!=this.v_s)for(var e=this.v_s.length/3,n=1;n<=e;++n){var i=3*n-1;t.moveTo(this.v_s[i].x,this.v_s[i].y),t.lineTo(this.v_s[i-2].x,this.v_s[i-2].y),t.lineTo(this.v_s[i-1].x,this.v_s[i-1].y),t.lineTo(this.v_s[i].x,this.v_s[i].y)}},t}(),c=function(){function t(){this.triangles=[];var t=new s(0,0,-1);this.triangles.push(new h(new o(new s(-10,-10,-10),t,1,0,0),new o(new s(10,10,-10),t,1,1,1),new o(new s(10,-10,-10),t,1,1,0))),this.triangles.push(new h(new o(new s(-10,-10,-10),t,1,0,0),new o(new s(-10,10,-10),t,1,0,1),new o(new s(10,10,-10),t,1,1,1)));for(var e=[a.rotateByY(90),a.rotateByY(180),a.rotateByY(270),a.rotateByX(90),a.rotateByX(-90)],n=0;n<e.length;++n){var i=e[n],r=a.transformPoint(i,t);this.triangles.push(new h(o.build_vertex(a.transformPoint(i,new s(-10,-10,-10)),r,1,0,0),o.build_vertex(a.transformPoint(i,new s(10,10,-10)),r,1,1,1),o.build_vertex(a.transformPoint(i,new s(10,-10,-10)),r,1,1,0))),this.triangles.push(new h(o.build_vertex(a.transformPoint(i,new s(-10,-10,-10)),r,1,0,0),o.build_vertex(a.transformPoint(i,new s(-10,10,-10)),r,1,0,1),o.build_vertex(a.transformPoint(i,new s(10,10,-10)),r,1,1,1)))}}return t.prototype.update=function(t,e){this.triangles_after_clip=this.triangles;for(var n=0;n<this.triangles_after_clip.length;++n)this.triangles_after_clip[n].process(t,e)},t.prototype.draw=function(t){t.globalCompositeOperation="destination-over",t.strokeStyle="rgba(255,0,0,1)",t.beginPath();for(var e=0;e<this.triangles_after_clip.length;++e)this.triangles_after_clip[e].draw(t);t.stroke()},t}(),u=function(){function e(t){this.color=t}return e.prototype.shading=function(e,n,r,o){var a,h=e.normal,c=(0,(a=-s.dot(n,h))>1?1:a<0?0:a),u=function(e,n,r){var s=n.negative(),o=e.hit_pos.add(s.multiply(.001));return 0!=i(r,new t(o,s)).length?.45:1}(e,n,r);return this.color.multiply(c).multiply(u)},e.yellow=new e(new s(1,1,0)),e.red=new e(new s(1,0,0)),e.green=new e(new s(0,1,0)),e.blue=new e(new s(0,0,1)),e.gray=new e(new s(.5,.5,.5)),e.white=new e(new s(1,1,1)),e}(),l=function(){function n(t,e,n,i,r,o,a){this.moveEye=function(t,e){this.eye=s.add(this.eye,e.multiply(t))},this.ratio=i/r,this.screenW=i,this.screenH=r,this.screenCenterX=.5*this.screenW,this.screenCenterY=.5*this.screenH,this.halfW=.5*this.screenW,this.halfH=.5*this.screenH,this.z_axis=s.minus(e,t).normalize();var h=s.up;this.x_axis=s.cross(h,this.z_axis).normalize(),this.y_axis=s.cross(this.z_axis,this.x_axis),this.eye=t,this.fov_degree=n,this.N=o,this.F=a,this.a=a/(a-o),this.b=-o*a/(a-o)}return n.prototype.addPitch=function(t){},n.prototype.addYaw=function(t){},n.prototype.create_ray_dir=function(t,n,i){var r=e(.5*this.fov_degree),s=Math.tan(r),o=s*i;return this.z_axis.add(this.x_axis.multiply(t*o)).add(this.y_axis.multiply(n*s))},n.prototype.toCameraSpace=function(t){var e=t.minus(this.eye);return new s(s.dot(e,this.x_axis),s.dot(e,this.y_axis),s.dot(e,this.z_axis))},n.prototype.toProjectionSpace=function(t){var n=.5*e(this.fov_degree),i=1/Math.tan(n),r=1/(this.ratio*Math.tan(n));return new s(t.x*r,t.y*i,t.z*this.a+this.b)},n.prototype.toNDC=function(t){var e=1/t.z;return t.multiply(e)},n.prototype.toScreenSpace=function(t){var e=this.halfW*t.x+this.screenCenterX,n=-this.halfH*t.y+this.screenCenterY;return new s(e,n,t.z)},n.prototype.render=function(e,n){var r=this,o=new s(1,-1,0).normalize(),a=.5/e.h,h=[{x:0,y:0},{x:a,y:a},{x:-a,y:a},{x:-a,y:-a},{x:a,y:-a}];e.render_pixel((function(e,a,c){var l=r.create_ray_dir(e,a,c),p=h.map((function(e){var n=l.add(r.x_axis.multiply(e.x)).add(r.y_axis.multiply(e.y));return new t(r.eye,n.normalize())})).map((function(t){var e=i(n,t);if(0!=e.length){var r=e[0];return r.s.shading(r,o,n,1)}return u.gray.color})),f=h.length;return p.reduce((function(t,e){return t.add(e)}),s.zero).multiply(1/f)}))},n}();new(function(){function t(){var t=this;this.cameraIndex_view=1,this.cameraIndex_control=0,this.camera=null,this.screenWidth=800,this.screenHeight=600,this.box=null,window.onload=function(){t.init()},document.onkeydown=this.keyProc.bind(this)}return t.prototype.init=function(){var t=document.getElementById("canvas");t.style.width=this.screenWidth+"px",t.style.height=this.screenHeight+"px",t.width=t.clientWidth,t.height=t.clientHeight,this.ctx=t.getContext("2d"),this.box=new c,this.camera=new l(new s(0,50,-200),new s(0,0,0),60,this.screenWidth,this.screenHeight,1,500),this.start()},t.prototype.start=function(){var t=this;this.stop(),this.sum_t=0;var e=new Date;this.last_t=e.getTime(),this.thandle=window.setInterval((function(){t.drawScene()}),16)},t.prototype.resume=function(){var t=this,e=new Date;this.last_t=e.getTime(),this.thandle=window.setInterval((function(){t.drawScene()}),16)},t.prototype.stop=function(){window.clearInterval(this.thandle),this.thandle=null},t.prototype.drawScene=function(){var t=(new Date).getTime(),e=t-this.last_t;this.last_t=t,this.sum_t=this.sum_t+e,this.ctx.clearRect(0,0,this.screenWidth,this.screenHeight),this.ctx.beginPath(),this.ctx.fillStyle="rgba(180,30,15,0.1)",this.ctx.fillRect(0,0,this.screenWidth,this.screenHeight);var n=a.offset(0,0,0),i=this.sum_t/1e3*15%360,r=a.rotateByY(i),s=a.transformTransform(n,r);this.box.update(this.camera,s),this.box.draw(this.ctx),n=a.offset(150,0,0),r=a.rotateByY(i),s=a.transformTransform(r,n),this.box.update(this.camera,s),this.box.draw(this.ctx)},t.prototype.keyProc=function(t){switch(t.keyCode){case 87:this.camera.moveEye(1,this.camera.z_axis);break;case 82:this.camera.moveEye(-1,this.camera.z_axis);break;case 69:this.camera.moveEye(1,this.camera.y_axis);break;case 68:this.camera.moveEye(-1,this.camera.y_axis);break;case 83:this.camera.moveEye(-1,this.camera.x_axis);break;case 70:this.camera.moveEye(1,this.camera.x_axis);break;case 38:this.camera.addPitch(.1);break;case 40:this.camera.addPitch(-.1);break;case 37:this.camera.addYaw(-.1);break;case 39:this.camera.addYaw(.1)}},t}())})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eUksT0FBTzRCLFNBakJSLEVBaUJ3QnJLLEtBQUt5SSxPQUFPb0MsUUFDeEMsTUFDSixLQTNCRyxHQTRCQzdLLEtBQUt5SSxPQUFPNEIsUUFwQlIsRUFvQnVCckssS0FBS3lJLE9BQU9vQyxRQUN2QyxNQUVKLEtBN0JNLEdBOEJGN0ssS0FBS3lJLE9BQU9zQyxTQXZCTixJQXdCTixNQUNKLEtBL0JRLEdBZ0NKL0ssS0FBS3lJLE9BQU9zQyxVQUFTLElBQ3JCLE1BRUosS0FsQ1EsR0FtQ0ovSyxLQUFLeUksT0FBT3VDLFFBQU8sSUFDbkIsTUFDSixLQXBDUyxHQXFDTGhMLEtBQUt5SSxPQUFPdUMsT0FqQ04sTUFxQ3RCLEVBNUlBLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvUmF5LnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9Ub29sLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9WZWN0b3IudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1ZlcnRleC50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVHJhbnNmb3JtLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9UcmlhbmdsZS50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvQm94M0QudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRlcmFpbHMvRGlmZnVzZS50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvQ2FtZXJhLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL1Jhc3Rlcml6ZXJBcHAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZlY29yIGZyb20gXCIuL1ZlY3RvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmF5IHtcclxuICAgIGZyb206IFZlY29yO1xyXG4gICAgZGlyOiBWZWNvcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihmcm9tOiBWZWNvciwgZGlyOiBWZWNvcikge1xyXG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XHJcbiAgICAgICAgdGhpcy5kaXIgPSBkaXI7XHJcbiAgICB9XHJcbn07IiwiaW1wb3J0IFNjZW5lTm9kZSBmcm9tIFwiLi4vT2JqZWN0L1NjZW5lTm9kZVwiO1xyXG5pbXBvcnQgUmF5IGZyb20gXCIuL1JheVwiO1xyXG5pbXBvcnQgSGl0SW5mbyBmcm9tIFwiLi9IaXRJbmZvXCI7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcbmltcG9ydCBUcmlhbmdsZSBmcm9tIFwiLi9UcmlhbmdsZVwiO1xyXG5pbXBvcnQgVmVydGV4IGZyb20gXCIuL1ZlcnRleFwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlZ3JlZV90b19SYWQoZDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5QSSAqIGQgLyAxODA7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZXBzaWxvbjogbnVtYmVyID0gMC4wMDE7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyX2VxdWFsKGE6IG51bWJlciwgYjogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDwgZXBzaWxvbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0geCBpbnB1dFxyXG4gKiBAcGFyYW0gYSBtaW4gXHJcbiAqIEBwYXJhbSBiIG1heFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHg6IG51bWJlciwgYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcclxuICAgIGlmICh4ID4gYilcclxuICAgICAgICByZXR1cm4gYjtcclxuICAgIGVsc2UgaWYgKHggPCBhKVxyXG4gICAgICAgIHJldHVybiBhO1xyXG4gICAgZWxzZVxyXG4gICAgICAgIHJldHVybiB4O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2hpdF9zb3J0X2xpc3Qob2JqX2xpc3Q6IFNjZW5lTm9kZVtdLCByYXk6IFJheSkge1xyXG4gICAgbGV0IGhpdF9zb3J0X2xpc3QgPSBvYmpfbGlzdC5tYXAob2JqID0+IG9iai5oLmhpdChyYXksIG9iai5zKSlcclxuICAgICAgICAuZmlsdGVyKGluZm8gPT4gaW5mby5pc19oaXQpXHJcbiAgICAgICAgLnNvcnQoKGE6IEhpdEluZm8sIGI6IEhpdEluZm8pID0+IGEudCAtIGIudCk7XHJcblxyXG4gICAgcmV0dXJuIGhpdF9zb3J0X2xpc3Q7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRfc2hhZG93X3dlaWdodChoaXRfaW5mbzogSGl0SW5mbywgZGlyZWN0aW9uX2xpZ2h0X2RpcjogVmVjdG9yLCBvYmpfbGlzdDogU2NlbmVOb2RlW10pIHtcclxuXHJcbiAgICAvLyDmmK/lkKblnKjlvbHlrZDlhadcclxuICAgIGxldCBkaXIgPSBkaXJlY3Rpb25fbGlnaHRfZGlyLm5lZ2F0aXZlKCk7XHJcbiAgICBsZXQgZnJvbSA9IGhpdF9pbmZvLmhpdF9wb3MuYWRkKGRpci5tdWx0aXBseShlcHNpbG9uKSk7IC8vIOWBj+enu+S4gOWwj+autei3nembou+8jOmBv+WFjeWwhOS4reiHquW3sVxyXG4gICAgbGV0IHJheSA9IG5ldyBSYXkoZnJvbSwgZGlyKTtcclxuICAgIGxldCBoaXRfc29ydF9saXN0ID0gZ2V0X2hpdF9zb3J0X2xpc3Qob2JqX2xpc3QsIHJheSk7XHJcbiAgICBpZiAoaGl0X3NvcnRfbGlzdC5sZW5ndGggIT0gMCkgeyAvLyDlnKjlvbHlrZDlhadcclxuICAgICAgICByZXR1cm4gMC40NTsgLy8g5LiN6KaB5aSq6buRXHJcbiAgICB9IGVsc2VcclxuICAgICAgICByZXR1cm4gMTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoYTogbnVtYmVyLCBiOiBudW1iZXIsIHQ6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIGEgKyB0ICogKGIgLSBhKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsaXAodHJpYW5nbGU6IFRyaWFuZ2xlLCBuZWFyUGxhbmVaOiBudW1iZXIpIHtcclxuXHJcbiAgICBsZXQgdl9jbGlwOiBWZXJ0ZXhbXSA9IFtdO1xyXG5cclxuICAgIGxldCBnZXRDcm9zc1BvaW50ID0gZnVuY3Rpb24gKHYwOiBWZXJ0ZXgsIHYxOiBWZXJ0ZXgsIHB6OiBudW1iZXIpIHtcclxuXHJcbiAgICAgICAgbGV0IHB2MCA9IHYwLnA7XHJcbiAgICAgICAgbGV0IHB2MSA9IHYxLnA7XHJcbiAgICAgICAgbGV0IHQgPSAocHogLSBwdjAueikgLyAocHYxLnogLSBwdjAueik7XHJcblxyXG4gICAgICAgIHJldHVybiBWZXJ0ZXgubGVycCh2MCwgdjEsIHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vcHZvIGluIFxyXG4gICAgbGV0IGNsaXBfZmlyc3RfaW4gPSBmdW5jdGlvbiAocHYwOiBWZXJ0ZXgsIHB2MTogVmVydGV4LCBwdjI6IFZlcnRleCkge1xyXG4gICAgICAgIC8vIDEgdHJpYW5nbGUgMSBvbmUgdHJpYW5nbGVcclxuICAgICAgICB2X2NsaXBbMF0gPSBwdjA7XHJcbiAgICAgICAgdl9jbGlwWzFdID0gZ2V0Q3Jvc3NQb2ludChwdjAsIHB2MSwgbmVhclBsYW5lWik7XHJcbiAgICAgICAgdl9jbGlwWzJdID0gZ2V0Q3Jvc3NQb2ludChwdjAsIHB2MiwgbmVhclBsYW5lWik7XHJcbiAgICB9XHJcblxyXG4gICAgLy9wdm8gb3V0XHJcbiAgICBsZXQgY2xpcF9maXJzdF9vdXQgPSBmdW5jdGlvbiAocHYwOiBWZXJ0ZXgsIHB2MTogVmVydGV4LCBwdjI6IFZlcnRleCkge1xyXG5cclxuICAgICAgICAvLyAxIHRyaWFuZ2xlIHRvIDIgdHJpYW5nbGVcclxuICAgICAgICBsZXQgY3Jvc3MxID0gZ2V0Q3Jvc3NQb2ludChwdjIsIHB2MCwgbmVhclBsYW5lWik7XHJcbiAgICAgICAgbGV0IGNyb3NzMiA9IGdldENyb3NzUG9pbnQocHYwLCBwdjEsIG5lYXJQbGFuZVopO1xyXG5cclxuICAgICAgICB2X2NsaXBbMF0gPSBwdjI7XHJcbiAgICAgICAgdl9jbGlwWzFdID0gY3Jvc3MxO1xyXG4gICAgICAgIHZfY2xpcFsyXSA9IGNyb3NzMjtcclxuXHJcbiAgICAgICAgdl9jbGlwWzNdID0gcHYyO1xyXG4gICAgICAgIHZfY2xpcFs0XSA9IGNyb3NzMjtcclxuICAgICAgICB2X2NsaXBbNV0gPSBwdjE7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIOaciTjnqK7mg4Xms4FcclxuICAgIGlmICh0cmlhbmdsZS52MC5wLnogPCBuZWFyUGxhbmVaKS8vb3V0XHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRyaWFuZ2xlLnYxLnAueiA8IG5lYXJQbGFuZVopIC8vb3V0IG91dFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHRyaWFuZ2xlLnYyLnAueiA8IG5lYXJQbGFuZVopLy9mdWxsIG91dCBvZiBuZWFyUGxhbmVaIChubyBjbGlwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZnVsbCBvdXQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIC8vb3V0IG91dCBpblxyXG4gICAgICAgICAgICAgICAgY2xpcF9maXJzdF9pbih0cmlhbmdsZS52MiwgdHJpYW5nbGUudjAsIHRyaWFuZ2xlLnYxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSAvL291dCBpbiBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0cmlhbmdsZS52Mi5wLnogPCBuZWFyUGxhbmVaKS8vb3V0IGluIG91dFxyXG4gICAgICAgICAgICAgICAgY2xpcF9maXJzdF9pbih0cmlhbmdsZS52MSwgdHJpYW5nbGUudjIsIHRyaWFuZ2xlLnYwKTtcclxuICAgICAgICAgICAgZWxzZSAvLyBvdXQgaW4gaW5cclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3Rfb3V0KHRyaWFuZ2xlLnYwLCB0cmlhbmdsZS52MSwgdHJpYW5nbGUudjIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgLy8gaW5cclxuICAgIHtcclxuICAgICAgICBpZiAodHJpYW5nbGUudjEucC56IDwgbmVhclBsYW5lWikvLyBpbiBvdXQgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodHJpYW5nbGUudjIucC56IDwgbmVhclBsYW5lWikvLyBpbiBvdXQgb3V0XHJcbiAgICAgICAgICAgICAgICBjbGlwX2ZpcnN0X2luKHRyaWFuZ2xlLnYwLCB0cmlhbmdsZS52MSwgdHJpYW5nbGUudjIpO1xyXG4gICAgICAgICAgICBlbHNlIC8vIGluIG91dCBpblxyXG4gICAgICAgICAgICAgICAgY2xpcF9maXJzdF9vdXQodHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyLCB0cmlhbmdsZS52MCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgLy8gaW4gaW5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0cmlhbmdsZS52Mi5wLnogPCBuZWFyUGxhbmVaKS8vIGluIGluIG91dFxyXG4gICAgICAgICAgICAgICAgY2xpcF9maXJzdF9vdXQodHJpYW5nbGUudjIsIHRyaWFuZ2xlLnYwLCB0cmlhbmdsZS52MSk7XHJcbiAgICAgICAgICAgIGVsc2UgLy8gaW4gaW4gaW4gKG5vIGNsaXApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZfY2xpcFswXSA9IHRyaWFuZ2xlLnYwO1xyXG4gICAgICAgICAgICAgICAgdl9jbGlwWzFdID0gdHJpYW5nbGUudjE7XHJcbiAgICAgICAgICAgICAgICB2X2NsaXBbMl0gPSB0cmlhbmdsZS52MjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdl9jbGlwO1xyXG59IiwiaW1wb3J0IHsgbGVycCwgbnVtYmVyX2VxdWFsIH0gZnJvbSAnLi9Ub29sJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjdG9yIHtcclxuXHJcbiAgICBzdGF0aWMgY2FsY3VsYXRlX25vcm1hbCh2MDogVmVjdG9yLCB2MTogVmVjdG9yLCB2MjogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHYwMSA9IFZlY3Rvci5taW51cyh2MSwgdjApO1xyXG4gICAgICAgIGxldCB2MDIgPSBWZWN0b3IubWludXModjIsIHYwKTtcclxuICAgICAgICBsZXQgbm9ybWFsID0gVmVjdG9yLmNyb3NzKHYwMSwgdjAyKTtcclxuICAgICAgICByZXR1cm4gbm9ybWFsLm5vcm1hbGl6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjYWxjdWxhdGVfY2VudGVyKHYwOiBWZWN0b3IsIHYxOiBWZWN0b3IsIHYyOiBWZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gdjAuYWRkKHYxKS5hZGQodjIpLm11bHRpcGx5KDEgLyAzKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdXYodTogbnVtYmVyLCB2OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih1LCB2LCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdXAgPSBuZXcgVmVjdG9yKDAsIDEsIDApO1xyXG4gICAgc3RhdGljIHplcm8gPSBuZXcgVmVjdG9yKDAsIDAsIDApO1xyXG5cclxuICAgIHN0YXRpYyByZWZsZWN0KEk6IFZlY3RvciwgTjogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IEwgPSAtMiAqIFZlY3Rvci5kb3QoSSwgTilcclxuICAgICAgICByZXR1cm4gTi5tdWx0aXBseShMKS5hZGQoSSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZChBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCB0ZW1wID0gbmV3IFZlY3RvcihCLnggKyBBLngsIEIueSArIEEueSwgQi56ICsgQS56KTtcclxuICAgICAgICByZXR1cm4gdGVtcFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBtaW51cyhBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCB0ZW1wID0gbmV3IFZlY3RvcihBLnggLSBCLngsIEEueSAtIEIueSwgQS56IC0gQi56KTtcclxuICAgICAgICByZXR1cm4gdGVtcFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBtdWx0aXBseShBOiBWZWN0b3IsIHM6IG51bWJlcikge1xyXG4gICAgICAgIGxldCB0ZW1wID0gbmV3IFZlY3RvcihBLnggKiBzLCBBLnkgKiBzLCBBLnogKiBzKTtcclxuICAgICAgICByZXR1cm4gdGVtcFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBtdWx0aXBseTMoQTogVmVjdG9yLCBCOiBWZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihBLnggKiBCLngsIEEueSAqIEIueSwgQS56ICogQi56KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY3Jvc3MoQTogVmVjdG9yLCBCOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IG5ldyBWZWN0b3IoQS55ICogQi56IC0gQS56ICogQi55LCAtQS54ICogQi56ICsgQS56ICogQi54LCBBLnggKiBCLnkgLSBBLnkgKiBCLngpO1xyXG4gICAgICAgIHJldHVybiB0ZW1wO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkb3QoQTogVmVjdG9yLCBCOiBWZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gQS54ICogQi54ICsgQS55ICogQi55ICsgQS56ICogQi56O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBlcXVhbChBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBudW1iZXJfZXF1YWwoQS54LCBCLngpICYmIG51bWJlcl9lcXVhbChBLnksIEIueSkgJiYgbnVtYmVyX2VxdWFsKEEueiwgQi56KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbGVycChBOiBWZWN0b3IsIEI6IFZlY3RvciwgdDogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoXHJcbiAgICAgICAgICAgIGxlcnAoQS54LCBCLngsIHQpLFxyXG4gICAgICAgICAgICBsZXJwKEEueSwgQi55LCB0KSxcclxuICAgICAgICAgICAgbGVycChBLnosIEIueiwgdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHg6IG51bWJlciA9IDA7XHJcbiAgICB5OiBudW1iZXIgPSAwO1xyXG4gICAgejogbnVtYmVyID0gMDtcclxuICAgIGNvbnN0cnVjdG9yKHB4OiBudW1iZXIsIHB5OiBudW1iZXIsIHB6OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnggPSBweDtcclxuICAgICAgICB0aGlzLnkgPSBweTtcclxuICAgICAgICB0aGlzLnogPSBwejtcclxuICAgIH1cclxuXHJcbiAgICBsZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopO1xyXG4gICAgfVxyXG5cclxuICAgIG5vcm1hbGl6ZSgpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IHRoaXMubGVuZ3RoKCk7XHJcbiAgICAgICAgdGhpcy54ID0gdGhpcy54IC8gdGVtcDtcclxuICAgICAgICB0aGlzLnkgPSB0aGlzLnkgLyB0ZW1wO1xyXG4gICAgICAgIHRoaXMueiA9IHRoaXMueiAvIHRlbXA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkKEE6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuYWRkKHRoaXMsIEEpO1xyXG4gICAgfVxyXG5cclxuICAgIG1pbnVzKEE6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IubWludXModGhpcywgQSk7XHJcbiAgICB9XHJcblxyXG4gICAgbXVsdGlwbHkoczogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5tdWx0aXBseSh0aGlzLCBzKTtcclxuICAgIH1cclxuXHJcbiAgICBuZWdhdGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLm11bHRpcGx5KHRoaXMsIC0xKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih0aGlzLngsIHRoaXMueSwgdGhpcy56KTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgeyBsZXJwIH0gZnJvbSAnLi9Ub29sJztcclxuaW1wb3J0IFZlY3RvciBmcm9tICcuL1ZlY3RvcidcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlcnRleCB7XHJcbiAgICBzdGF0aWMgYnVpbGRfdmVydGV4KHA6IFZlY3RvciwgbjogVmVjdG9yLCB3OiBudW1iZXIsIHU6IG51bWJlciwgdjogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHZlcnRleCA9IG5ldyBWZXJ0ZXgocCwgbiwgdywgdSwgdik7XHJcbiAgICAgICAgcmV0dXJuIHZlcnRleDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbGVycCh2MDogVmVydGV4LCB2MTogVmVydGV4LCB0OiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgcCA9IFZlY3Rvci5sZXJwKHYwLnAsIHYxLnAsIHQpO1xyXG4gICAgICAgIGxldCBuID0gVmVjdG9yLmxlcnAodjAubiwgdjEubiwgdCk7XHJcbiAgICAgICAgbGV0IHcgPSBsZXJwKHYwLncsIHYxLncsIHQpO1xyXG4gICAgICAgIGxldCB1ID0gbGVycCh2MC51LCB2MS51LCB0KTtcclxuICAgICAgICBsZXQgdiA9IGxlcnAodjAudiwgdjEudiwgdCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZXJ0ZXgocCwgbiwgdywgdSwgdik7XHJcbiAgICB9XHJcblxyXG4gICAgcDogVmVjdG9yO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgdTogbnVtYmVyO1xyXG4gICAgdjogbnVtYmVyO1xyXG4gICAgbjogVmVjdG9yO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHA6IFZlY3RvciwgbjogVmVjdG9yLCB3OiBudW1iZXIsIHU6IG51bWJlciwgdjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5wID0gcDtcclxuICAgICAgICB0aGlzLm4gPSBuO1xyXG4gICAgICAgIHRoaXMudyA9IHc7XHJcbiAgICAgICAgdGhpcy51ID0gdTtcclxuICAgICAgICB0aGlzLnYgPSB2O1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVydGV4KHRoaXMucC5jbG9uZSgpLCB0aGlzLm4uY2xvbmUoKSwgdGhpcy53LCB0aGlzLnUsIHRoaXMudik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlX3AocDogVmVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5wID0gcDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVfdyh3OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLncgPSB3O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IHsgZGVncmVlX3RvX1JhZCB9IGZyb20gJy4vVG9vbCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zZm9ybSB7XHJcbiAgICB4QXhpczogVmVjdG9yO1xyXG4gICAgeUF4aXM6IFZlY3RvcjtcclxuICAgIHpBeGlzOiBWZWN0b3I7XHJcbiAgICBwb3NpdGlvbjogVmVjdG9yO1xyXG4gICAgY29uc3RydWN0b3IoeEF4aXM6IFZlY3RvciwgeUF4aXM6IFZlY3RvciwgekF4aXM6IFZlY3RvciwgcG9zaXRpb246IFZlY3Rvcikge1xyXG4gICAgICAgIHRoaXMueEF4aXMgPSB4QXhpcztcclxuICAgICAgICB0aGlzLnlBeGlzID0geUF4aXM7XHJcbiAgICAgICAgdGhpcy56QXhpcyA9IHpBeGlzO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdHJhbnNmb3JtUG9pbnQodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHBvaW50OiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgdmVjdG9yWCA9IHRyYW5zZm9ybS54QXhpcy5tdWx0aXBseShwb2ludC54KTtcclxuICAgICAgICBsZXQgdmVjdG9yWSA9IHRyYW5zZm9ybS55QXhpcy5tdWx0aXBseShwb2ludC55KTtcclxuICAgICAgICBsZXQgdmVjdG9yWiA9IHRyYW5zZm9ybS56QXhpcy5tdWx0aXBseShwb2ludC56KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybS5wb3NpdGlvbi5hZGQodmVjdG9yWCkuYWRkKHZlY3RvclkpLmFkZCh2ZWN0b3JaKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdHJhbnNmb3JtVmVjdG9yKHRyYW5zZm9ybTogVHJhbnNmb3JtLCB2ZXJ0ZXg6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCB2ZWN0b3JYID0gdHJhbnNmb3JtLnhBeGlzLm11bHRpcGx5KHZlcnRleC54KTtcclxuICAgICAgICBsZXQgdmVjdG9yWSA9IHRyYW5zZm9ybS55QXhpcy5tdWx0aXBseSh2ZXJ0ZXgueSk7XHJcbiAgICAgICAgbGV0IHZlY3RvclogPSB0cmFuc2Zvcm0uekF4aXMubXVsdGlwbHkodmVydGV4LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gdmVjdG9yWC5hZGQodmVjdG9yWSkuYWRkKHZlY3RvclopO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB0cmFuc2Zvcm1UcmFuc2Zvcm0odHJhbnNmb3JtOiBUcmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVZlY3Rvcih0cmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtLnhBeGlzKSxcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVZlY3Rvcih0cmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtLnlBeGlzKSxcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVZlY3Rvcih0cmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtLnpBeGlzKSxcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHRyYW5zZm9ybSwgaW5wdXRUcmFuc2Zvcm0ucG9zaXRpb24pLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJvdGF0ZUJ5WihkZWdyZWU6IG51bWJlcikge1xyXG4gICAgICAgIGxldCByYWRpYW4gPSBkZWdyZWVfdG9fUmFkKGRlZ3JlZSk7XHJcbiAgICAgICAgbGV0IGMgPSBNYXRoLmNvcyhyYWRpYW4pLCBzID0gTWF0aC5zaW4ocmFkaWFuKTtcclxuICAgICAgICBsZXQgeEF4aXMgPSBuZXcgVmVjdG9yKGMsIHMsIDApO1xyXG4gICAgICAgIGxldCB5QXhpcyA9IG5ldyBWZWN0b3IoLXMsIGMsIDApO1xyXG4gICAgICAgIGxldCB6QXhpcyA9IG5ldyBWZWN0b3IoMCwgMCwgMSk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtKFxyXG4gICAgICAgICAgICB4QXhpcyxcclxuICAgICAgICAgICAgeUF4aXMsXHJcbiAgICAgICAgICAgIHpBeGlzLFxyXG4gICAgICAgICAgICBWZWN0b3IuemVybyxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByb3RhdGVCeVkoZGVncmVlOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgcmFkaWFuID0gZGVncmVlX3RvX1JhZChkZWdyZWUpO1xyXG4gICAgICAgIGxldCBjID0gTWF0aC5jb3MocmFkaWFuKSwgcyA9IE1hdGguc2luKHJhZGlhbik7XHJcbiAgICAgICAgbGV0IHpBeGlzID0gbmV3IFZlY3RvcihzLCAwLCBjKTtcclxuICAgICAgICBsZXQgeEF4aXMgPSBuZXcgVmVjdG9yKGMsIDAsIC1zKTtcclxuICAgICAgICBsZXQgeUF4aXMgPSBuZXcgVmVjdG9yKDAsIDEsIDApO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgeEF4aXMsXHJcbiAgICAgICAgICAgIHlBeGlzLFxyXG4gICAgICAgICAgICB6QXhpcyxcclxuICAgICAgICAgICAgVmVjdG9yLnplcm8sXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcm90YXRlQnlYKGRlZ3JlZTogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHJhZGlhbiA9IGRlZ3JlZV90b19SYWQoZGVncmVlKTtcclxuICAgICAgICBsZXQgYyA9IE1hdGguY29zKHJhZGlhbiksIHMgPSBNYXRoLnNpbihyYWRpYW4pO1xyXG4gICAgICAgIGxldCB4QXhpcyA9IG5ldyBWZWN0b3IoMSwgMCwgMCk7XHJcbiAgICAgICAgbGV0IHlBeGlzID0gbmV3IFZlY3RvcigwLCBjLCBzKTtcclxuICAgICAgICBsZXQgekF4aXMgPSBuZXcgVmVjdG9yKDAsIC1zLCBjKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm0oXHJcbiAgICAgICAgICAgIHhBeGlzLFxyXG4gICAgICAgICAgICB5QXhpcyxcclxuICAgICAgICAgICAgekF4aXMsXHJcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoMCwgMCwgMCksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgb2Zmc2V0KHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigxLCAwLCAwKSxcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigwLCAxLCAwKSxcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigwLCAwLCAxKSxcclxuICAgICAgICAgICAgbmV3IFZlY3Rvcih4LCB5LCB6KSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG4iLCJpbXBvcnQgVHJhbnNmb3JtIGZyb20gJy4vVHJhbnNmb3JtJztcclxuaW1wb3J0IFZlY3RvciBmcm9tICcuL1ZlY3RvcidcclxuaW1wb3J0IFZlcnRleCBmcm9tICcuL1ZlcnRleCdcclxuaW1wb3J0IHsgY2xpcCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9DYW1lcmEnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJpYW5nbGUge1xyXG5cclxuICAgIHN0YXRpYyBNVlBfYmFja2ZhY2VfY3VsbGluZ19jbGlwcGluZyh0cmlhbmdsZTogVHJpYW5nbGUsIHBjYW1lcmE6IENhbWVyYSwgd29ybGRUcmFuc2Zvcm06IFRyYW5zZm9ybSkge1xyXG4gICAgICAgIC8vIHRvIHdvcmxkIHNwYWNlXHJcbiAgICAgICAgbGV0IHYwX3cgPSBUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQod29ybGRUcmFuc2Zvcm0sIHRyaWFuZ2xlLnYwLnApO1xyXG4gICAgICAgIGxldCB2MV93ID0gVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHdvcmxkVHJhbnNmb3JtLCB0cmlhbmdsZS52MS5wKTtcclxuICAgICAgICBsZXQgdjJfdyA9IFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludCh3b3JsZFRyYW5zZm9ybSwgdHJpYW5nbGUudjIucCk7XHJcblxyXG4gICAgICAgIC8vIHRvIGNhbWVyYSBzcGFjZVxyXG4gICAgICAgIGxldCB2MF9jID0gcGNhbWVyYS50b0NhbWVyYVNwYWNlKHYwX3cpO1xyXG4gICAgICAgIGxldCB2MV9jID0gcGNhbWVyYS50b0NhbWVyYVNwYWNlKHYxX3cpO1xyXG4gICAgICAgIGxldCB2Ml9jID0gcGNhbWVyYS50b0NhbWVyYVNwYWNlKHYyX3cpO1xyXG5cclxuICAgICAgICBsZXQgdjBfcCA9IHBjYW1lcmEudG9Qcm9qZWN0aW9uU3BhY2UodjBfYyk7XHJcbiAgICAgICAgbGV0IHYxX3AgPSBwY2FtZXJhLnRvUHJvamVjdGlvblNwYWNlKHYxX2MpO1xyXG4gICAgICAgIGxldCB2Ml9wID0gcGNhbWVyYS50b1Byb2plY3Rpb25TcGFjZSh2Ml9jKTtcclxuXHJcbiAgICAgICAgLy8gYmFjayBmYWNlIGN1bGxpbmdcclxuICAgICAgICBsZXQgbm9ybWFsID0gVmVjdG9yLmNhbGN1bGF0ZV9ub3JtYWwodjBfcCwgdjFfcCwgdjJfcCk7XHJcbiAgICAgICAgbGV0IGNlbnRlcl90b19leWUgPSBWZWN0b3IubWludXMoVmVjdG9yLnplcm8sIFZlY3Rvci5jYWxjdWxhdGVfY2VudGVyKHYwX3AsIHYxX3AsIHYyX3ApKS5ub3JtYWxpemUoKTtcclxuICAgICAgICBsZXQgY29zX3ZhbHVlID0gVmVjdG9yLmRvdChub3JtYWwsIGNlbnRlcl90b19leWUpOztcclxuICAgICAgICBpZiAoY29zX3ZhbHVlIDw9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g6YeN5paw57aB5a6adXZcclxuICAgICAgICBsZXQgdjAgPSB0cmlhbmdsZS52MC5jbG9uZSgpLnVwZGF0ZV9wKHYwX3ApLnVwZGF0ZV93KHYwX2Mueik7XHJcbiAgICAgICAgbGV0IHYxID0gdHJpYW5nbGUudjEuY2xvbmUoKS51cGRhdGVfcCh2MV9wKS51cGRhdGVfdyh2MV9jLnopO1xyXG4gICAgICAgIGxldCB2MiA9IHRyaWFuZ2xlLnYyLmNsb25lKCkudXBkYXRlX3AodjJfcCkudXBkYXRlX3codjJfYy56KTtcclxuXHJcbiAgICAgICAgLy8g5Z+36KGM5LiJ6KeS5b2i6KOB5YiHXHJcbiAgICAgICAgcmV0dXJuIFRyaWFuZ2xlLmNsaXBfaW5fUHJvamVjdGlvbl9TcGFjZSh2MCwgdjEsIHYyKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xpcF9pbl9Qcm9qZWN0aW9uX1NwYWNlKHYwOiBWZXJ0ZXgsIHYxOiBWZXJ0ZXgsIHYyOiBWZXJ0ZXgpIHtcclxuICAgICAgICAvLyBUb2RvOuWft+ihjOS4ieinkuW9ouijgeWIh1xyXG4gICAgICAgIC8vIOWSjHnou7jlpL40NeW6pueahDLlgIvlubPpnaLjgIHlkox46Lu45aS+NDXluqbnmoQy5YCL5bmz6Z2iXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9ncG5ub3Rlcy5ibG9nc3BvdC5jb20vMjAyMS8xMS9ibG9nLXBvc3RfMjguaHRtbFxyXG4gICAgICAgIHJldHVybiBbbmV3IFRyaWFuZ2xlKHYwLCB2MSwgdjIpXTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xpcF9pbl9OREModjA6IFZlY3RvciwgdjE6IFZlY3RvciwgdjI6IFZlY3Rvcikge1xyXG4gICAgICAgIC8vIFRvZG86TkRD6KOB5YiHKOWPr+iDveeUoueUn+WkmuWAiylcclxuICAgICAgICByZXR1cm4gW1t2MCwgdjEsIHYyXV07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHByb2Nlc3ModHJpYW5nbGU6IFRyaWFuZ2xlLCBwY2FtZXJhOiBDYW1lcmEsIHdvcmxkVHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcclxuXHJcbiAgICAgICAgLy8gdG8gTVZQXHJcbiAgICAgICAgbGV0IHRyaWFuZ2xlX2xpc3QgPSBUcmlhbmdsZS5NVlBfYmFja2ZhY2VfY3VsbGluZ19jbGlwcGluZyh0cmlhbmdsZSwgcGNhbWVyYSwgd29ybGRUcmFuc2Zvcm0pO1xyXG5cclxuICAgICAgICAvLyB0byBORENcclxuICAgICAgICBmb3IgKGxldCBUIG9mIHRyaWFuZ2xlX2xpc3QpIHtcclxuICAgICAgICAgICAgbGV0IHYwX25kYyA9IHBjYW1lcmEudG9OREMoVC52MC5wKTtcclxuICAgICAgICAgICAgbGV0IHYxX25kYyA9IHBjYW1lcmEudG9OREMoVC52MS5wKTtcclxuICAgICAgICAgICAgbGV0IHYyX25kYyA9IHBjYW1lcmEudG9OREMoVC52Mi5wKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOWft+ihjOS4ieinkuW9ouijgeWIhyBcclxuICAgICAgICAgICAgbGV0IHBhcnRzID0gVHJpYW5nbGUuY2xpcF9pbl9OREModjBfbmRjLCB2MV9uZGMsIHYyX25kYyk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHBhcnQgb2YgcGFydHMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDlsI3mr4/lgItwYXJ0IFxyXG4gICAgICAgICAgICAgICAgLy8gdG8gc2NyZWVuIHNwYWNlXHJcbiAgICAgICAgICAgICAgICBsZXQgdjBfcyA9IHBjYW1lcmEudG9TY3JlZW5TcGFjZShwYXJ0WzBdKTtcclxuICAgICAgICAgICAgICAgIGxldCB2MV9zID0gcGNhbWVyYS50b1NjcmVlblNwYWNlKHBhcnRbMV0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IHYyX3MgPSBwY2FtZXJhLnRvU2NyZWVuU3BhY2UocGFydFsyXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g54K65LqG5ZKM5pys5L6G55qEY29kZeebuOWuue+8jOaaq+aZguWFiOWCs+WHuuWOu1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt2MF9zLCB2MV9zLCB2Ml9zXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDmib7lh7rljIXlnI3nmoTnn6nlvaJcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDlsI3nn6nlvaLoo6HnmoTmr4/lgIvpu55wXHJcbiAgICAgICAgICAgICAgICAvLyDliKTlrprmmK/lkKbkvY3lnKhzY3JlZW4gc3BhY2XkuInop5LlvaJcclxuICAgICAgICAgICAgICAgIC8vIGlmIHllcyBcclxuICAgICAgICAgICAgICAgIC8vICgxKemHjeaWsOaKium7nnDmmKDlsITliLBOREMsXHJcbiAgICAgICAgICAgICAgICAvLyAoMinlnKhOREPpgLLooYzlhafmj5LvvIzkuZjkuIp35Zue5YiwcHJvamVjdGlvbiBzcGFjZVxyXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9ncG5ub3Rlcy5ibG9nc3BvdC5jb20vMjAyMS8xMS9ibG9nLXBvc3RfMjcuaHRtbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHYwOiBWZXJ0ZXg7XHJcbiAgICB2MTogVmVydGV4O1xyXG4gICAgdjI6IFZlcnRleDtcclxuICAgIGNvbnN0cnVjdG9yKHB2MDogVmVydGV4LCBwdjE6IFZlcnRleCwgcHYyOiBWZXJ0ZXgpIHtcclxuICAgICAgICB0aGlzLnYwID0gcHYwO1xyXG4gICAgICAgIHRoaXMudjEgPSBwdjE7XHJcbiAgICAgICAgdGhpcy52MiA9IHB2MjtcclxuICAgIH1cclxuXHJcbiAgICB2X3M6IFZlY3RvcltdO1xyXG4gICAgcHJvY2VzcyhwY2FtZXJhOiBDYW1lcmEsIHdvcmxkVHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcclxuICAgICAgICB0aGlzLnZfcyA9IFRyaWFuZ2xlLnByb2Nlc3ModGhpcywgcGNhbWVyYSwgd29ybGRUcmFuc2Zvcm0pO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBpZiAodGhpcy52X3MgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgdENvdW50ID0gdGhpcy52X3MubGVuZ3RoIC8gMztcclxuICAgICAgICBmb3IgKGxldCBjID0gMTsgYyA8PSB0Q291bnQ7ICsrYykge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSAzICogYyAtIDE7XHJcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8odGhpcy52X3NbaW5kZXhdLngsIHRoaXMudl9zW2luZGV4XS55KTtcclxuICAgICAgICAgICAgY3R4LmxpbmVUbyh0aGlzLnZfc1tpbmRleCAtIDJdLngsIHRoaXMudl9zW2luZGV4IC0gMl0ueSk7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8odGhpcy52X3NbaW5kZXggLSAxXS54LCB0aGlzLnZfc1tpbmRleCAtIDFdLnkpO1xyXG4gICAgICAgICAgICBjdHgubGluZVRvKHRoaXMudl9zW2luZGV4XS54LCB0aGlzLnZfc1tpbmRleF0ueSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgVmVydGV4IGZyb20gJy4vVmVydGV4J1xyXG5pbXBvcnQgVHJpYW5nbGUgZnJvbSAnLi9UcmlhbmdsZSc7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSAnLi9WZWN0b3InO1xyXG5pbXBvcnQgVHJhbnNmb3JtIGZyb20gJy4vVHJhbnNmb3JtJztcclxuaW1wb3J0IHsgY2xpcCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9DYW1lcmEnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm94IHtcclxuICAgIHRyaWFuZ2xlczogVHJpYW5nbGVbXTtcclxuICAgIHRyaWFuZ2xlc19hZnRlcl9jbGlwOiBUcmlhbmdsZVtdO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLy8g5bu656uL5q2j5pa56auU6aCC6bue6LOH5paZXHJcbiAgICAgICAgdGhpcy50cmlhbmdsZXMgPSBbXTtcclxuICAgICAgICAvL+mghuaZgumHnVxyXG4gICAgICAgIGxldCBuID0gbmV3IFZlY3RvcigwLCAwLCAtMSk7XHJcbiAgICAgICAgdGhpcy50cmlhbmdsZXMucHVzaChcclxuICAgICAgICAgICAgbmV3IFRyaWFuZ2xlKFxyXG4gICAgICAgICAgICAgICAgbmV3IFZlcnRleChuZXcgVmVjdG9yKC0xMCwgLTEwLCAtMTApLCBuLCAxLCAwLCAwKSxcclxuICAgICAgICAgICAgICAgIG5ldyBWZXJ0ZXgobmV3IFZlY3RvcigxMCwgMTAsIC0xMCksIG4sIDEsIDEsIDEpLFxyXG4gICAgICAgICAgICAgICAgbmV3IFZlcnRleChuZXcgVmVjdG9yKDEwLCAtMTAsIC0xMCksIG4sIDEsIDEsIDApXHJcbiAgICAgICAgICAgICkpO1xyXG4gICAgICAgIHRoaXMudHJpYW5nbGVzLnB1c2goXHJcbiAgICAgICAgICAgIG5ldyBUcmlhbmdsZShcclxuICAgICAgICAgICAgICAgIG5ldyBWZXJ0ZXgobmV3IFZlY3RvcigtMTAsIC0xMCwgLTEwKSwgbiwgMSwgMCwgMCksXHJcbiAgICAgICAgICAgICAgICBuZXcgVmVydGV4KG5ldyBWZWN0b3IoLTEwLCAxMCwgLTEwKSwgbiwgMSwgMCwgMSksXHJcbiAgICAgICAgICAgICAgICBuZXcgVmVydGV4KG5ldyBWZWN0b3IoMTAsIDEwLCAtMTApLCBuLCAxLCAxLCAxKVxyXG4gICAgICAgICAgICApKTtcclxuXHJcbiAgICAgICAgbGV0IG0gPSBbVHJhbnNmb3JtLnJvdGF0ZUJ5WSg5MCksIFRyYW5zZm9ybS5yb3RhdGVCeVkoMTgwKSwgVHJhbnNmb3JtLnJvdGF0ZUJ5WSgyNzApLCBUcmFuc2Zvcm0ucm90YXRlQnlYKDkwKSwgVHJhbnNmb3JtLnJvdGF0ZUJ5WCgtOTApXVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBsZXQgcm90YXRlTWF0cml4ID0gbVtpXTtcclxuICAgICAgICAgICAgbGV0IG4yID0gVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHJvdGF0ZU1hdHJpeCwgbik7XHJcbiAgICAgICAgICAgIHRoaXMudHJpYW5nbGVzLnB1c2goXHJcbiAgICAgICAgICAgICAgICBuZXcgVHJpYW5nbGUoXHJcbiAgICAgICAgICAgICAgICAgICAgVmVydGV4LmJ1aWxkX3ZlcnRleChUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQocm90YXRlTWF0cml4LCBuZXcgVmVjdG9yKC0gMTAsIC0xMCwgLTEwKSksIG4yLCAxLCAwLCAwKSxcclxuICAgICAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludChyb3RhdGVNYXRyaXgsIG5ldyBWZWN0b3IoMTAsIDEwLCAtMTApKSwgbjIsIDEsIDEsIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgIFZlcnRleC5idWlsZF92ZXJ0ZXgoVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHJvdGF0ZU1hdHJpeCwgbmV3IFZlY3RvcigxMCwgLTEwLCAtMTApKSwgbjIsIDEsIDEsIDApXHJcbiAgICAgICAgICAgICAgICApKTtcclxuICAgICAgICAgICAgdGhpcy50cmlhbmdsZXMucHVzaChcclxuICAgICAgICAgICAgICAgIG5ldyBUcmlhbmdsZShcclxuICAgICAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludChyb3RhdGVNYXRyaXgsIG5ldyBWZWN0b3IoLTEwLCAtMTAsIC0xMCkpLCBuMiwgMSwgMCwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgVmVydGV4LmJ1aWxkX3ZlcnRleChUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQocm90YXRlTWF0cml4LCBuZXcgVmVjdG9yKC0xMCwgMTAsIC0xMCkpLCBuMiwgMSwgMCwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgVmVydGV4LmJ1aWxkX3ZlcnRleChUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQocm90YXRlTWF0cml4LCBuZXcgVmVjdG9yKDEwLCAxMCwgLTEwKSksIG4yLCAxLCAxLCAxKVxyXG4gICAgICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShjYW1lcmE6IENhbWVyYSwgd29ybGRUcmFuc2Zvcm06IFRyYW5zZm9ybSkge1xyXG5cclxuICAgICAgICAvLyDmuKzoqaboo4HliIfkuInop5LlvaLnmoRjb2RlXHJcbiAgICAgICAgLy8gdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcCA9IFtdO1xyXG4gICAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cmlhbmdsZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAvLyAgICAgbGV0IHRyaWFuZ2xlID0gdGhpcy50cmlhbmdsZXNbaV07XHJcbiAgICAgICAgLy8gICAgIGxldCBuZWFyUGxhbmVaID0gMTtcclxuICAgICAgICAvLyAgICAgbGV0IHZfY2xpcCA9IGNsaXAodHJpYW5nbGUsIG5lYXJQbGFuZVopO1xyXG5cclxuICAgICAgICAvLyAgICAgbGV0IGNvdW50ID0gdl9jbGlwLmxlbmd0aCAvIDM7XHJcbiAgICAgICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKGksIGNvdW50KTtcclxuICAgICAgICAvLyAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBjb3VudDsgKytrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAvLyDntYTlkIjkuInop5LlvaJcclxuICAgICAgICAvLyAgICAgICAgIGxldCBuZXdfdHJpYW5nbGUgPSBuZXcgVHJpYW5nbGUodl9jbGlwW2sgKiAzXSwgdl9jbGlwW2sgKiAzICsgMV0sIHZfY2xpcFtrICogMyArIDJdKTtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMudHJpYW5nbGVzX2FmdGVyX2NsaXAucHVzaChuZXdfdHJpYW5nbGUpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHRoaXMudHJpYW5nbGVzX2FmdGVyX2NsaXAgPSB0aGlzLnRyaWFuZ2xlcztcclxuXHJcbiAgICAgICAgLy8g6JmV55CG5q2j5pa56auU55qE6K6K5o+bXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyaWFuZ2xlc19hZnRlcl9jbGlwLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJpYW5nbGVzX2FmdGVyX2NsaXBbaV0ucHJvY2VzcyhjYW1lcmEsIHdvcmxkVHJhbnNmb3JtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIC8vIOeVq+S4ieinkuW9olxyXG4gICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tb3Zlcic7XHJcblxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwwLDAsMSknO1xyXG5cclxuXHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJpYW5nbGVzX2FmdGVyX2NsaXAubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcFtpXS5kcmF3KGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBWZWN0b3IgZnJvbSBcIi4uL01hdGgvVmVjdG9yXCI7XHJcbmltcG9ydCBIaXRJbmZvIGZyb20gXCIuLi9NYXRoL0hpdEluZm9cIjtcclxuaW1wb3J0IHsgY2xhbXAsIGdldF9zaGFkb3dfd2VpZ2h0IH0gZnJvbSBcIi4uL01hdGgvVG9vbFwiO1xyXG5pbXBvcnQgU2hhZGVyIGZyb20gXCIuL1NoYWRlclwiO1xyXG5pbXBvcnQgU2NlbmVOb2RlIGZyb20gXCIuLi9PYmplY3QvU2NlbmVOb2RlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaWZmdXNlIGltcGxlbWVudHMgU2hhZGVyIHtcclxuICAgIHN0YXRpYyB5ZWxsb3cgPSBuZXcgRGlmZnVzZShuZXcgVmVjdG9yKDEsIDEsIDApKTtcclxuICAgIHN0YXRpYyByZWQgPSBuZXcgRGlmZnVzZShuZXcgVmVjdG9yKDEsIDAsIDApKTtcclxuICAgIHN0YXRpYyBncmVlbiA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMCwgMSwgMCkpO1xyXG4gICAgc3RhdGljIGJsdWUgPSBuZXcgRGlmZnVzZShuZXcgVmVjdG9yKDAsIDAsIDEpKTtcclxuICAgIHN0YXRpYyBncmF5ID0gbmV3IERpZmZ1c2UobmV3IFZlY3RvcigwLjUsIDAuNSwgMC41KSk7XHJcbiAgICBzdGF0aWMgd2hpdGUgPSBuZXcgRGlmZnVzZShuZXcgVmVjdG9yKDEsIDEsIDEpKTtcclxuXHJcbiAgICBjb2xvcjogVmVjdG9yO1xyXG4gICAgY29uc3RydWN0b3IoY29sb3I6IFZlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBzaGFkaW5nKGhpdF9pbmZvOiBIaXRJbmZvLCBkaXJlY3Rpb25fbGlnaHRfZGlyOiBWZWN0b3IsIG9ial9saXN0OiBTY2VuZU5vZGVbXSwgZGVwdGg6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBuID0gaGl0X2luZm8ubm9ybWFsO1xyXG4gICAgICAgIGxldCBzdHJlbmd0aCA9IGNsYW1wKC1WZWN0b3IuZG90KGRpcmVjdGlvbl9saWdodF9kaXIsIG4pLCAwLCAxKTtcclxuXHJcbiAgICAgICAgbGV0IHNoYWRvd193ZWlnaHQgPSBnZXRfc2hhZG93X3dlaWdodChoaXRfaW5mbywgZGlyZWN0aW9uX2xpZ2h0X2Rpciwgb2JqX2xpc3QpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbG9yLm11bHRpcGx5KHN0cmVuZ3RoKS5tdWx0aXBseShzaGFkb3dfd2VpZ2h0KTtcclxuICAgIH1cclxufSIsImltcG9ydCBWZWN0b3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcbmltcG9ydCBSYXkgZnJvbSBcIi4vUmF5XCI7XHJcbmltcG9ydCB7IGRlZ3JlZV90b19SYWQsIGdldF9oaXRfc29ydF9saXN0IH0gZnJvbSBcIi4vVG9vbFwiXHJcbmltcG9ydCBSZW5kZXJUYXJnZXQgZnJvbSBcIi4vUmVuZGVyVGFyZ2V0XCI7XHJcbmltcG9ydCBIaXRJbmZvIGZyb20gXCIuL0hpdEluZm9cIjtcclxuaW1wb3J0IFNjZW5lTm9kZSBmcm9tIFwiLi4vT2JqZWN0L1NjZW5lTm9kZVwiO1xyXG5pbXBvcnQgRGlmZnVzZSBmcm9tIFwiLi4vTWF0ZXJhaWxzL0RpZmZ1c2VcIjtcclxuaW1wb3J0IFZlcnRleCBmcm9tIFwiLi9WZXJ0ZXhcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYSB7XHJcbiAgICBleWU6IFZlY3RvcjtcclxuXHJcbiAgICB4X2F4aXM6IFZlY3RvcjtcclxuICAgIHlfYXhpczogVmVjdG9yO1xyXG4gICAgel9heGlzOiBWZWN0b3I7XHJcblxyXG4gICAgcmF0aW86IG51bWJlcjtcclxuXHJcbiAgICBzY3JlZW5XOiBudW1iZXI7XHJcbiAgICBzY3JlZW5IOiBudW1iZXI7XHJcblxyXG4gICAgc2NyZWVuQ2VudGVyWDogbnVtYmVyO1xyXG4gICAgc2NyZWVuQ2VudGVyWTogbnVtYmVyO1xyXG4gICAgaGFsZlc6IG51bWJlcjtcclxuICAgIGhhbGZIOiBudW1iZXI7XHJcblxyXG4gICAgLy8g6KaW6YyQ55qEIOi/keW5s+mdouWSjOmBoOW5s+mdolxyXG4gICAgLy8gYeOAgWLlkozmipXlvbHnn6npmaPmnInpl5xcclxuICAgIE46IG51bWJlcjtcclxuICAgIEY6IG51bWJlcjtcclxuICAgIGE6IG51bWJlcjtcclxuICAgIGI6IG51bWJlcjtcclxuXHJcbiAgICBmb3ZfZGVncmVlOiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3RvcihleWU6IFZlY3RvciwgbG9va19hdDogVmVjdG9yLCBmb3ZfZGVncmVlOiBudW1iZXIsIHNjcmVlblc6IG51bWJlciwgc2NyZWVuSDogbnVtYmVyLCBOOiBudW1iZXIsIEY6IG51bWJlcikge1xyXG5cclxuICAgICAgICB0aGlzLnJhdGlvID0gc2NyZWVuVyAvIHNjcmVlbkg7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5XID0gc2NyZWVuVztcclxuICAgICAgICB0aGlzLnNjcmVlbkggPSBzY3JlZW5IO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuQ2VudGVyWCA9IHRoaXMuc2NyZWVuVyAqIDAuNTtcclxuICAgICAgICB0aGlzLnNjcmVlbkNlbnRlclkgPSB0aGlzLnNjcmVlbkggKiAwLjU7XHJcbiAgICAgICAgdGhpcy5oYWxmVyA9IHRoaXMuc2NyZWVuVyAqIDAuNTtcclxuICAgICAgICB0aGlzLmhhbGZIID0gdGhpcy5zY3JlZW5IICogMC41O1xyXG5cclxuICAgICAgICAvLyBjYW1lcmEgM+i7uFxyXG4gICAgICAgIHRoaXMuel9heGlzID0gVmVjdG9yLm1pbnVzKGxvb2tfYXQsIGV5ZSkubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgIC8vIOW3puaJi1xyXG4gICAgICAgIGxldCBoZWxwX3YgPSBWZWN0b3IudXA7XHJcbiAgICAgICAgdGhpcy54X2F4aXMgPSBWZWN0b3IuY3Jvc3MoaGVscF92LCB0aGlzLnpfYXhpcykubm9ybWFsaXplKCk7XHJcbiAgICAgICAgdGhpcy55X2F4aXMgPSBWZWN0b3IuY3Jvc3ModGhpcy56X2F4aXMsIHRoaXMueF9heGlzKTtcclxuXHJcbiAgICAgICAgLy8gY2FtZXJhIOWOn+m7nlxyXG4gICAgICAgIHRoaXMuZXllID0gZXllO1xyXG5cclxuICAgICAgICAvLyBjYW1lcmEgZm92XHJcbiAgICAgICAgdGhpcy5mb3ZfZGVncmVlID0gZm92X2RlZ3JlZTtcclxuXHJcbiAgICAgICAgLy8g6KaW6YyQ55qEIOi/keW5s+mdouWSjOmBoOW5s+mdolxyXG4gICAgICAgIHRoaXMuTiA9IE47XHJcbiAgICAgICAgdGhpcy5GID0gRjtcclxuXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9ncG5ub3Rlcy5ibG9nc3BvdC5jb20vMjAyMS8xMS9ibG9nLXBvc3RfMjcuaHRtbFxyXG4gICAgICAgIC8vIOaKleW9seefqemZo+WwjXrnmoTkv67mraPvvIzpgJnoo6Hkvb/nlKjlt6bmiYtcclxuICAgICAgICB0aGlzLmEgPSBGIC8gKEYgLSBOKTtcclxuICAgICAgICB0aGlzLmIgPSAtTiAqIEYgLyAoRiAtIE4pO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmVFeWUgPSBmdW5jdGlvbiAoczogbnVtYmVyLCBBOiBWZWN0b3IpIHtcclxuICAgICAgICB0aGlzLmV5ZSA9IFZlY3Rvci5hZGQodGhpcy5leWUsIEEubXVsdGlwbHkocykpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFBpdGNoKGRlZ3JlZTogbnVtYmVyKSB7XHJcbiAgICAgICAgLy8gdG9kbzog5LmY5LiKbG9jYWwgbWF0cml4XHJcbiAgICB9XHJcblxyXG4gICAgYWRkWWF3KGRlZ3JlZTogbnVtYmVyKSB7XHJcbiAgICAgICAgLy8gdG9kbzog5LmY5LiKbG9jYWwgbWF0cml4XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlX3JheV9kaXIoeF93ZWlnaHQ6IG51bWJlciwgeV93ZWlnaHQ6IG51bWJlciwgcmF0aW86IG51bWJlcikge1xyXG4gICAgICAgIGxldCBoYWxmX2Zvdl9yYWQgPSBkZWdyZWVfdG9fUmFkKDAuNSAqIHRoaXMuZm92X2RlZ3JlZSk7XHJcbiAgICAgICAgbGV0IHRhbl9oID0gTWF0aC50YW4oaGFsZl9mb3ZfcmFkKTtcclxuICAgICAgICBsZXQgdGFuX3cgPSB0YW5faCAqIHJhdGlvO1xyXG5cclxuICAgICAgICBsZXQgZGlyID0gdGhpcy56X2F4aXNcclxuICAgICAgICAgICAgLmFkZCh0aGlzLnhfYXhpcy5tdWx0aXBseSh4X3dlaWdodCAqIHRhbl93KSlcclxuICAgICAgICAgICAgLmFkZCh0aGlzLnlfYXhpcy5tdWx0aXBseSh5X3dlaWdodCAqIHRhbl9oKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBkaXI7XHJcbiAgICB9XHJcblxyXG4gICAgdG9DYW1lcmFTcGFjZShBOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgZGlmZiA9IEEubWludXModGhpcy5leWUpO1xyXG4gICAgICAgIGxldCBwb2ludF9pbl9jYW1lcmFfc3BhY2UgPSBuZXcgVmVjdG9yKFZlY3Rvci5kb3QoZGlmZiwgdGhpcy54X2F4aXMpLCBWZWN0b3IuZG90KGRpZmYsIHRoaXMueV9heGlzKSwgVmVjdG9yLmRvdChkaWZmLCB0aGlzLnpfYXhpcykpO1xyXG4gICAgICAgIHJldHVybiBwb2ludF9pbl9jYW1lcmFfc3BhY2U7XHJcbiAgICB9XHJcblxyXG4gICAgdG9Qcm9qZWN0aW9uU3BhY2UoQTogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IGZvdl9yYWQgPSBkZWdyZWVfdG9fUmFkKHRoaXMuZm92X2RlZ3JlZSk7XHJcbiAgICAgICAgbGV0IGhhbGZfZm92ID0gMC41ICogZm92X3JhZDtcclxuICAgICAgICBsZXQgeV9zY2FsZSA9IDEgLyBNYXRoLnRhbihoYWxmX2Zvdik7XHJcbiAgICAgICAgbGV0IHhfc2NhbGUgPSAxIC8gKHRoaXMucmF0aW8gKiBNYXRoLnRhbihoYWxmX2ZvdikpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihBLnggKiB4X3NjYWxlLCBBLnkgKiB5X3NjYWxlLCBBLnogKiB0aGlzLmEgKyB0aGlzLmIpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvTkRDKEE6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCBzID0gMSAvIEEuejtcclxuICAgICAgICByZXR1cm4gQS5tdWx0aXBseShzKTtcclxuICAgIH1cclxuXHJcbiAgICB0b1NjcmVlblNwYWNlKE5EQ19BOiBWZWN0b3IpIHtcclxuICAgICAgICAvLyDnlKjluqfmqJnorormj5vkvobnnIvlvoXlvp5OREPliLBTY3JlZW4gU3BhY2VcclxuICAgICAgICAvLyBOREMgeOi7uOWcqHNjcmVlbiBzcGFjZSDngroody8yLDApXHJcbiAgICAgICAgLy8gTkRDIHnou7jlnKhzY3JlZW4gc3BhY2Ug54K6KC1oLzIsMClcclxuICAgICAgICBsZXQgeCA9IHRoaXMuaGFsZlcgKiBORENfQS54ICsgdGhpcy5zY3JlZW5DZW50ZXJYO1xyXG4gICAgICAgIGxldCB5ID0gLXRoaXMuaGFsZkggKiBORENfQS55ICsgdGhpcy5zY3JlZW5DZW50ZXJZO1xyXG5cclxuICAgICAgICBsZXQgdGVtcCA9IG5ldyBWZWN0b3IoeCwgeSwgTkRDX0Eueik7XHJcbiAgICAgICAgcmV0dXJuIHRlbXA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g566X5ZyWXHJcbiAgICByZW5kZXIocmVuZGVyX3RhcmdldDogUmVuZGVyVGFyZ2V0LCBvYmpfbGlzdDogU2NlbmVOb2RlW10pIHtcclxuICAgICAgICBsZXQgZGlyZWN0aW9uX2xpZ2h0X2RpciA9IG5ldyBWZWN0b3IoMSwgLTEsIDApLm5vcm1hbGl6ZSgpO1xyXG5cclxuICAgICAgICBsZXQgaGFsZl9waXhlbF9vZmZzZXQgPSAwLjUgLyByZW5kZXJfdGFyZ2V0Lmg7XHJcbiAgICAgICAgbGV0IG11bHRpc2FtcGxlX2RpZmYgPSBbXHJcbiAgICAgICAgICAgIHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgICAgICB7IHg6IGhhbGZfcGl4ZWxfb2Zmc2V0LCB5OiBoYWxmX3BpeGVsX29mZnNldCB9LFxyXG4gICAgICAgICAgICB7IHg6IC1oYWxmX3BpeGVsX29mZnNldCwgeTogaGFsZl9waXhlbF9vZmZzZXQgfSxcclxuICAgICAgICAgICAgeyB4OiAtaGFsZl9waXhlbF9vZmZzZXQsIHk6IC1oYWxmX3BpeGVsX29mZnNldCB9LFxyXG4gICAgICAgICAgICB7IHg6IGhhbGZfcGl4ZWxfb2Zmc2V0LCB5OiAtaGFsZl9waXhlbF9vZmZzZXQgfSxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICByZW5kZXJfdGFyZ2V0LnJlbmRlcl9waXhlbCgoeF93ZWlnaHQ6IG51bWJlciwgeV93ZWlnaHQ6IG51bWJlciwgcmF0aW86IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcmF5X2RpciA9IHRoaXMuY3JlYXRlX3JheV9kaXIoeF93ZWlnaHQsIHlfd2VpZ2h0LCByYXRpbyk7XHJcblxyXG4gICAgICAgICAgICAvLyDnlKLnlJ/lpJrmop1yYXlcclxuICAgICAgICAgICAgbGV0IHJheXMgPSBtdWx0aXNhbXBsZV9kaWZmLm1hcChkaWZmID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIOWwjXJheV9kcmnkvZzlgY/np7tcclxuICAgICAgICAgICAgICAgIGxldCBkaXIgPSByYXlfZGlyLmFkZCh0aGlzLnhfYXhpcy5tdWx0aXBseShkaWZmLngpKS5hZGQodGhpcy55X2F4aXMubXVsdGlwbHkoZGlmZi55KSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDpm5bnhLblkoznkIPjgIHlubPpnaLnmoRoaXToqIjnrpfkuI3pnIDopoFkaXLkvZxub3JtYWxpemXvvIzkvYbngrrkuobmlrnkvr/lj43lsITnmoToqIjnrpfpgoTmmK/kvZxub3JtYWxpemVcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmF5KHRoaXMuZXllLCBkaXIubm9ybWFsaXplKCkpXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g5q+P5YCLcmF56YO9566XY29sb3JcclxuICAgICAgICAgICAgbGV0IGNvbG9ycyA9IHJheXMubWFwKHJheSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGl0X3NvcnRfbGlzdCA9IGdldF9oaXRfc29ydF9saXN0KG9ial9saXN0LCByYXkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOacieWwhOS4reWXjlxyXG4gICAgICAgICAgICAgICAgbGV0IGlzX2hpdCA9IGhpdF9zb3J0X2xpc3QubGVuZ3RoICE9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNfaGl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdF9pbmZvID0gaGl0X3NvcnRfbGlzdFswXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGl0X2luZm8ucy5zaGFkaW5nKGhpdF9pbmZvLCBkaXJlY3Rpb25fbGlnaHRfZGlyLCBvYmpfbGlzdCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBEaWZmdXNlLmdyYXkuY29sb3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g5Y+W5bmz5Z2H5bCx5pyJQW50aWFsaWFzaW5n5pWI5p6cXHJcbiAgICAgICAgICAgIGxldCBjb3VudCA9IG11bHRpc2FtcGxlX2RpZmYubGVuZ3RoO1xyXG4gICAgICAgICAgICBsZXQgZmluYWxfY29sb3IgPSBjb2xvcnMucmVkdWNlKChhY2N1bXVsYXRvcjogVmVjdG9yLCBjdXJyZW50OiBWZWN0b3IpID0+IGFjY3VtdWxhdG9yLmFkZChjdXJyZW50KSwgVmVjdG9yLnplcm8pLm11bHRpcGx5KDEgLyBjb3VudCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmaW5hbF9jb2xvcjtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiLy8gaW1wb3J0IEFwcCBmcm9tICcuL0FwcCc7XHJcbi8vIG5ldyBBcHAoKTtcclxuXHJcbmltcG9ydCBSYXN0ZXJpemVyQXBwIGZyb20gJy4vUmFzdGVyaXplckFwcCc7XHJcbm5ldyBSYXN0ZXJpemVyQXBwKCk7IiwiaW1wb3J0IEJveCBmcm9tIFwiLi9NYXRoL0JveDNEXCI7XHJcbmltcG9ydCBDYW1lcmEgZnJvbSBcIi4vTWF0aC9DYW1lcmFcIjtcclxuaW1wb3J0IFRyYW5zZm9ybSBmcm9tIFwiLi9NYXRoL1RyYW5zZm9ybVwiO1xyXG5pbXBvcnQgVmVjdG9yIGZyb20gXCIuL01hdGgvVmVjdG9yXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYXN0ZXJpemVyQXBwIHtcclxuXHJcbiAgICBjYW1lcmFJbmRleF92aWV3ID0gMTtcclxuICAgIGNhbWVyYUluZGV4X2NvbnRyb2wgPSAwO1xyXG4gICAgY2FtZXJhOiBDYW1lcmEgPSBudWxsO1xyXG4gICAgdGhhbmRsZTogbnVtYmVyO1xyXG5cclxuICAgIHNjcmVlbldpZHRoID0gODAwO1xyXG4gICAgc2NyZWVuSGVpZ2h0ID0gNjAwO1xyXG4gICAgYm94OiBCb3ggPSBudWxsO1xyXG5cclxuICAgIGxhc3RfdDogbnVtYmVyO1xyXG4gICAgc3VtX3Q6IG51bWJlcjtcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB3aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IHRoaXMua2V5UHJvYy5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSB0aGlzLnNjcmVlbldpZHRoICsgJ3B4JztcclxuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy5zY3JlZW5IZWlnaHQgKyAncHgnO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcclxuICAgICAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICB0aGlzLmJveCA9IG5ldyBCb3goKTtcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEobmV3IFZlY3RvcigwLCA1MCwgLTIwMCksIG5ldyBWZWN0b3IoMCwgMCwgMCksIDYwLCB0aGlzLnNjcmVlbldpZHRoLCB0aGlzLnNjcmVlbkhlaWdodCwgMSwgNTAwKTtcclxuICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5zdW1fdCA9IDA7XHJcbiAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHRoaXMubGFzdF90ID0gZC5nZXRUaW1lKCk7XHJcbiAgICAgICAgdGhpcy50aGFuZGxlID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHsgdGhpcy5kcmF3U2NlbmUoKTsgfSwgMTYpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICBsZXQgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sYXN0X3QgPSBkLmdldFRpbWUoKTtcclxuICAgICAgICB0aGlzLnRoYW5kbGUgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4geyB0aGlzLmRyYXdTY2VuZSgpOyB9LCAxNik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRoYW5kbGUpO1xyXG4gICAgICAgIHRoaXMudGhhbmRsZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd1NjZW5lKCkge1xyXG4gICAgICAgIGxldCBkID0gbmV3IERhdGUoKTtcclxuICAgICAgICBsZXQgdCA9IGQuZ2V0VGltZSgpO1xyXG4gICAgICAgIGxldCBkaWZmID0gdCAtIHRoaXMubGFzdF90O1xyXG4gICAgICAgIHRoaXMubGFzdF90ID0gdDtcclxuICAgICAgICB0aGlzLnN1bV90ID0gdGhpcy5zdW1fdCArIGRpZmY7XHJcblxyXG4gICAgICAgIC8vIOa4heepulxyXG4gICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnNjcmVlbldpZHRoLCB0aGlzLnNjcmVlbkhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gXCJyZ2JhKDE4MCwzMCwxNSwwLjEpXCI7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5zY3JlZW5XaWR0aCwgdGhpcy5zY3JlZW5IZWlnaHQpO1xyXG5cclxuICAgICAgICAvL+eVq+eri+aWuemrlFxyXG4gICAgICAgIHZhciBvZmZzZXRNYXRyaXggPSBUcmFuc2Zvcm0ub2Zmc2V0KDAsIDAsIDApO1xyXG4gICAgICAgIHZhciBub3dEZWdyZWUgPSB0aGlzLnN1bV90IC8gMTAwMCAqIDE1ICUgMzYwO1xyXG4gICAgICAgIC8vIHZhciBub3dEZWdyZWUgPSAwO1xyXG5cclxuICAgICAgICB2YXIgcm90YXRlTWF0cml4ID0gVHJhbnNmb3JtLnJvdGF0ZUJ5WShub3dEZWdyZWUpO1xyXG4gICAgICAgIHZhciBjb21iaW5lTWF0cml4ID0gVHJhbnNmb3JtLnRyYW5zZm9ybVRyYW5zZm9ybShvZmZzZXRNYXRyaXgsIHJvdGF0ZU1hdHJpeCk7XHJcbiAgICAgICAgdGhpcy5ib3gudXBkYXRlKHRoaXMuY2FtZXJhLCBjb21iaW5lTWF0cml4KTtcclxuICAgICAgICB0aGlzLmJveC5kcmF3KHRoaXMuY3R4KTtcclxuXHJcbiAgICAgICAgdmFyIG9mZnNldE1hdHJpeCA9IFRyYW5zZm9ybS5vZmZzZXQoMTUwLCAwLCAwKTtcclxuICAgICAgICB2YXIgcm90YXRlTWF0cml4ID0gVHJhbnNmb3JtLnJvdGF0ZUJ5WShub3dEZWdyZWUpO1xyXG4gICAgICAgIGNvbWJpbmVNYXRyaXggPSBUcmFuc2Zvcm0udHJhbnNmb3JtVHJhbnNmb3JtKHJvdGF0ZU1hdHJpeCwgb2Zmc2V0TWF0cml4KTtcclxuICAgICAgICB0aGlzLmJveC51cGRhdGUodGhpcy5jYW1lcmEsIGNvbWJpbmVNYXRyaXgpO1xyXG4gICAgICAgIHRoaXMuYm94LmRyYXcodGhpcy5jdHgpO1xyXG4gICAgfVxyXG5cclxuICAgIGtleVByb2MoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgICAgICBsZXQgS2VwTWFwID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHc6IDg3LFxyXG4gICAgICAgICAgICByOiA4MixcclxuXHJcbiAgICAgICAgICAgIGU6IDY5LFxyXG4gICAgICAgICAgICBkOiA2OCxcclxuICAgICAgICAgICAgczogODMsXHJcbiAgICAgICAgICAgIGY6IDcwLFxyXG5cclxuICAgICAgICAgICAgYV91cDogMzgsXHJcbiAgICAgICAgICAgIGFfZG93bjogNDAsXHJcbiAgICAgICAgICAgIGFfbGVmdDogMzcsXHJcbiAgICAgICAgICAgIGFfcmlnaHQ6IDM5XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIG1vdmVTID0gMTtcclxuICAgICAgICB2YXIgcm90YXRlUyA9IDAuMTtcclxuICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAudzpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLm1vdmVFeWUobW92ZVMsIHRoaXMuY2FtZXJhLnpfYXhpcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAucjpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLm1vdmVFeWUoLW1vdmVTLCB0aGlzLmNhbWVyYS56X2F4aXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5lOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEubW92ZUV5ZShtb3ZlUywgdGhpcy5jYW1lcmEueV9heGlzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5kOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEubW92ZUV5ZSgtbW92ZVMsIHRoaXMuY2FtZXJhLnlfYXhpcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAuczpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLm1vdmVFeWUoLW1vdmVTLCB0aGlzLmNhbWVyYS54X2F4aXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLmY6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5tb3ZlRXllKG1vdmVTLCB0aGlzLmNhbWVyYS54X2F4aXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5hX3VwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEuYWRkUGl0Y2gocm90YXRlUyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAuYV9kb3duOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEuYWRkUGl0Y2goLXJvdGF0ZVMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5hX2xlZnQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5hZGRZYXcoLXJvdGF0ZVMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLmFfcmlnaHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5hZGRZYXcocm90YXRlUyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOlsiZnJvbSIsImRpciIsInRoaXMiLCJkZWdyZWVfdG9fUmFkIiwiZCIsIk1hdGgiLCJQSSIsIm51bWJlcl9lcXVhbCIsImEiLCJiIiwiYWJzIiwiZ2V0X2hpdF9zb3J0X2xpc3QiLCJvYmpfbGlzdCIsInJheSIsIm1hcCIsIm9iaiIsImgiLCJoaXQiLCJzIiwiZmlsdGVyIiwiaW5mbyIsImlzX2hpdCIsInNvcnQiLCJ0IiwibGVycCIsInB4IiwicHkiLCJweiIsIngiLCJ5IiwieiIsImNhbGN1bGF0ZV9ub3JtYWwiLCJ2MCIsInYxIiwidjIiLCJ2MDEiLCJWZWN0b3IiLCJtaW51cyIsInYwMiIsImNyb3NzIiwibm9ybWFsaXplIiwiY2FsY3VsYXRlX2NlbnRlciIsImFkZCIsIm11bHRpcGx5IiwidXYiLCJ1IiwidiIsInJlZmxlY3QiLCJJIiwiTiIsIkwiLCJkb3QiLCJBIiwiQiIsIm11bHRpcGx5MyIsImVxdWFsIiwibGVuZ3RoIiwic3FydCIsInRlbXAiLCJuZWdhdGl2ZSIsImNsb25lIiwidXAiLCJ6ZXJvIiwicCIsIm4iLCJ3IiwiYnVpbGRfdmVydGV4IiwiVmVydGV4IiwidXBkYXRlX3AiLCJ1cGRhdGVfdyIsInhBeGlzIiwieUF4aXMiLCJ6QXhpcyIsInBvc2l0aW9uIiwidHJhbnNmb3JtUG9pbnQiLCJ0cmFuc2Zvcm0iLCJwb2ludCIsInZlY3RvclgiLCJ2ZWN0b3JZIiwidmVjdG9yWiIsInRyYW5zZm9ybVZlY3RvciIsInZlcnRleCIsInRyYW5zZm9ybVRyYW5zZm9ybSIsImlucHV0VHJhbnNmb3JtIiwiVHJhbnNmb3JtIiwicm90YXRlQnlaIiwiZGVncmVlIiwicmFkaWFuIiwiYyIsImNvcyIsInNpbiIsInJvdGF0ZUJ5WSIsInJvdGF0ZUJ5WCIsIm9mZnNldCIsInB2MCIsInB2MSIsInB2MiIsIk1WUF9iYWNrZmFjZV9jdWxsaW5nX2NsaXBwaW5nIiwidHJpYW5nbGUiLCJwY2FtZXJhIiwid29ybGRUcmFuc2Zvcm0iLCJ2MF93IiwidjFfdyIsInYyX3ciLCJ2MF9jIiwidG9DYW1lcmFTcGFjZSIsInYxX2MiLCJ2Ml9jIiwidjBfcCIsInRvUHJvamVjdGlvblNwYWNlIiwidjFfcCIsInYyX3AiLCJub3JtYWwiLCJjZW50ZXJfdG9fZXllIiwiVHJpYW5nbGUiLCJjbGlwX2luX1Byb2plY3Rpb25fU3BhY2UiLCJjbGlwX2luX05EQyIsInByb2Nlc3MiLCJUIiwidjBfbmRjIiwidG9OREMiLCJ2MV9uZGMiLCJ2Ml9uZGMiLCJwYXJ0IiwidG9TY3JlZW5TcGFjZSIsInZfcyIsImRyYXciLCJjdHgiLCJ0Q291bnQiLCJpbmRleCIsIm1vdmVUbyIsImxpbmVUbyIsInRyaWFuZ2xlcyIsInB1c2giLCJtIiwiaSIsInJvdGF0ZU1hdHJpeCIsIm4yIiwidXBkYXRlIiwiY2FtZXJhIiwidHJpYW5nbGVzX2FmdGVyX2NsaXAiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJzdHJva2VTdHlsZSIsImJlZ2luUGF0aCIsInN0cm9rZSIsImNvbG9yIiwic2hhZGluZyIsImhpdF9pbmZvIiwiZGlyZWN0aW9uX2xpZ2h0X2RpciIsImRlcHRoIiwic3RyZW5ndGgiLCJzaGFkb3dfd2VpZ2h0IiwiaGl0X3BvcyIsImdldF9zaGFkb3dfd2VpZ2h0IiwieWVsbG93IiwiRGlmZnVzZSIsInJlZCIsImdyZWVuIiwiYmx1ZSIsImdyYXkiLCJ3aGl0ZSIsImV5ZSIsImxvb2tfYXQiLCJmb3ZfZGVncmVlIiwic2NyZWVuVyIsInNjcmVlbkgiLCJGIiwibW92ZUV5ZSIsInJhdGlvIiwic2NyZWVuQ2VudGVyWCIsInNjcmVlbkNlbnRlclkiLCJoYWxmVyIsImhhbGZIIiwiel9heGlzIiwiaGVscF92IiwieF9heGlzIiwieV9heGlzIiwiYWRkUGl0Y2giLCJhZGRZYXciLCJjcmVhdGVfcmF5X2RpciIsInhfd2VpZ2h0IiwieV93ZWlnaHQiLCJoYWxmX2Zvdl9yYWQiLCJ0YW5faCIsInRhbiIsInRhbl93IiwiZGlmZiIsImhhbGZfZm92IiwieV9zY2FsZSIsInhfc2NhbGUiLCJORENfQSIsInJlbmRlciIsInJlbmRlcl90YXJnZXQiLCJoYWxmX3BpeGVsX29mZnNldCIsIm11bHRpc2FtcGxlX2RpZmYiLCJyZW5kZXJfcGl4ZWwiLCJyYXlfZGlyIiwiY29sb3JzIiwiaGl0X3NvcnRfbGlzdCIsImNvdW50IiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJjdXJyZW50IiwiY2FtZXJhSW5kZXhfdmlldyIsImNhbWVyYUluZGV4X2NvbnRyb2wiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsImJveCIsIndpbmRvdyIsIm9ubG9hZCIsImluaXQiLCJkb2N1bWVudCIsIm9ua2V5ZG93biIsImtleVByb2MiLCJiaW5kIiwiY2FudmFzIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZXRDb250ZXh0Iiwic3RhcnQiLCJzdG9wIiwic3VtX3QiLCJEYXRlIiwibGFzdF90IiwiZ2V0VGltZSIsInRoYW5kbGUiLCJzZXRJbnRlcnZhbCIsImRyYXdTY2VuZSIsInJlc3VtZSIsImNsZWFySW50ZXJ2YWwiLCJjbGVhclJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIm9mZnNldE1hdHJpeCIsIm5vd0RlZ3JlZSIsImNvbWJpbmVNYXRyaXgiLCJldmVudCIsImtleUNvZGUiXSwic291cmNlUm9vdCI6IiJ9