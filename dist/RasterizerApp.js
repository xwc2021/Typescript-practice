(()=>{"use strict";const t=function(t,e){this.from=t,this.dir=e},e=function(){function t(t,e,n){this.x=0,this.y=0,this.z=0,this.x=t,this.y=e,this.z=n}return t.min_max=function(e,n,i){return{min:new t(Math.min(Math.min(e.x,n.x),i.x),Math.min(Math.min(e.y,n.y),i.y),Math.min(Math.min(e.z,n.z),i.z)),max:new t(Math.max(Math.max(e.x,n.x),i.x),Math.max(Math.max(e.y,n.y),i.y),Math.max(Math.max(e.z,n.z),i.z))}},t.calculate_normal=function(e,n,i){var r=t.minus(n,e),o=t.minus(i,e);return t.cross(r,o).normalize()},t.calculate_center=function(t,e,n){return t.add(e).add(n).multiply(1/3)},t.uv=function(e,n){return new t(e,n,0)},t.reflect=function(e,n){var i=-2*t.dot(e,n);return n.multiply(i).add(e)},t.add=function(e,n){return new t(n.x+e.x,n.y+e.y,n.z+e.z)},t.minus=function(e,n){return new t(e.x-n.x,e.y-n.y,e.z-n.z)},t.multiply=function(e,n){return new t(e.x*n,e.y*n,e.z*n)},t.multiply3=function(e,n){return new t(e.x*n.x,e.y*n.y,e.z*n.z)},t.cross=function(e,n){return new t(e.y*n.z-e.z*n.y,-e.x*n.z+e.z*n.x,e.x*n.y-e.y*n.x)},t.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},t.equal=function(t,e){return f(t.x,e.x)&&f(t.y,e.y)&&f(t.z,e.z)},t.lerp=function(e,n,i){return new t(w(e.x,n.x,i),w(e.y,n.y,i),w(e.z,n.z,i))},t.prototype.clamp_x=function(t,e){return this.x=p(this.x,t,e),this},t.prototype.clamp_y=function(t,e){return this.y=p(this.y,t,e),this},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.normalize=function(){var t=this.length();return this.x=this.x/t,this.y=this.y/t,this.z=this.z/t,this},t.prototype.add=function(e){return t.add(this,e)},t.prototype.minus=function(e){return t.minus(this,e)},t.prototype.multiply=function(e){return t.multiply(this,e)},t.prototype.negative=function(){return t.multiply(this,-1)},t.prototype.Vector2D=function(){return this.z=0,this},t.prototype.clone=function(){return new t(this.x,this.y,this.z)},t.up=new t(0,1,0),t.zero=new t(0,0,0),t}(),n=function(t,e){this.p=t,this.w=e},i=function(){function t(t,i){this.from=t,this.dir=new n(e.minus(i.p,t.p),i.w-t.w)}return t.prototype.t_when_x_equal_w=function(){return(this.from.w-this.from.p.x)/(this.dir.p.x-this.dir.w)},t.prototype.t_when_y_equal_w=function(){return(this.from.w-this.from.p.y)/(this.dir.p.y-this.dir.w)},t.prototype.t_when_z_equal_w=function(){return(this.from.w-this.from.p.z)/(this.dir.p.z-this.dir.w)},t.prototype.t_when_x_equal_minus_w=function(){return-(this.from.w+this.from.p.x)/(this.dir.w+this.dir.p.x)},t.prototype.t_when_y_equal_minus_w=function(){return-(this.from.w+this.from.p.y)/(this.dir.w+this.dir.p.y)},t.prototype.t_when_z_equal_zero_w=function(){return-this.from.p.z/this.dir.p.z},t}(),r=function(){function t(t,e){this.C=t,this.N=e}return t.prototype.is_positive=function(t){var n=e.minus(t,this.C);return e.dot(n,this.N)>0},t.prototype.hit=function(e,n){var i=t.hit(e,this);return i.is_hit&&(i.s=n),i},t.hit=function(t,n){var i=t.from,r=t.dir,o=e.dot(r,n.N),s=e.dot(e.minus(n.C,i),n.N);if(f(o,0))return{is_hit:!1,hit_pos:null,t:-1};var a=s/o;return{is_hit:a>0,hit_pos:i.add(r.multiply(a)),i:r,t:a,normal:n.N}},t}(),o=function(){function t(t,e,n,i){this.xAxis=t,this.yAxis=e,this.zAxis=n,this.position=i}return t.transformPoint=function(t,e){var n=t.xAxis.multiply(e.x),i=t.yAxis.multiply(e.y),r=t.zAxis.multiply(e.z);return t.position.add(n).add(i).add(r)},t.transformVector=function(t,e){var n=t.xAxis.multiply(e.x),i=t.yAxis.multiply(e.y),r=t.zAxis.multiply(e.z);return n.add(i).add(r)},t.transformTransform=function(e,n){return new t(t.transformVector(e,n.xAxis),t.transformVector(e,n.yAxis),t.transformVector(e,n.zAxis),t.transformPoint(e,n.position))},t.rotateByZ=function(n){var i=c(n),r=Math.cos(i),o=Math.sin(i);return new t(new e(r,o,0),new e(-o,r,0),new e(0,0,1),e.zero)},t.rotateByY=function(n){var i=c(n),r=Math.cos(i),o=Math.sin(i),s=new e(o,0,r);return new t(new e(r,0,-o),new e(0,1,0),s,e.zero)},t.rotateByX=function(n){var i=c(n),r=Math.cos(i),o=Math.sin(i);return new t(new e(1,0,0),new e(0,r,o),new e(0,-o,r),new e(0,0,0))},t.offset=function(n,i,r){return new t(new e(1,0,0),new e(0,1,0),new e(0,0,1),new e(n,i,r))},t}(),s=function(){function t(e,n,i,r){this.add=function(e){return new t(this.r+e.r,this.g+e.g,this.b+e.b,1)},this.r=e,this.g=n,this.b=i,this.a=r}return t.lerp=function(e,n,i){return new t(w(e.r,n.r,i),w(e.g,n.g,i),w(e.b,n.b,i),1)},t.prototype.multiply=function(e){return new t(this.r*e,this.g*e,this.b*e,1)},t.prototype.toString=function(){return"( "+this.r+" , "+this.g+" , "+this.b+" )"},t.debug=new t(1,0,1,1),t.golden=new t(1,215/255,0,1),t.yellow=new t(1,1,0,1),t.pink=new t(1,192/255,203/255,1),t.black=new t(0,0,0,1),t.red=new t(1,0,0,1),t}(),a=function(){function t(e,n){this.multiply=function(e){return new t(this.x*e,this.y*e)},this.toString=function(){return"( "+this.x+" , "+this.y+" )"},this.x=e,this.y=n}return t.add=function(e,n){return new t(n.x+e.x,n.y+e.y)},t.minus=function(e,n){return new t(e.x-n.x,e.y-n.y)},t.prototype.plus=function(e){return new t(this.x+e.x,this.y+e.y)},t}(),h=function(){function t(){}return t.clear=function(e,n){t.color_buffer.clear(e),t.z_buffer.clear(n)},t.show=function(e){e.set_pixel((function(e,n){return t.color_buffer.get(e,n)})),e.show_buffer("canvas")},t.clip_helper=function(t,e,n,i,r){for(var o=[],s=0,a=t;s<a.length;s++)for(var h=0,u=y(a[s],e,n,i,r);h<u.length;h++){var c=u[h];o.push(c)}return o},t.clip_in_Projection_Space=function(e,n,i,r){var o=[new u(e,n,i)],s=t.clip_helper(o,(function(t){return t.v0.w<t.v0.p.z}),(function(t){return t.v1.w<t.v1.p.z}),(function(t){return t.v2.w<t.v2.p.z}),l.Far);return t.clip_helper(s,(function(t){return 0>t.v0.p.z}),(function(t){return 0>t.v1.p.z}),(function(t){return 0>t.v2.p.z}),l.Near)},t.MVP_backface_culling_clipping=function(n,i,r){var s=o.transformPoint(r,n.v0.p),a=o.transformPoint(r,n.v1.p),h=o.transformPoint(r,n.v2.p),u=i.toCameraSpace(s),c=i.toCameraSpace(a),l=i.toCameraSpace(h),f=i.toProjectionSpace(u),p=i.toProjectionSpace(c),_=i.toProjectionSpace(l),w=e.calculate_normal(u,c,l),y=e.minus(e.zero,e.calculate_center(u,c,l)).normalize();if(e.dot(w,y)<=0)return[];var m=n.v0.clone().update_p(f).update_w(u.z),x=n.v1.clone().update_p(p).update_w(c.z),d=n.v2.clone().update_p(_).update_w(l.z);return t.clip_in_Projection_Space(m,x,d,i)},t.process=function(n,i,r,o,h,c){for(var l=[],f=0,p=t.MVP_backface_culling_clipping(n,i,r);f<p.length;f++){var _=p[f],w=i.toNDC(_.v0.p,_.v0.w),y=i.toNDC(_.v1.p,_.v1.w),m=i.toNDC(_.v2.p,_.v2.w);c&&(w.clamp_x(-1,1).clamp_y(-1,1),y.clamp_x(-1,1).clamp_y(-1,1),m.clamp_x(-1,1).clamp_y(-1,1));var x=i.toScreenSpace(w),d=i.toScreenSpace(y),v=i.toScreenSpace(m);l.push(x),l.push(d),l.push(v);var g=e.min_max(x,d,v),b=g.min,z=g.max,M=Math.floor(b.x),S=Math.floor(z.x),k=Math.floor(b.y),N=Math.floor(z.y);M=Math.max(0,M),k=Math.max(0,k),S=Math.min(this.color_buffer.w-1,S),N=Math.min(this.color_buffer.h-1,N);for(var P=M;P<=S;++P)for(var W=k;W<=N;++W){var B=new e(P+.5,W+.5,0),C=u["calculate_α_β_γ"](x,d,v,B),E=C.success,I=C.α,A=C.β,D=C.γ;if(E&&u.is_in_triangle(I,A,D)){var q=u.interpolation(D,I,A,w.z,y.z,m.z);if(!(q>t.z_buffer.get(P,W))){t.z_buffer.set(P,W,q);var H=1/u.interpolation(D,I,A,1/_.v0.w,1/_.v1.w,1/_.v2.w),V=u.interpolation(D,I,A,_.v0.u/_.v0.w,_.v1.u/_.v1.w,_.v2.u/_.v2.w)*H,T=u.interpolation(D,I,A,_.v0.v/_.v0.w,_.v1.v/_.v1.w,_.v2.v/_.v2.w)*H,L=o.get(new a(V,T)).color;h?t.color_buffer.set(P,W,s.yellow):t.color_buffer.set(P,W,L)}}}}return l},t}(),u=function(){function n(t,e,n){this.v0=t,this.v1=e,this.v2=n}return n.calculate_α_β_γ=function(n,i,o,s){var a=e.minus(s,n),h=e.minus(i,n),u=e.minus(o,n),c=new e(-h.y,h.x,0),l=new t(s,u.multiply(-1)),f=r.hit(l,new r(n,c)).hit_pos;if(null==f)return console.log("平行",n,i,o,s),{success:!1,α:1,β:0,γ:0};var p=e.minus(f,n),_=e.minus(a,p),w=0==h.x?p.y/h.y:p.x/h.x,y=0==u.x?_.y/u.y:_.x/u.x;return isNaN(w)&&console.log(p.x,h.x),isNaN(y)&&console.log(_.x,u.x),{success:!0,α:w,β:y,γ:1-w-y}},n.is_in_triangle=function(t,e,n){return t>=0&&e>=0&&n>=0},n.interpolation=function(t,e,n,i,r,o){return i*t+r*e+o*n},n.prototype.rasterize=function(t,e,n,i,r){this.v_s=h.process(this,t,e,n,i,r)},n.prototype.draw=function(t){if(null!=this.v_s)for(var e=this.v_s.length/3,n=1;n<=e;++n){var i=3*n-1;t.moveTo(this.v_s[i].x,this.v_s[i].y),t.lineTo(this.v_s[i-2].x,this.v_s[i-2].y),t.lineTo(this.v_s[i-1].x,this.v_s[i-1].y),t.lineTo(this.v_s[i].x,this.v_s[i].y)}},n}();function c(t){return Math.PI*t/180}var l;function f(t,e){return Math.abs(t-e)<.001}function p(t,e,n){return t>n?n:t<e?e:t}function _(t,e){return t.map((function(t){return t.h.hit(e,t.s)})).filter((function(t){return t.is_hit})).sort((function(t,e){return t.t-e.t}))}function w(t,e,n){return t+n*(e-t)}function y(t,e,n,r,o){var s=[],a=function(t,e){var n=new i(t.get_Vector4D(),e.get_Vector4D()),r=0;switch(o){case l.Far:r=n.t_when_z_equal_w();break;case l.Near:r=n.t_when_z_equal_zero_w();break;case l.Right:r=n.t_when_x_equal_w();break;case l.Left:r=n.t_when_x_equal_minus_w();break;case l.Top:r=n.t_when_y_equal_w();break;case l.Bottom:r=n.t_when_y_equal_minus_w()}return m.lerp(t,e,r)},h=function(t,e,n){s[0]=new u(t,a(t,e),a(t,n))},c=function(t,e,n){var i=a(n,t),r=a(t,e);s[0]=new u(n,i,r),s[1]=new u(n,r,e)};return e(t)?n(t)?r(t)||h(t.v2,t.v0,t.v1):r(t)?h(t.v1,t.v2,t.v0):c(t.v0,t.v1,t.v2):n(t)?r(t)?h(t.v0,t.v1,t.v2):c(t.v1,t.v2,t.v0):r(t)?c(t.v2,t.v0,t.v1):s[0]=t,s}!function(t){t[t.Near=0]="Near",t[t.Far=1]="Far",t[t.Right=2]="Right",t[t.Left=3]="Left",t[t.Top=4]="Top",t[t.Bottom=5]="Bottom"}(l||(l={})),function(){function t(){}t.accDiv=function(t,e){var n=0,i=0;try{n=t.toString().split(".")[1].length}catch(t){}try{i=e.toString().split(".")[1].length}catch(t){}return Number(t.toString().replace(".",""))/Number(e.toString().replace(".",""))*Math.pow(10,i-n)},t.accAdd=function(t,e){var n,i,r,o;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}if(o=Math.abs(n-i),r=Math.pow(10,Math.max(n,i)),o>0){var s=Math.pow(10,o);n>i?(t=Number(t.toString().replace(".","")),e=Number(e.toString().replace(".",""))*s):(t=Number(t.toString().replace(".",""))*s,e=Number(e.toString().replace(".","")))}else t=Number(t.toString().replace(".","")),e=Number(e.toString().replace(".",""));return(t+e)/r}}(),function(){function t(){}t.drawLine=function(t,e,n,i){var r=t,o=e,s=a.minus(o,r),h=100;if(0!=s.y)if(0!=s.x){var u=s.x/s.y,c=Math.abs(u);if(u>0){if(c<=1)for(p=1;p<h;p++){r.y=r.y+1,r.x=r.x+c;var l=Math.floor(r.x);if(!i.is_legal_index(l,r.y))break;if(i.is_over_positive(r.x,r.y,o.x,o.y))break;i.set(l,r.y,n)}else if(c>1)for(p=1;p<h;p++){r.y=r.y+1/c,r.x=r.x+1;var f=Math.floor(r.y);if(!i.is_legal_index(r.x,f))break;if(i.is_over_positive(r.x,r.y,o.x,o.y))break;i.set(r.x,f,n)}}else if(u<0)if(c<=1)for(p=1;p<h&&(r.y=r.y+1,r.x=r.x-c,l=Math.floor(r.x),i.is_legal_index(l,r.y))&&!i.is_over_negative(r.x,r.y,o.x,o.y);p++)i.set(l,r.y,n);else if(c>1)for(p=1;p<h&&(r.y=r.y+1/c,r.x=r.x-1,f=Math.floor(r.y),i.is_legal_index(r.x,f))&&!i.is_over_negative(r.x,r.y,o.x,o.y);p++)i.set(r.x,f,n)}else for(var p=1;p<h&&(r.y=r.y+1,i.is_legal_index(r.x,r.y))&&!(r.y>o.y);p++)i.set(r.x,r.y,n);else for(p=1;p<h&&(r.x=r.x+1,i.is_legal_index(r.x,r.y))&&!(r.x>o.x);p++)i.set(r.x,r.y,n)},t.drawCircle=function(e,n){for(var i=2*Math.PI/50,r=new a(10,10),o=-Math.PI/3,s=0;s<50;s++){var h=Math.floor(r.x+9*Math.cos(o+i*s)),u=Math.floor(r.y+9*Math.sin(o+i*s)),c=Math.floor(r.x+9*Math.cos(o+i*(s+1))),l=Math.floor(r.y+9*Math.sin(o+i*(s+1)));t.drawLineWrapper(new a(h,u),new a(c,l),e,n)}},t.drawStar=function(e,n){for(var i=2*Math.PI/5,r=new a(10,10),o=-Math.PI/3,s=0,h=0;h<5;h++){var u=Math.floor(r.x+9*Math.cos(o+i*s)),c=Math.floor(r.y+9*Math.sin(o+i*s)),l=Math.floor(r.x+9*Math.cos(o+i*(s+2))),f=Math.floor(r.y+9*Math.sin(o+i*(s+2)));t.drawLineWrapper(new a(u,c),new a(l,f),e,n),s+=2}},t.drawLineWrapper=function(e,n,i,r){e.y<n.y?t.drawLine(e,n,i,r):n.y<e.y?t.drawLine(n,e,i,r):e.x<n.x?t.drawLine(e,n,i,r):n.x<e.x&&t.drawLine(n,e,i,r)}}();const m=function(){function t(t,e,n,i,r){this.p=t,this.n=e,this.w=n,this.u=i,this.v=r}return t.build_vertex=function(e,n,i,r,o){return new t(e,n,i,r,o)},t.lerp=function(n,i,r){return new t(e.lerp(n.p,i.p,r),e.lerp(n.n,i.n,r),w(n.w,i.w,r),w(n.u,i.u,r),w(n.v,i.v,r))},t.prototype.clone=function(){return new t(this.p.clone(),this.n.clone(),this.w,this.u,this.v)},t.prototype.update_p=function(t){return this.p=t,this},t.prototype.update_w=function(t){return this.w=t,this},t.prototype.get_Vector4D=function(){return new n(this.p,this.w)},t}(),x=function(){function t(){this.triangles=[];var t=new e(0,0,-1);this.triangles.push(new u(new m(new e(-10,-10,-10),t,1,0,0),new m(new e(10,10,-10),t,1,1,1),new m(new e(10,-10,-10),t,1,1,0))),this.triangles.push(new u(new m(new e(-10,-10,-10),t,1,0,0),new m(new e(-10,10,-10),t,1,0,1),new m(new e(10,10,-10),t,1,1,1)));for(var n=[o.rotateByY(90),o.rotateByY(180),o.rotateByY(270),o.rotateByX(90),o.rotateByX(-90)],i=0;i<n.length;++i){var r=n[i],s=o.transformPoint(r,t);this.triangles.push(new u(m.build_vertex(o.transformPoint(r,new e(-10,-10,-10)),s,1,0,0),m.build_vertex(o.transformPoint(r,new e(10,10,-10)),s,1,1,1),m.build_vertex(o.transformPoint(r,new e(10,-10,-10)),s,1,1,0))),this.triangles.push(new u(m.build_vertex(o.transformPoint(r,new e(-10,-10,-10)),s,1,0,0),m.build_vertex(o.transformPoint(r,new e(-10,10,-10)),s,1,0,1),m.build_vertex(o.transformPoint(r,new e(10,10,-10)),s,1,1,1)))}}return t.prototype.rasterize=function(t,e,n,i,r){this.triangles_after_clip=this.triangles;for(var o=0;o<this.triangles_after_clip.length;++o)this.triangles_after_clip[o].rasterize(t,e,n,i,r)},t.prototype.draw_line=function(t){t.globalCompositeOperation="destination-over",t.strokeStyle="rgba(255,0,0,1)",t.beginPath();for(var e=0;e<this.triangles_after_clip.length;++e)this.triangles_after_clip[e].draw(t);t.stroke()},t}(),d=function(){function n(t){this.color=t}return n.prototype.shading=function(n,i,r,o){var s=n.normal,a=p(-e.dot(i,s),0,1),h=function(e,n,i){var r=n.negative(),o=e.hit_pos.add(r.multiply(.001));return 0!=_(i,new t(o,r)).length?.45:1}(n,i,r);return this.color.multiply(a).multiply(h)},n.yellow=new n(new e(1,1,0)),n.red=new n(new e(1,0,0)),n.green=new n(new e(0,1,0)),n.blue=new n(new e(0,0,1)),n.gray=new n(new e(.5,.5,.5)),n.white=new n(new e(1,1,1)),n}(),v=function(){function n(t,n,i,r,o,s,a){this.moveEye=function(t,n){this.eye=e.add(this.eye,n.multiply(t))},this.ratio=r/o,this.screenW=r,this.screenH=o,this.screenCenterX=.5*this.screenW,this.screenCenterY=.5*this.screenH,this.halfW=.5*this.screenW,this.halfH=.5*this.screenH,this.z_axis=e.minus(n,t).normalize();var h=e.up;this.x_axis=e.cross(h,this.z_axis).normalize(),this.y_axis=e.cross(this.z_axis,this.x_axis),this.eye=t,this.fov_degree=i,this.N=s,this.F=a,this.a=a/(a-s),this.b=-s*a/(a-s),console.log(this.a,this.b)}return n.prototype.addPitch=function(t){},n.prototype.addYaw=function(t){},n.prototype.create_ray_dir=function(t,e,n){var i=c(.5*this.fov_degree),r=Math.tan(i),o=r*n;return this.z_axis.add(this.x_axis.multiply(t*o)).add(this.y_axis.multiply(e*r))},n.prototype.toCameraSpace=function(t){var n=t.minus(this.eye);return new e(e.dot(n,this.x_axis),e.dot(n,this.y_axis),e.dot(n,this.z_axis))},n.prototype.toProjectionSpace=function(t){var n=.5*c(this.fov_degree),i=1/Math.tan(n),r=1/(this.ratio*Math.tan(n));return new e(t.x*r,t.y*i,t.z*this.a+this.b)},n.prototype.toNDC=function(t,e){var n=1/e;return t.multiply(n)},n.prototype.toScreenSpace=function(t){var n=this.halfW*t.x+this.screenCenterX,i=-this.halfH*t.y+this.screenCenterY;return new e(n,i,0)},n.prototype.render=function(n,i){var r=this,o=new e(1,-1,0).normalize(),s=.5/n.h,a=[{x:0,y:0},{x:s,y:s},{x:-s,y:s},{x:-s,y:-s},{x:s,y:-s}];n.render_pixel((function(n,s,h){var u=r.create_ray_dir(n,s,h),c=a.map((function(e){var n=u.add(r.x_axis.multiply(e.x)).add(r.y_axis.multiply(e.y));return new t(r.eye,n.normalize())})).map((function(t){var e=_(i,t);if(0!=e.length){var n=e[0];return n.s.shading(n,o,i,1)}return d.gray.color})),l=a.length;return c.reduce((function(t,e){return t.add(e)}),e.zero).multiply(1/l)}))},n}(),g=function(){function t(t,e){void 0===t&&(t=320),void 0===e&&(e=240),this.w=320,this.h=240,this.backbuffer=null,this.w=t,this.h=e,this.backbuffer=new OffscreenCanvas(this.w,this.h)}return t.prototype.render_pixel=function(t){for(var e=this.backbuffer.getContext("2d"),n=e.getImageData(0,0,this.w,this.h),i=n.data,r=this.w/this.h,o=0;o<this.h;++o)for(var s=0;s<this.w;++s){var a=4*(s+o*this.w),h=(s+.5)/this.w,u=(o+.5)/this.h,c=t(2*h-1,2*(u=1-u)-1,r),l=c.x,f=c.y,p=c.z,_=1/2.1;l=Math.pow(l,_),f=Math.pow(f,_),p=Math.pow(p,_),i[a++]=Math.round(255*l),i[a++]=Math.round(255*f),i[a++]=Math.round(255*p),i[a]=255}e.putImageData(n,0,0)},t.prototype.set_pixel=function(t){for(var e=this.backbuffer.getContext("2d"),n=e.getImageData(0,0,this.w,this.h),i=n.data,r=(this.w,this.h,0);r<this.h;++r)for(var o=0;o<this.w;++o){var s=4*(o+r*this.w),a=t(o,r),h=a.r,u=a.g,c=a.b,l=1/2.1;h=Math.pow(h,l),u=Math.pow(u,l),c=Math.pow(c,l),i[s++]=Math.round(255*h),i[s++]=Math.round(255*u),i[s++]=Math.round(255*c),i[s]=255}e.putImageData(n,0,0)},t.prototype.show_buffer=function(t){var e=document.getElementById(t);e.style.width=this.w+"px",e.style.height=this.h+"px",e.width=e.clientWidth,e.height=e.clientHeight,e.getContext("bitmaprenderer").transferFromImageBitmap(this.backbuffer.transferToImageBitmap())},t}(),b=function(){function t(t,e){this.w=t,this.h=e,this.buffer=new Array(this.h),console.log(t,e);for(var n=0;n<this.h;++n)this.buffer[n]=new Array(this.w)}return t.prototype.set=function(t,e,n){if(!this.is_legal_index(t,e))return console.log("set",this.w,this.h,t,e),s.debug;this.buffer[e][t]=n},t.prototype.get=function(t,e){return this.is_legal_index(t,e)?this.buffer[e][t]:(console.log("get",this.w,this.h,t,e),s.debug)},t.prototype.clear=function(t){for(var e=0;e<this.h;++e)for(var n=0;n<this.w;++n)this.buffer[e][n]=t},t.prototype.get_clamp_mode=function(t,e){var n=p(t,0,this.w-1),i=p(e,0,this.h-1);return this.buffer[i][n]},t.prototype.is_legal_index=function(t,e){return t>=0&&t<this.w&&e>=0&&e<this.h},t.prototype.is_over_negative=function(t,e,n,i){return e>i||t<n},t.prototype.is_over_positive=function(t,e,n,i){return e>i||t>n},t}(),z=function(){function t(){}return t.set_canvas=function(e,n,i){var r=document.getElementById(e);return t.set_canvas_element(r,n,i)},t.set_canvas_element=function(t,e,n){return t.style.width=e+"px",t.style.height=n+"px",t.width=t.clientWidth,t.height=t.clientHeight,t},t.get_context=function(t){return document.getElementById(t).getContext("2d")},t.get_context_by_canvas=function(t){return t.getContext("2d")},t.convert=function(t){return"rgba("+Math.floor(255*t.r)+","+Math.floor(255*t.g)+","+Math.floor(255*t.b)+",1)"},t}(),M=function(){function t(){}return t.uv_to_buffer_space=function(t){return new a(t.x,1-t.y)},t.buffer_to_uv_space=function(t){return new a(t.x,1-t.y)},t.texture2D=function(e,n){var i,r=n.w,o=n.h,s=t.uv_to_buffer_space(e),h=s.x,u=s.y,c=1/r,l=1/o,f=.5*c,p=.5*l,_=h/c,w=u/l,y=Math.floor(_),m=Math.floor(w),x=h%c,d=u%l;if(x>=f&&d>=p){_==y&&(y-=1),w==m&&(m-=1);var v=new a(y,m),g=new a(v.x+1,v.y),b=new a(v.x,v.y+1),z=new a(v.x+1,v.y+1);return{rectUV:i=new a((x-f)/c,(d-p)/l),NW:v,NE:g,SW:b,SE:z,color:t.Bilinear_Sampler(i,v,g,b,z,n)}}if(x<=f&&d>=p){w==m&&(m-=1),v=new a(y,m);var M=new a(v.x-1,v.y);return b=new a(v.x-1,v.y+1),z=new a(v.x,v.y+1),{rectUV:i=new a((x+f)/c,(d-p)/l),NW:M,NE:v,SW:b,SE:z,color:t.Bilinear_Sampler(i,M,v,b,z,n)}}return x<=f&&d<=p?(v=new a(y,m),M=new a(v.x-1,v.y-1),g=new a(v.x,v.y-1),b=new a(v.x-1,v.y),{rectUV:i=new a((x+f)/c,(d+p)/l),NW:M,NE:g,SW:b,SE:v,color:t.Bilinear_Sampler(i,M,g,b,v,n)}):x>=f&&d<=p?(_==y&&(y-=1),v=new a(y,m),M=new a(v.x,v.y-1),g=new a(v.x+1,v.y-1),z=new a(v.x+1,v.y),{rectUV:i=new a((x-f)/c,(d+p)/l),NW:M,NE:g,SW:v,SE:z,color:t.Bilinear_Sampler(i,M,g,v,z,n)}):void 0},t.Bilinear_Sampler=function(t,e,n,i,r,o){var a=o.get_clamp_mode(e.x,e.y),h=o.get_clamp_mode(n.x,n.y),u=o.get_clamp_mode(i.x,i.y),c=o.get_clamp_mode(r.x,r.y),l=s.lerp(a,h,t.x),f=s.lerp(u,c,t.x);return s.lerp(l,f,t.y)},t}(),S=function(){function t(t){this.load_texture_buffer=this.load_texture_buffer.bind(this),this.begin_load(t)}return t.prototype.begin_load=function(t){this.img=new Image,this.img.src=t,this.img.onload=this.load_texture_buffer},t.prototype.load_texture_buffer=function(){var t=this.img.width,e=this.img.height,n=z.set_canvas("canvas_texture",t,e),i=z.get_context_by_canvas(n);i.drawImage(this.img,0,0),this.buffer=new b(t,e);for(var r=0;r<e;++r)for(var o=0;o<t;++o){var a=i.getImageData(o,r,1,1).data;this.buffer.set(o,r,new s(a[0]/255,a[1]/255,a[2]/255,a[3]/255))}},t.prototype.get=function(t){return this.buffer?M.texture2D(t,this.buffer):{rectUV:null,NW:null,NE:null,SW:null,SE:null,color:s.black}},t}();new(function(){function t(){var t=this;this.cameraIndex_view=1,this.cameraIndex_control=0,this.camera=null,this.screenWidth=320,this.screenHeight=240,this.box=null,this.use_solid_color=!1,this.ndc_clamp_effect=!1,window.onload=function(){t.init(),document.getElementById("btn_timeout").onclick=function(){t.stop()},document.getElementById("btn_resume").onclick=function(){t.resume()},document.getElementById("btn_toggle_drawing_mode").onclick=function(){t.use_solid_color=!t.use_solid_color},document.getElementById("btn_toggle_ndc_clamp_effect").onclick=function(){t.ndc_clamp_effect=!t.ndc_clamp_effect}},document.onkeydown=this.keyProc.bind(this),this.drawScene=this.drawScene.bind(this)}return t.prototype.init=function(){h.color_buffer=new b(this.screenWidth,this.screenHeight),h.z_buffer=new b(this.screenWidth,this.screenHeight),this.render_target=new g(this.screenWidth,this.screenHeight),this.ctx=z.set_canvas("canvas_line",this.screenWidth,this.screenHeight).getContext("2d"),z.set_canvas("canvas",this.screenWidth,this.screenHeight),this.box=new x,this.camera=new v(new e(0,50,-200),new e(0,0,0),60,this.screenWidth,this.screenHeight,10,500),this.texture=new S("/texture/Pom_Pom_Purin.png"),this.start()},t.prototype.start=function(){this.stop(),this.sum_t=0;var t=new Date;this.last_t=t.getTime(),this.thandle=window.requestAnimationFrame(this.drawScene)},t.prototype.resume=function(){var t=new Date;this.last_t=t.getTime(),this.thandle=window.requestAnimationFrame(this.drawScene)},t.prototype.stop=function(){window.cancelAnimationFrame(this.thandle),this.thandle=null},t.prototype.drawScene=function(t){var e=(new Date).getTime(),n=e-this.last_t;this.last_t=e,this.sum_t=this.sum_t+n,document.title=n.toString(),this.ctx.clearRect(0,0,this.screenWidth,this.screenHeight),this.ctx.beginPath(),this.ctx.fillStyle="rgba(180,30,15,0.1)",this.ctx.fillRect(0,0,this.screenWidth,this.screenHeight),h.clear(s.black,1);var i=o.offset(0,0,0),r=(this.sum_t,o.rotateByY(336.55499999999995)),a=o.transformTransform(i,r);this.box.rasterize(this.camera,a,this.texture,this.use_solid_color,this.ndc_clamp_effect),this.box.draw_line(this.ctx),h.show(this.render_target),this.thandle=window.requestAnimationFrame(this.drawScene)},t.prototype.keyProc=function(t){switch(t.keyCode){case 87:this.camera.moveEye(1,this.camera.z_axis);break;case 82:this.camera.moveEye(-1,this.camera.z_axis);break;case 69:this.camera.moveEye(1,this.camera.y_axis);break;case 68:this.camera.moveEye(-1,this.camera.y_axis);break;case 83:this.camera.moveEye(-1,this.camera.x_axis);break;case 70:this.camera.moveEye(1,this.camera.x_axis);break;case 38:this.camera.addPitch(.1);break;case 40:this.camera.addPitch(-.1);break;case 37:this.camera.addYaw(-.1);break;case 39:this.camera.addYaw(.1)}},t}())})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmFzdGVyaXplckFwcC5qcyIsIm1hcHBpbmdzIjoiMkJBTUksU0FBWUEsRUFBYUMsR0FDckJDLEtBQUtGLEtBQU9BLEVBQ1pFLEtBQUtELElBQU1BLEcsRUNObkIsV0EwRUksV0FBWUUsRUFBWUMsRUFBWUMsR0FIcEMsS0FBQUMsRUFBWSxFQUNaLEtBQUFDLEVBQVksRUFDWixLQUFBQyxFQUFZLEVBRVJOLEtBQUtJLEVBQUlILEVBQ1RELEtBQUtLLEVBQUlILEVBQ1RGLEtBQUtNLEVBQUlILEVBaURqQixPQTVIVyxFQUFBSSxRQUFQLFNBQWVDLEVBQVlDLEVBQVlDLEdBSW5DLE1BQU8sQ0FBRUMsSUFGQyxJQUFJQyxFQUFPQyxLQUFLRixJQUFJRSxLQUFLRixJQUFJSCxFQUFHSixFQUFHSyxFQUFHTCxHQUFJTSxFQUFHTixHQUFJUyxLQUFLRixJQUFJRSxLQUFLRixJQUFJSCxFQUFHSCxFQUFHSSxFQUFHSixHQUFJSyxFQUFHTCxHQUFJUSxLQUFLRixJQUFJRSxLQUFLRixJQUFJSCxFQUFHRixFQUFHRyxFQUFHSCxHQUFJSSxFQUFHSixJQUVySFEsSUFESixJQUFJRixFQUFPQyxLQUFLQyxJQUFJRCxLQUFLQyxJQUFJTixFQUFHSixFQUFHSyxFQUFHTCxHQUFJTSxFQUFHTixHQUFJUyxLQUFLQyxJQUFJRCxLQUFLQyxJQUFJTixFQUFHSCxFQUFHSSxFQUFHSixHQUFJSyxFQUFHTCxHQUFJUSxLQUFLQyxJQUFJRCxLQUFLQyxJQUFJTixFQUFHRixFQUFHRyxFQUFHSCxHQUFJSSxFQUFHSixNQUloSSxFQUFBUyxpQkFBUCxTQUF3QlAsRUFBWUMsRUFBWUMsR0FDNUMsSUFBSU0sRUFBTUosRUFBT0ssTUFBTVIsRUFBSUQsR0FDdkJVLEVBQU1OLEVBQU9LLE1BQU1QLEVBQUlGLEdBRTNCLE9BRGFJLEVBQU9PLE1BQU1ILEVBQUtFLEdBQ2pCRSxhQUdYLEVBQUFDLGlCQUFQLFNBQXdCYixFQUFZQyxFQUFZQyxHQUM1QyxPQUFPRixFQUFHYyxJQUFJYixHQUFJYSxJQUFJWixHQUFJYSxTQUFTLEVBQUksSUFHcEMsRUFBQUMsR0FBUCxTQUFVQyxFQUFXQyxHQUNqQixPQUFPLElBQUlkLEVBQU9hLEVBQUdDLEVBQUcsSUFNckIsRUFBQUMsUUFBUCxTQUFlQyxFQUFXQyxHQUN0QixJQUFJQyxHQUFLLEVBQUlsQixFQUFPbUIsSUFBSUgsRUFBR0MsR0FDM0IsT0FBT0EsRUFBRU4sU0FBU08sR0FBR1IsSUFBSU0sSUFHdEIsRUFBQU4sSUFBUCxTQUFXVSxFQUFXQyxHQUVsQixPQURXLElBQUlyQixFQUFPcUIsRUFBRTdCLEVBQUk0QixFQUFFNUIsRUFBRzZCLEVBQUU1QixFQUFJMkIsRUFBRTNCLEVBQUc0QixFQUFFM0IsRUFBSTBCLEVBQUUxQixJQUlqRCxFQUFBVyxNQUFQLFNBQWFlLEVBQVdDLEdBRXBCLE9BRFcsSUFBSXJCLEVBQU9vQixFQUFFNUIsRUFBSTZCLEVBQUU3QixFQUFHNEIsRUFBRTNCLEVBQUk0QixFQUFFNUIsRUFBRzJCLEVBQUUxQixFQUFJMkIsRUFBRTNCLElBSWpELEVBQUFpQixTQUFQLFNBQWdCUyxFQUFXRSxHQUV2QixPQURXLElBQUl0QixFQUFPb0IsRUFBRTVCLEVBQUk4QixFQUFHRixFQUFFM0IsRUFBSTZCLEVBQUdGLEVBQUUxQixFQUFJNEIsSUFJM0MsRUFBQUMsVUFBUCxTQUFpQkgsRUFBV0MsR0FDeEIsT0FBTyxJQUFJckIsRUFBT29CLEVBQUU1QixFQUFJNkIsRUFBRTdCLEVBQUc0QixFQUFFM0IsRUFBSTRCLEVBQUU1QixFQUFHMkIsRUFBRTFCLEVBQUkyQixFQUFFM0IsSUFHN0MsRUFBQWEsTUFBUCxTQUFhYSxFQUFXQyxHQUVwQixPQURXLElBQUlyQixFQUFPb0IsRUFBRTNCLEVBQUk0QixFQUFFM0IsRUFBSTBCLEVBQUUxQixFQUFJMkIsRUFBRTVCLEdBQUkyQixFQUFFNUIsRUFBSTZCLEVBQUUzQixFQUFJMEIsRUFBRTFCLEVBQUkyQixFQUFFN0IsRUFBRzRCLEVBQUU1QixFQUFJNkIsRUFBRTVCLEVBQUkyQixFQUFFM0IsRUFBSTRCLEVBQUU3QixJQUl0RixFQUFBMkIsSUFBUCxTQUFXQyxFQUFXQyxHQUNsQixPQUFPRCxFQUFFNUIsRUFBSTZCLEVBQUU3QixFQUFJNEIsRUFBRTNCLEVBQUk0QixFQUFFNUIsRUFBSTJCLEVBQUUxQixFQUFJMkIsRUFBRTNCLEdBR3BDLEVBQUE4QixNQUFQLFNBQWFKLEVBQVdDLEdBQ3BCLE9BQU9JLEVBQWFMLEVBQUU1QixFQUFHNkIsRUFBRTdCLElBQU1pQyxFQUFhTCxFQUFFM0IsRUFBRzRCLEVBQUU1QixJQUFNZ0MsRUFBYUwsRUFBRTFCLEVBQUcyQixFQUFFM0IsSUFHNUUsRUFBQWdDLEtBQVAsU0FBWU4sRUFBV0MsRUFBV00sR0FDOUIsT0FBTyxJQUFJM0IsRUFDUDBCLEVBQUtOLEVBQUU1QixFQUFHNkIsRUFBRTdCLEVBQUdtQyxHQUNmRCxFQUFLTixFQUFFM0IsRUFBRzRCLEVBQUU1QixFQUFHa0MsR0FDZkQsRUFBS04sRUFBRTFCLEVBQUcyQixFQUFFM0IsRUFBR2lDLEtBWXZCLFlBQUFDLFFBQUEsU0FBUTdCLEVBQWFHLEdBRWpCLE9BREFkLEtBQUtJLEVBQUlxQyxFQUFNekMsS0FBS0ksRUFBR08sRUFBS0csR0FDckJkLE1BR1gsWUFBQTBDLFFBQUEsU0FBUS9CLEVBQWFHLEdBRWpCLE9BREFkLEtBQUtLLEVBQUlvQyxFQUFNekMsS0FBS0ssRUFBR00sRUFBS0csR0FDckJkLE1BR1gsWUFBQTJDLE9BQUEsV0FDSSxPQUFPOUIsS0FBSytCLEtBQUs1QyxLQUFLSSxFQUFJSixLQUFLSSxFQUFJSixLQUFLSyxFQUFJTCxLQUFLSyxFQUFJTCxLQUFLTSxFQUFJTixLQUFLTSxJQUd2RSxZQUFBYyxVQUFBLFdBQ0ksSUFBSXlCLEVBQU83QyxLQUFLMkMsU0FJaEIsT0FIQTNDLEtBQUtJLEVBQUlKLEtBQUtJLEVBQUl5QyxFQUNsQjdDLEtBQUtLLEVBQUlMLEtBQUtLLEVBQUl3QyxFQUNsQjdDLEtBQUtNLEVBQUlOLEtBQUtNLEVBQUl1QyxFQUNYN0MsTUFHWCxZQUFBc0IsSUFBQSxTQUFJVSxHQUNBLE9BQU9wQixFQUFPVSxJQUFJdEIsS0FBTWdDLElBRzVCLFlBQUFmLE1BQUEsU0FBTWUsR0FDRixPQUFPcEIsRUFBT0ssTUFBTWpCLEtBQU1nQyxJQUc5QixZQUFBVCxTQUFBLFNBQVNXLEdBQ0wsT0FBT3RCLEVBQU9XLFNBQVN2QixLQUFNa0MsSUFHakMsWUFBQVksU0FBQSxXQUNJLE9BQU9sQyxFQUFPVyxTQUFTdkIsTUFBTyxJQUdsQ1ksRUFBQSxVQUFBbUMsU0FBQSxXQUVJLE9BREEvQyxLQUFLTSxFQUFJLEVBQ0ZOLE1BR1gsWUFBQWdELE1BQUEsV0FDSSxPQUFPLElBQUlwQyxFQUFPWixLQUFLSSxFQUFHSixLQUFLSyxFQUFHTCxLQUFLTSxJQXBHcEMsRUFBQTJDLEdBQUssSUFBSXJDLEVBQU8sRUFBRyxFQUFHLEdBQ3RCLEVBQUFzQyxLQUFPLElBQUl0QyxFQUFPLEVBQUcsRUFBRyxHQXFHbkMsRUE5SEEsRyxFQ0lJLFNBQVl1QyxFQUFVQyxHQUNsQnBELEtBQUttRCxFQUFJQSxFQUNUbkQsS0FBS29ELEVBQUlBLEcsRUNHakIsV0FJSSxXQUFZdEQsRUFBZXVELEdBQ3ZCckQsS0FBS0YsS0FBT0EsRUFDWkUsS0FBS0QsSUFBTSxJQUFJLEVBQVEsUUFBYXNELEVBQUdGLEVBQUdyRCxFQUFLcUQsR0FBSUUsRUFBR0QsRUFBSXRELEVBQUtzRCxHQXFDdkUsT0FsQ0ksWUFBQUUsaUJBQUEsV0FHSSxPQURTdEQsS0FBS0YsS0FBS3NELEVBQUlwRCxLQUFLRixLQUFLcUQsRUFBRS9DLElBQU1KLEtBQUtELElBQUlvRCxFQUFFL0MsRUFBSUosS0FBS0QsSUFBSXFELElBSXJFLFlBQUFHLGlCQUFBLFdBRUksT0FEU3ZELEtBQUtGLEtBQUtzRCxFQUFJcEQsS0FBS0YsS0FBS3FELEVBQUU5QyxJQUFNTCxLQUFLRCxJQUFJb0QsRUFBRTlDLEVBQUlMLEtBQUtELElBQUlxRCxJQUlyRSxZQUFBSSxpQkFBQSxXQUVJLE9BRFN4RCxLQUFLRixLQUFLc0QsRUFBSXBELEtBQUtGLEtBQUtxRCxFQUFFN0MsSUFBTU4sS0FBS0QsSUFBSW9ELEVBQUU3QyxFQUFJTixLQUFLRCxJQUFJcUQsSUFJckUsWUFBQUssdUJBQUEsV0FJSSxRQURVekQsS0FBS0YsS0FBS3NELEVBQUlwRCxLQUFLRixLQUFLcUQsRUFBRS9DLElBQU1KLEtBQUtELElBQUlxRCxFQUFJcEQsS0FBS0QsSUFBSW9ELEVBQUUvQyxJQUl0RSxZQUFBc0QsdUJBQUEsV0FFSSxRQURVMUQsS0FBS0YsS0FBS3NELEVBQUlwRCxLQUFLRixLQUFLcUQsRUFBRTlDLElBQU1MLEtBQUtELElBQUlxRCxFQUFJcEQsS0FBS0QsSUFBSW9ELEVBQUU5QyxJQUl0RSxZQUFBc0Qsc0JBQUEsV0FJSSxPQURTM0QsS0FBS0YsS0FBS3FELEVBQUU3QyxFQUFJTixLQUFLRCxJQUFJb0QsRUFBRTdDLEdBRzVDLEVBM0NBLEcsRUNIQSxXQUlJLFdBQVlzRCxFQUFlQyxHQUN2QjdELEtBQUs4RCxFQUFJRixFQUNUNUQsS0FBSzZCLEVBQUlnQyxFQTJDakIsT0F2Q0ksWUFBQUUsWUFBQSxTQUFZQyxHQUNSLElBQUlDLEVBQU8sUUFBYUQsRUFBUWhFLEtBQUs4RCxHQUVyQyxPQURZLE1BQVdHLEVBQU1qRSxLQUFLNkIsR0FDbkIsR0FHbkIsWUFBQXFDLElBQUEsU0FBSUMsRUFBVWpDLEdBQ1YsSUFBSWtDLEVBQVNDLEVBQU1ILElBQUlDLEVBQUtuRSxNQUc1QixPQUZJb0UsRUFBT0UsU0FDUEYsRUFBT2xDLEVBQUlBLEdBQ1JrQyxHQUdKLEVBQUFGLElBQVAsU0FBV0MsRUFBVUksR0FFakIsSUFBSXpFLEVBQU9xRSxFQUFJckUsS0FDWEMsRUFBTW9FLEVBQUlwRSxJQUtWa0MsRUFBSSxNQUFXbEMsRUFBS3dFLEVBQU0xQyxHQUMxQkcsRUFBSSxNQUFXLFFBQWF1QyxFQUFNVCxFQUFHaEUsR0FBT3lFLEVBQU0xQyxHQUd0RCxHQUFJUSxFQUFhSixFQUFHLEdBQ2hCLE1BQU8sQ0FBRXFDLFFBQVEsRUFBT0UsUUFBUyxLQUFNakMsR0FBSSxHQUUvQyxJQUFJQSxFQUFJUCxFQUFJQyxFQUdaLE1BQU8sQ0FDSHFDLE9BSFMvQixFQUFJLEVBSWJpQyxRQUhVMUUsRUFBS3dCLElBQUl2QixFQUFJd0IsU0FBU2dCLElBSWhDa0MsRUFBRzFFLEVBQ0h3QyxFQUFDLEVBQ0RzQixPQUFRVSxFQUFNMUMsSUFHMUIsRUFqREEsRyxFQ0xBLFdBS0ksV0FBWTZDLEVBQWVDLEVBQWVDLEVBQWVDLEdBQ3JEN0UsS0FBSzBFLE1BQVFBLEVBQ2IxRSxLQUFLMkUsTUFBUUEsRUFDYjNFLEtBQUs0RSxNQUFRQSxFQUNiNUUsS0FBSzZFLFNBQVdBLEVBaUZ4QixPQTlFVyxFQUFBQyxlQUFQLFNBQXNCQyxFQUFzQm5CLEdBQ3hDLElBQUlvQixFQUFVRCxFQUFVTCxNQUFNbkQsU0FBU3FDLEVBQU14RCxHQUN6QzZFLEVBQVVGLEVBQVVKLE1BQU1wRCxTQUFTcUMsRUFBTXZELEdBQ3pDNkUsRUFBVUgsRUFBVUgsTUFBTXJELFNBQVNxQyxFQUFNdEQsR0FFN0MsT0FBT3lFLEVBQVVGLFNBQVN2RCxJQUFJMEQsR0FBUzFELElBQUkyRCxHQUFTM0QsSUFBSTRELElBR3JELEVBQUFDLGdCQUFQLFNBQXVCSixFQUFzQkssR0FDekMsSUFBSUosRUFBVUQsRUFBVUwsTUFBTW5ELFNBQVM2RCxFQUFPaEYsR0FDMUM2RSxFQUFVRixFQUFVSixNQUFNcEQsU0FBUzZELEVBQU8vRSxHQUMxQzZFLEVBQVVILEVBQVVILE1BQU1yRCxTQUFTNkQsRUFBTzlFLEdBRTlDLE9BQU8wRSxFQUFRMUQsSUFBSTJELEdBQVMzRCxJQUFJNEQsSUFHN0IsRUFBQUcsbUJBQVAsU0FBMEJOLEVBQXNCTyxHQUM1QyxPQUFPLElBQUlDLEVBQ1BBLEVBQVVKLGdCQUFnQkosRUFBV08sRUFBZVosT0FDcERhLEVBQVVKLGdCQUFnQkosRUFBV08sRUFBZVgsT0FDcERZLEVBQVVKLGdCQUFnQkosRUFBV08sRUFBZVYsT0FDcERXLEVBQVVULGVBQWVDLEVBQVdPLEVBQWVULFlBSXBELEVBQUFXLFVBQVAsU0FBaUJDLEdBQ2IsSUFBSUMsRUFBU0MsRUFBY0YsR0FDdkJHLEVBQUkvRSxLQUFLZ0YsSUFBSUgsR0FBU3hELEVBQUlyQixLQUFLaUYsSUFBSUosR0FLdkMsT0FBTyxJQUFJSCxFQUpDLElBQUksRUFBT0ssRUFBRzFELEVBQUcsR0FDakIsSUFBSSxHQUFRQSxFQUFHMEQsRUFBRyxHQUNsQixJQUFJLEVBQU8sRUFBRyxFQUFHLEdBTXpCLFNBSUQsRUFBQUcsVUFBUCxTQUFpQk4sR0FDYixJQUFJQyxFQUFTQyxFQUFjRixHQUN2QkcsRUFBSS9FLEtBQUtnRixJQUFJSCxHQUFTeEQsRUFBSXJCLEtBQUtpRixJQUFJSixHQUNuQ2QsRUFBUSxJQUFJLEVBQU8xQyxFQUFHLEVBQUcwRCxHQUk3QixPQUFPLElBQUlMLEVBSEMsSUFBSSxFQUFPSyxFQUFHLEdBQUkxRCxHQUNsQixJQUFJLEVBQU8sRUFBRyxFQUFHLEdBS3pCMEMsRUFDQSxTQUlELEVBQUFvQixVQUFQLFNBQWlCUCxHQUNiLElBQUlDLEVBQVNDLEVBQWNGLEdBQ3ZCRyxFQUFJL0UsS0FBS2dGLElBQUlILEdBQVN4RCxFQUFJckIsS0FBS2lGLElBQUlKLEdBS3ZDLE9BQU8sSUFBSUgsRUFKQyxJQUFJLEVBQU8sRUFBRyxFQUFHLEdBQ2pCLElBQUksRUFBTyxFQUFHSyxFQUFHMUQsR0FDakIsSUFBSSxFQUFPLEdBQUlBLEVBQUcwRCxHQU0xQixJQUFJLEVBQU8sRUFBRyxFQUFHLEtBSWxCLEVBQUFLLE9BQVAsU0FBYzdGLEVBQVdDLEVBQVdDLEdBQ2hDLE9BQU8sSUFBSWlGLEVBQ1AsSUFBSSxFQUFPLEVBQUcsRUFBRyxHQUNqQixJQUFJLEVBQU8sRUFBRyxFQUFHLEdBQ2pCLElBQUksRUFBTyxFQUFHLEVBQUcsR0FDakIsSUFBSSxFQUFPbkYsRUFBR0MsRUFBR0MsS0FHN0IsRUExRkEsRyxFQ0FBLFdBWUksV0FBWTRGLEVBQVdDLEVBQVdDLEVBQVdDLEdBZTdDLEtBQUEvRSxJQUFNLFNBQVVVLEdBQ1osT0FBTyxJQUFJc0UsRUFBS3RHLEtBQUtrRyxFQUFJbEUsRUFBRWtFLEVBQUdsRyxLQUFLbUcsRUFBSW5FLEVBQUVtRSxFQUFHbkcsS0FBS29HLEVBQUlwRSxFQUFFb0UsRUFBRyxJQWYxRHBHLEtBQUtrRyxFQUFJQSxFQUNUbEcsS0FBS21HLEVBQUlBLEVBQ1RuRyxLQUFLb0csRUFBSUEsRUFDVHBHLEtBQUtxRyxFQUFJQSxFQXVCakIsT0FwQlcsRUFBQS9ELEtBQVAsU0FBWU4sRUFBU0MsRUFBU3NFLEdBQzFCLE9BQU8sSUFBSUQsRUFDUGhFLEVBQUtOLEVBQUVrRSxFQUFHakUsRUFBRWlFLEVBQUdLLEdBQ2ZqRSxFQUFLTixFQUFFbUUsRUFBR2xFLEVBQUVrRSxFQUFHSSxHQUNmakUsRUFBS04sRUFBRW9FLEVBQUduRSxFQUFFbUUsRUFBR0csR0FDZixJQVFSLFlBQUFoRixTQUFBLFNBQVNXLEdBQ0wsT0FBTyxJQUFJb0UsRUFBS3RHLEtBQUtrRyxFQUFJaEUsRUFBR2xDLEtBQUttRyxFQUFJakUsRUFBR2xDLEtBQUtvRyxFQUFJbEUsRUFBRyxJQUd4RCxZQUFBc0UsU0FBQSxXQUNJLE1BQU8sS0FBT3hHLEtBQUtrRyxFQUFJLE1BQVFsRyxLQUFLbUcsRUFBSSxNQUFRbkcsS0FBS29HLEVBQUksTUFwQ3RELEVBQUFLLE1BQVEsSUFBSUgsRUFBSyxFQUFHLEVBQUcsRUFBRyxHQUMxQixFQUFBSSxPQUFTLElBQUlKLEVBQUssRUFBRyxJQUFNLElBQUssRUFBRyxHQUNuQyxFQUFBSyxPQUFTLElBQUlMLEVBQUssRUFBRyxFQUFHLEVBQUcsR0FDM0IsRUFBQU0sS0FBTyxJQUFJTixFQUFLLEVBQUcsSUFBTSxJQUFLLElBQU0sSUFBSyxHQUN6QyxFQUFBTyxNQUFRLElBQUlQLEVBQUssRUFBRyxFQUFHLEVBQUcsR0FDMUIsRUFBQVEsSUFBTSxJQUFJUixFQUFLLEVBQUcsRUFBRyxFQUFHLEdBaUNuQyxFQXZDQSxHLEVDSEEsV0FjSSxXQUFZbEcsRUFBV0MsR0FVdkIsS0FBQWtCLFNBQVcsU0FBVVcsR0FDakIsT0FBTyxJQUFJYSxFQUFTL0MsS0FBS0ksRUFBSThCLEVBQUdsQyxLQUFLSyxFQUFJNkIsSUFHN0MsS0FBQXNFLFNBQVcsV0FDUCxNQUFPLEtBQU94RyxLQUFLSSxFQUFJLE1BQVFKLEtBQUtLLEVBQUksTUFkeENMLEtBQUtJLEVBQUlBLEVBQ1RKLEtBQUtLLEVBQUlBLEVBZWpCLE9BN0JXLEVBQUFpQixJQUFQLFNBQVdVLEVBQWFDLEdBRXBCLE9BRFcsSUFBSWMsRUFBU2QsRUFBRTdCLEVBQUk0QixFQUFFNUIsRUFBRzZCLEVBQUU1QixFQUFJMkIsRUFBRTNCLElBSXhDLEVBQUFZLE1BQVAsU0FBYWUsRUFBYUMsR0FFdEIsT0FEVyxJQUFJYyxFQUFTZixFQUFFNUIsRUFBSTZCLEVBQUU3QixFQUFHNEIsRUFBRTNCLEVBQUk0QixFQUFFNUIsSUFZL0MsWUFBQTBHLEtBQUEsU0FBSzVELEdBQ0QsT0FBTyxJQUFJSixFQUFTL0MsS0FBS0ksRUFBSStDLEVBQUUvQyxFQUFHSixLQUFLSyxFQUFJOEMsRUFBRTlDLElBVXJELEVBL0JBLEcsRUNZQSx5QkEwT0EsT0F0T1csRUFBQTJHLE1BQVAsU0FBYUMsRUFBYTNHLEdBQ3RCNEcsRUFBV0MsYUFBYUgsTUFBTUMsR0FDOUJDLEVBQVdFLFNBQVNKLE1BQU0xRyxJQUd2QixFQUFBK0csS0FBUCxTQUFZQyxHQUNSQSxFQUFjQyxXQUFVLFNBQUNuSCxFQUFXQyxHQUNoQyxPQUFPNkcsRUFBV0MsYUFBYUssSUFBSXBILEVBQUdDLE1BRTFDaUgsRUFBY0csWUFBWSxXQUd2QixFQUFBQyxZQUFQLFNBQW1CQyxFQUNmQyxFQUNBQyxFQUNBQyxFQUNBdkQsR0FHQSxJQURBLElBQUl3RCxFQUF1QixHQUNiLE1BQUFKLEVBQUEsZUFFVixJQUZDLElBRWEsTUFEREssRUFEUCxLQUNlSixFQUFRQyxFQUFRQyxFQUFRdkQsR0FDL0IsZUFBTSxDQUFmLElBQUloQyxFQUFDLEtBQ053RixFQUFTRSxLQUFLMUYsR0FFdEIsT0FBT3dGLEdBR0osRUFBQUcseUJBQVAsU0FBZ0MxSCxFQUFZQyxFQUFZQyxFQUFZeUgsR0FLaEUsSUFBSVIsRUFBVSxDQUFDLElBQUksRUFBU25ILEVBQUlDLEVBQUlDLElBR2hDcUgsRUFBV2IsRUFBV1EsWUFBWUMsR0FDbEMsU0FBQ1MsR0FBa0IsT0FBT0EsRUFBRTVILEdBQUc0QyxFQUFJZ0YsRUFBRTVILEdBQUcyQyxFQUFFN0MsS0FDMUMsU0FBQzhILEdBQWtCLE9BQU9BLEVBQUUzSCxHQUFHMkMsRUFBSWdGLEVBQUUzSCxHQUFHMEMsRUFBRTdDLEtBQzFDLFNBQUM4SCxHQUFrQixPQUFPQSxFQUFFMUgsR0FBRzBDLEVBQUlnRixFQUFFMUgsR0FBR3lDLEVBQUU3QyxJQUMxQytILEVBQVVDLEtBWWQsT0FUV3BCLEVBQVdRLFlBQVlLLEdBQzlCLFNBQUNLLEdBQWtCLE9BQU8sRUFBSUEsRUFBRTVILEdBQUcyQyxFQUFFN0MsS0FDckMsU0FBQzhILEdBQWtCLE9BQU8sRUFBSUEsRUFBRTNILEdBQUcwQyxFQUFFN0MsS0FDckMsU0FBQzhILEdBQWtCLE9BQU8sRUFBSUEsRUFBRTFILEdBQUd5QyxFQUFFN0MsSUFDckMrSCxFQUFVRSxPQXNDWCxFQUFBQyw4QkFBUCxTQUFxQ0MsRUFBb0JOLEVBQWlCTyxHQUV0RSxJQUFJQyxFQUFPLGlCQUF5QkQsRUFBZ0JELEVBQVNqSSxHQUFHMkMsR0FDNUR5RixFQUFPLGlCQUF5QkYsRUFBZ0JELEVBQVNoSSxHQUFHMEMsR0FDNUQwRixFQUFPLGlCQUF5QkgsRUFBZ0JELEVBQVMvSCxHQUFHeUMsR0FHNUQyRixFQUFPWCxFQUFRWSxjQUFjSixHQUM3QkssRUFBT2IsRUFBUVksY0FBY0gsR0FDN0JLLEVBQU9kLEVBQVFZLGNBQWNGLEdBRzdCSyxFQUFPZixFQUFRZ0Isa0JBQWtCTCxHQUNqQ00sRUFBT2pCLEVBQVFnQixrQkFBa0JILEdBQ2pDSyxFQUFPbEIsRUFBUWdCLGtCQUFrQkYsR0FVakNwRixFQUFTLG1CQUF3QmlGLEVBQU1FLEVBQU1DLEdBQzdDSyxFQUFnQixRQUFhLE9BQWEsbUJBQXdCUixFQUFNRSxFQUFNQyxJQUFPN0gsWUFFekYsR0FEZ0IsTUFBV3lDLEVBQVF5RixJQUNsQixFQUViLE1BQU8sR0FJWCxJQUFJOUksRUFBS2lJLEVBQVNqSSxHQUFHd0MsUUFBUXVHLFNBQVNMLEdBQU1NLFNBQVNWLEVBQUt4SSxHQUN0REcsRUFBS2dJLEVBQVNoSSxHQUFHdUMsUUFBUXVHLFNBQVNILEdBQU1JLFNBQVNSLEVBQUsxSSxHQUN0REksRUFBSytILEVBQVMvSCxHQUFHc0MsUUFBUXVHLFNBQVNGLEdBQU1HLFNBQVNQLEVBQUszSSxHQUcxRCxPQUFPNEcsRUFBV2dCLHlCQUF5QjFILEVBQUlDLEVBQUlDLEVBQUl5SCxJQUlwRCxFQUFBc0IsUUFBUCxTQUFlaEIsRUFBb0JOLEVBQWlCTyxFQUEyQmdCLEVBQW9CQyxFQUEwQkMsR0FRekgsSUFMQSxJQUVJQyxFQUFPLEdBR0csTUFMTTNDLEVBQVdzQiw4QkFBOEJDLEVBQVVOLEVBQVNPLEdBS2xFLGVBQWUsQ0FBeEIsSUFBSU4sRUFBQyxLQUVGMEIsRUFBSzNCLEVBQVE0QixNQUFNM0IsRUFBRTVILEdBQUcyQyxFQUFHaUYsRUFBRTVILEdBQUc0QyxHQUNoQzRHLEVBQUs3QixFQUFRNEIsTUFBTTNCLEVBQUUzSCxHQUFHMEMsRUFBR2lGLEVBQUUzSCxHQUFHMkMsR0FDaEM2RyxFQUFLOUIsRUFBUTRCLE1BQU0zQixFQUFFMUgsR0FBR3lDLEVBQUdpRixFQUFFMUgsR0FBRzBDLEdBTWhDd0csSUFDQUUsRUFBR3RILFNBQVMsRUFBRyxHQUFHRSxTQUFTLEVBQUcsR0FDOUJzSCxFQUFHeEgsU0FBUyxFQUFHLEdBQUdFLFNBQVMsRUFBRyxHQUM5QnVILEVBQUd6SCxTQUFTLEVBQUcsR0FBR0UsU0FBUyxFQUFHLElBS2xDLElBQUl3SCxFQUFLL0IsRUFBUWdDLGNBQWNMLEdBQzNCTSxFQUFLakMsRUFBUWdDLGNBQWNILEdBQzNCSyxFQUFLbEMsRUFBUWdDLGNBQWNGLEdBRy9CSixFQUFLNUIsS0FBS2lDLEdBQ1ZMLEVBQUs1QixLQUFLbUMsR0FDVlAsRUFBSzVCLEtBQUtvQyxHQUdOLE1BQWUsVUFBZUgsRUFBSUUsRUFBSUMsR0FBcEMxSixFQUFHLE1BQUVHLEVBQUcsTUFFVndKLEVBQVF6SixLQUFLMEosTUFBTTVKLEVBQUlQLEdBQ3ZCb0ssRUFBUTNKLEtBQUswSixNQUFNekosRUFBSVYsR0FDdkJxSyxFQUFRNUosS0FBSzBKLE1BQU01SixFQUFJTixHQUN2QnFLLEVBQVE3SixLQUFLMEosTUFBTXpKLEVBQUlULEdBRzNCaUssRUFBUXpKLEtBQUtDLElBQUksRUFBR3dKLEdBQ3BCRyxFQUFRNUosS0FBS0MsSUFBSSxFQUFHMkosR0FDcEJELEVBQVEzSixLQUFLRixJQUFJWCxLQUFLbUgsYUFBYS9ELEVBQUksRUFBR29ILEdBQzFDRSxFQUFRN0osS0FBS0YsSUFBSVgsS0FBS21ILGFBQWF3RCxFQUFJLEVBQUdELEdBSTFDLElBRkEsSUFFU3RLLEVBQUlrSyxFQUFPbEssR0FBS29LLElBQVNwSyxFQUM5QixJQUFLLElBQUlDLEVBQUlvSyxFQUFPcEssR0FBS3FLLElBQVNySyxFQUFHLENBR2pDLElBQUl1SyxFQUFJLElBQUksRUFBT3hLLEVBQUksR0FBS0MsRUFBSSxHQUFLLEdBSWpDLEVBQXVCLHFCQUF5QjZKLEVBQUlFLEVBQUlDLEVBQUlPLEdBQTFEQyxFQUFPLFVBQUUsRUFBQyxJQUFFLEVBQUMsSUFBRSxFQUFDLElBQ3RCLEdBQUtBLEdBRUEsaUJBQXdCLEVBQUcsRUFBRyxHQUFuQyxDQU9BLElBQUl2SyxFQUFJLGdCQUF1QixFQUFHLEVBQUcsRUFBR3dKLEVBQUd4SixFQUFHMEosRUFBRzFKLEVBQUcySixFQUFHM0osR0FJdkQsS0FBSUEsRUFEVzRHLEVBQVdFLFNBQVNJLElBQUlwSCxFQUFHQyxJQUMxQyxDQUlBNkcsRUFBV0UsU0FBUzBELElBQUkxSyxFQUFHQyxFQUFHQyxHQUk5QixJQUFJOEMsRUFBSSxFQUFJLGdCQUF1QixFQUFHLEVBQUcsRUFBRyxFQUFJZ0YsRUFBRTVILEdBQUc0QyxFQUFHLEVBQUlnRixFQUFFM0gsR0FBRzJDLEVBQUcsRUFBSWdGLEVBQUUxSCxHQUFHMEMsR0FPekUzQixFQUpRLGdCQUF1QixFQUFHLEVBQUcsRUFBRzJHLEVBQUU1SCxHQUFHaUIsRUFBSTJHLEVBQUU1SCxHQUFHNEMsRUFBR2dGLEVBQUUzSCxHQUFHZ0IsRUFBSTJHLEVBQUUzSCxHQUFHMkMsRUFBR2dGLEVBQUUxSCxHQUFHZSxFQUFJMkcsRUFBRTFILEdBQUcwQyxHQUk1RUEsRUFDWjFCLEVBSlEsZ0JBQXVCLEVBQUcsRUFBRyxFQUFHMEcsRUFBRTVILEdBQUdrQixFQUFJMEcsRUFBRTVILEdBQUc0QyxFQUFHZ0YsRUFBRTNILEdBQUdpQixFQUFJMEcsRUFBRTNILEdBQUcyQyxFQUFHZ0YsRUFBRTFILEdBQUdnQixFQUFJMEcsRUFBRTFILEdBQUcwQyxHQUk1RUEsRUFFVjZELEVBQVV5QyxFQUFRbEMsSUFBSSxJQUFJLEVBQVMvRixFQUFHQyxJQUFHLE1BQzNDaUksRUFDQXpDLEVBQVdDLGFBQWEyRCxJQUFJMUssRUFBR0MsRUFBRyxVQUVsQzZHLEVBQVdDLGFBQWEyRCxJQUFJMUssRUFBR0MsRUFBRzRHLE1BT2xELE9BQU80QyxHQUVmLEVBMU9BLEcsRUNIQSxXQW1ESSxXQUFZa0IsRUFBYUMsRUFBYUMsR0FDbENqTCxLQUFLUSxHQUFLdUssRUFDVi9LLEtBQUtTLEdBQUt1SyxFQUNWaEwsS0FBS1UsR0FBS3VLLEVBcUJsQixPQXhFVyxrQkFBUCxTQUF1QmYsRUFBWUUsRUFBWUMsRUFBWU8sR0FDdkQsSUFBSTNHLEVBQU8sUUFBYTJHLEVBQUdWLEdBSXZCZ0IsRUFBUSxRQUFhZCxFQUFJRixHQUN6QmlCLEVBQVEsUUFBYWQsRUFBSUgsR0FDekJrQixFQUFJLElBQUksR0FBUUYsRUFBTTdLLEVBQUc2SyxFQUFNOUssRUFBRyxHQUNsQytELEVBQU0sSUFBSSxFQUFJeUcsRUFBR08sRUFBTTVKLFVBQVUsSUFHakM4SixFQUZTLE1BQVVsSCxFQUFLLElBQUksRUFBTStGLEVBQUlrQixJQUVsQjVHLFFBQ3hCLEdBQWtCLE1BQWQ2RyxFQUlBLE9BSEFDLFFBQVFDLElBQUksS0FBTXJCLEVBQUlFLEVBQUlDLEVBQUlPLEdBR3ZCLENBQUVDLFNBQVMsRUFBTyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FFNUMsSUFBSSxFQUFXLFFBQWFRLEVBQVluQixHQUNwQyxFQUFXLFFBQWFqRyxFQUFNLEdBRzlCLEVBQWdCLEdBQVhpSCxFQUFNOUssRUFBVSxFQUFTQyxFQUFJNkssRUFBTTdLLEVBQUksRUFBU0QsRUFBSThLLEVBQU05SyxFQUMvRCxFQUFnQixHQUFYK0ssRUFBTS9LLEVBQVUsRUFBU0MsRUFBSThLLEVBQU05SyxFQUFJLEVBQVNELEVBQUkrSyxFQUFNL0ssRUFVbkUsT0FUSW9MLE1BQU0sSUFDTkYsUUFBUUMsSUFBSSxFQUFTbkwsRUFBRzhLLEVBQU05SyxHQUc5Qm9MLE1BQU0sSUFDTkYsUUFBUUMsSUFBSSxFQUFTbkwsRUFBRytLLEVBQU0vSyxHQUkzQixDQUFFeUssU0FBUyxFQUFNLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFGdEIsRUFBSSxFQUFJLElBS2IsRUFBQVksZUFBUCxTQUFzQixFQUFXLEVBQVcsR0FDeEMsT0FBUSxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FJOUIsRUFBQUMsY0FBUCxTQUFxQixFQUFXLEVBQVcsRUFBV2xMLEVBQVlDLEVBQVlDLEdBQzFFLE9BQU9GLEVBQUssRUFBSUMsRUFBSyxFQUFJQyxFQUFLLEdBYWxDLFlBQUFpTCxVQUFBLFNBQVV4RCxFQUFpQk8sRUFBMkJnQixFQUFvQkMsRUFBMEJDLEdBQ2hHNUosS0FBSzRMLElBQU0sVUFBbUI1TCxLQUFNbUksRUFBU08sRUFBZ0JnQixFQUFTQyxFQUFpQkMsSUFHM0YsWUFBQWlDLEtBQUEsU0FBS0MsR0FDRCxHQUFnQixNQUFaOUwsS0FBSzRMLElBSVQsSUFEQSxJQUFJRyxFQUFTL0wsS0FBSzRMLElBQUlqSixPQUFTLEVBQ3RCaUQsRUFBSSxFQUFHQSxHQUFLbUcsSUFBVW5HLEVBQUcsQ0FDOUIsSUFBSW9HLEVBQVEsRUFBSXBHLEVBQUksRUFDcEJrRyxFQUFJRyxPQUFPak0sS0FBSzRMLElBQUlJLEdBQU81TCxFQUFHSixLQUFLNEwsSUFBSUksR0FBTzNMLEdBQzlDeUwsRUFBSUksT0FBT2xNLEtBQUs0TCxJQUFJSSxFQUFRLEdBQUc1TCxFQUFHSixLQUFLNEwsSUFBSUksRUFBUSxHQUFHM0wsR0FDdER5TCxFQUFJSSxPQUFPbE0sS0FBSzRMLElBQUlJLEVBQVEsR0FBRzVMLEVBQUdKLEtBQUs0TCxJQUFJSSxFQUFRLEdBQUczTCxHQUN0RHlMLEVBQUlJLE9BQU9sTSxLQUFLNEwsSUFBSUksR0FBTzVMLEVBQUdKLEtBQUs0TCxJQUFJSSxHQUFPM0wsS0FHMUQsRUEzRUEsR0NHTyxTQUFTc0YsRUFBY3dHLEdBQzFCLE9BQU90TCxLQUFLdUwsR0FBS0QsRUFBSSxJQUdsQixJQXdDSzlELEVBdENMLFNBQVNoRyxFQUFhZ0UsRUFBV0QsR0FDcEMsT0FBT3ZGLEtBQUt3TCxJQUFJaEcsRUFBSUQsR0FITyxLQU14QixTQUFTM0QsRUFBTXJDLEVBQVdPLEVBQWFHLEdBQzFDLE9BQUlWLEVBQUlVLEVBQ0dBLEVBQ0ZWLEVBQUlPLEVBQ0ZBLEVBRUFQLEVBR1IsU0FBU2tNLEVBQWtCQyxFQUF1QnBJLEdBS3JELE9BSm9Cb0ksRUFBU0MsS0FBSSxTQUFBQyxHQUFPLE9BQUFBLEVBQUk5QixFQUFFekcsSUFBSUMsRUFBS3NJLEVBQUl2SyxNQUN0RHdLLFFBQU8sU0FBQUMsR0FBUSxPQUFBQSxFQUFLckksVUFDcEJzSSxNQUFLLFNBQUN2RyxFQUFZRCxHQUFlLE9BQUFDLEVBQUU5RCxFQUFJNkQsRUFBRTdELEtBa0IzQyxTQUFTRCxFQUFLK0QsRUFBV0QsRUFBVzdELEdBQ3ZDLE9BQU84RCxFQUFJOUQsR0FBSzZELEVBQUlDLEdBWWpCLFNBQVMyQixFQUFLUyxFQUNqQmIsRUFDQUMsRUFDQUMsRUFDQXZELEdBRUEsSUFBSXNJLEVBQXFCLEdBRXJCQyxFQUFnQixTQUFVdE0sRUFBWUMsR0FDdEMsSUFBSTBELEVBQU0sSUFBSSxFQUFNM0QsRUFBR3VNLGVBQWdCdE0sRUFBR3NNLGdCQUV0Q3hLLEVBQUksRUFDUixPQUFRZ0MsR0FDSixLQUFLOEQsRUFBVUMsSUFDWC9GLEVBQUk0QixFQUFJWCxtQkFDUixNQUNKLEtBQUs2RSxFQUFVRSxLQUNYaEcsRUFBSTRCLEVBQUlSLHdCQUNSLE1BQ0osS0FBSzBFLEVBQVUyRSxNQUNYekssRUFBSTRCLEVBQUliLG1CQUNSLE1BQ0osS0FBSytFLEVBQVU0RSxLQUNYMUssRUFBSTRCLEVBQUlWLHlCQUNSLE1BQ0osS0FBSzRFLEVBQVU2RSxJQUNYM0ssRUFBSTRCLEVBQUlaLG1CQUNSLE1BQ0osS0FBSzhFLEVBQVU4RSxPQUNYNUssRUFBSTRCLEVBQUlULHlCQUloQixPQUFPLE9BQVlsRCxFQUFJQyxFQUFJOEIsSUFJM0I2SyxFQUFnQixTQUFVNU0sRUFBWUMsRUFBWUMsR0FHbERtTSxFQUFPLEdBQUssSUFBSSxFQUFTck0sRUFBSXNNLEVBQWN0TSxFQUFJQyxHQUFLcU0sRUFBY3RNLEVBQUlFLEtBSXRFMk0sRUFBaUIsU0FBVTdNLEVBQVlDLEVBQVlDLEdBR25ELElBQUk0TSxFQUFTUixFQUFjcE0sRUFBSUYsR0FDM0IrTSxFQUFTVCxFQUFjdE0sRUFBSUMsR0FFL0JvTSxFQUFPLEdBQUssSUFBSSxFQUFTbk0sRUFBSTRNLEVBQVFDLEdBQ3JDVixFQUFPLEdBQUssSUFBSSxFQUFTbk0sRUFBSTZNLEVBQVE5TSxJQTJDekMsT0F0Q0ltSCxFQUFPYSxHQUVIWixFQUFPWSxHQUVIWCxFQUFPVyxJQUtQMkUsRUFBYzNFLEVBQVMvSCxHQUFJK0gsRUFBU2pJLEdBQUlpSSxFQUFTaEksSUFJakRxSCxFQUFPVyxHQUNQMkUsRUFBYzNFLEVBQVNoSSxHQUFJZ0ksRUFBUy9ILEdBQUkrSCxFQUFTakksSUFFakQ2TSxFQUFlNUUsRUFBU2pJLEdBQUlpSSxFQUFTaEksR0FBSWdJLEVBQVMvSCxJQUt0RG1ILEVBQU9ZLEdBRUhYLEVBQU9XLEdBQ1AyRSxFQUFjM0UsRUFBU2pJLEdBQUlpSSxFQUFTaEksR0FBSWdJLEVBQVMvSCxJQUVqRDJNLEVBQWU1RSxFQUFTaEksR0FBSWdJLEVBQVMvSCxHQUFJK0gsRUFBU2pJLElBSWxEc0gsRUFBT1csR0FDUDRFLEVBQWU1RSxFQUFTL0gsR0FBSStILEVBQVNqSSxHQUFJaUksRUFBU2hJLElBR2xEb00sRUFBTyxHQUFLcEUsRUFJakJvRSxHQXZHWCxTQUFZeEUsR0FDUixtQkFDQSxpQkFDQSxxQkFDQSxtQkFDQSxpQkFDQSx1QkFOSixDQUFZQSxJQUFBQSxFQUFTLEtBMEdyQix5QkFFVyxFQUFBbUYsT0FBUCxTQUFjQyxFQUFjQyxHQUV4QixJQUFJQyxFQUFLLEVBQUdDLEVBQUssRUFDakIsSUFBTUQsRUFBS0YsRUFBS2pILFdBQVdxSCxNQUFNLEtBQUssR0FBR2xMLE9BQVMsTUFBT21MLElBQ3pELElBQU1GLEVBQUtGLEVBQUtsSCxXQUFXcUgsTUFBTSxLQUFLLEdBQUdsTCxPQUFTLE1BQU9tTCxJQUl6RCxPQUZLQyxPQUFPTixFQUFLakgsV0FBV3dILFFBQVEsSUFBSyxLQUNwQ0QsT0FBT0wsRUFBS2xILFdBQVd3SCxRQUFRLElBQUssS0FDdEJuTixLQUFLb04sSUFBSSxHQUFJTCxFQUFLRCxJQUlsQyxFQUFBTyxPQUFQLFNBQWNULEVBQWNDLEdBRXhCLElBQUlTLEVBQUlDLEVBQUlDLEVBQUd6SSxFQUNmLElBQU11SSxFQUFLVixFQUFLakgsV0FBV3FILE1BQU0sS0FBSyxHQUFHbEwsT0FBUyxNQUFPbUwsR0FBS0ssRUFBSyxFQUNuRSxJQUFNQyxFQUFLVixFQUFLbEgsV0FBV3FILE1BQU0sS0FBSyxHQUFHbEwsT0FBUyxNQUFPbUwsR0FBS00sRUFBSyxFQUduRSxHQUZBeEksRUFBSS9FLEtBQUt3TCxJQUFJOEIsRUFBS0MsR0FDbEJDLEVBQUl4TixLQUFLb04sSUFBSSxHQUFJcE4sS0FBS0MsSUFBSXFOLEVBQUlDLElBQzFCeEksRUFBSSxFQUFHLENBQ1AsSUFBSTBJLEVBQUt6TixLQUFLb04sSUFBSSxHQUFJckksR0FDbEJ1SSxFQUFLQyxHQUNMWCxFQUFPTSxPQUFPTixFQUFLakgsV0FBV3dILFFBQVEsSUFBSyxLQUMzQ04sRUFBT0ssT0FBT0wsRUFBS2xILFdBQVd3SCxRQUFRLElBQUssS0FBT00sSUFHbERiLEVBQU9NLE9BQU9OLEVBQUtqSCxXQUFXd0gsUUFBUSxJQUFLLEtBQU9NLEVBQ2xEWixFQUFPSyxPQUFPTCxFQUFLbEgsV0FBV3dILFFBQVEsSUFBSyxXQUkvQ1AsRUFBT00sT0FBT04sRUFBS2pILFdBQVd3SCxRQUFRLElBQUssS0FDM0NOLEVBQU9LLE9BQU9MLEVBQUtsSCxXQUFXd0gsUUFBUSxJQUFLLEtBRS9DLE9BQVFQLEVBQU9DLEdBQVFXLEdBcEMvQixHQXlDQSx5QkFFVyxFQUFBRSxTQUFQLFNBQWdCQyxFQUFlQyxFQUFlQyxFQUFhQyxHQUV2RCxJQUFJQyxFQUFNSixFQUNObkwsRUFBS29MLEVBQ0x4SyxFQUFPLFFBQWVaLEVBQUl1TCxHQUUxQkMsRUFBTyxJQUNYLEdBQWMsR0FBVjVLLEVBQUs1RCxFQWdCVCxHQUFjLEdBQVY0RCxFQUFLN0QsRUFBVCxDQWdCQSxJQUFJME8sRUFBUTdLLEVBQUs3RCxFQUFJNkQsRUFBSzVELEVBQ3RCME8sRUFBUWxPLEtBQUt3TCxJQUFJeUMsR0FFckIsR0FBSUEsRUFBUSxHQUNSLEdBQUlDLEdBQVMsRUFDVCxJQUFTdEssRUFBSSxFQUFHQSxFQUFJb0ssRUFBTXBLLElBQUssQ0FDM0JtSyxFQUFJdk8sRUFBSXVPLEVBQUl2TyxFQUFJLEVBQ2hCdU8sRUFBSXhPLEVBQUl3TyxFQUFJeE8sRUFBSTJPLEVBQ2hCLElBQUlDLEVBQU9uTyxLQUFLMEosTUFBTXFFLEVBQUl4TyxHQUMxQixJQUFLdU8sRUFBT00sZUFBZUQsRUFBTUosRUFBSXZPLEdBQ2pDLE1BRUosR0FBSXNPLEVBQU9PLGlCQUFpQk4sRUFBSXhPLEVBQUd3TyxFQUFJdk8sRUFBR2dELEVBQUdqRCxFQUFHaUQsRUFBR2hELEdBQy9DLE1BRUpzTyxFQUFPN0QsSUFBSWtFLEVBQU1KLEVBQUl2TyxFQUFHcU8sUUFHM0IsR0FBSUssRUFBUSxFQUNiLElBQVN0SyxFQUFJLEVBQUdBLEVBQUlvSyxFQUFNcEssSUFBSyxDQUMzQm1LLEVBQUl2TyxFQUFJdU8sRUFBSXZPLEVBQUksRUFBSTBPLEVBQ3BCSCxFQUFJeE8sRUFBSXdPLEVBQUl4TyxFQUFJLEVBQ2hCLElBQUkrTyxFQUFPdE8sS0FBSzBKLE1BQU1xRSxFQUFJdk8sR0FDMUIsSUFBS3NPLEVBQU9NLGVBQWVMLEVBQUl4TyxFQUFHK08sR0FDOUIsTUFFSixHQUFJUixFQUFPTyxpQkFBaUJOLEVBQUl4TyxFQUFHd08sRUFBSXZPLEVBQUdnRCxFQUFHakQsRUFBR2lELEVBQUdoRCxHQUMvQyxNQUVKc08sRUFBTzdELElBQUk4RCxFQUFJeE8sRUFBRytPLEVBQU1ULFNBSS9CLEdBQUlJLEVBQVEsRUFDYixHQUFJQyxHQUFTLEVBQ1QsSUFBU3RLLEVBQUksRUFBR0EsRUFBSW9LLElBQ2hCRCxFQUFJdk8sRUFBSXVPLEVBQUl2TyxFQUFJLEVBQ2hCdU8sRUFBSXhPLEVBQUl3TyxFQUFJeE8sRUFBSTJPLEVBQ1pDLEVBQU9uTyxLQUFLMEosTUFBTXFFLEVBQUl4TyxHQUNyQnVPLEVBQU9NLGVBQWVELEVBQU1KLEVBQUl2TyxNQUdqQ3NPLEVBQU9TLGlCQUFpQlIsRUFBSXhPLEVBQUd3TyxFQUFJdk8sRUFBR2dELEVBQUdqRCxFQUFHaUQsRUFBR2hELEdBUDdCb0UsSUFVdEJrSyxFQUFPN0QsSUFBSWtFLEVBQU1KLEVBQUl2TyxFQUFHcU8sUUFHM0IsR0FBSUssRUFBUSxFQUNiLElBQVN0SyxFQUFJLEVBQUdBLEVBQUlvSyxJQUNoQkQsRUFBSXZPLEVBQUl1TyxFQUFJdk8sRUFBSSxFQUFJME8sRUFDcEJILEVBQUl4TyxFQUFJd08sRUFBSXhPLEVBQUksRUFDWitPLEVBQU90TyxLQUFLMEosTUFBTXFFLEVBQUl2TyxHQUNyQnNPLEVBQU9NLGVBQWVMLEVBQUl4TyxFQUFHK08sTUFHOUJSLEVBQU9TLGlCQUFpQlIsRUFBSXhPLEVBQUd3TyxFQUFJdk8sRUFBR2dELEVBQUdqRCxFQUFHaUQsRUFBR2hELEdBUDdCb0UsSUFVdEJrSyxFQUFPN0QsSUFBSThELEVBQUl4TyxFQUFHK08sRUFBTVQsUUF6RWhDLElBQUssSUFBSWpLLEVBQUksRUFBR0EsRUFBSW9LLElBRWhCRCxFQUFJdk8sRUFBSXVPLEVBQUl2TyxFQUFJLEVBQ1hzTyxFQUFPTSxlQUFlTCxFQUFJeE8sRUFBR3dPLEVBQUl2TyxPQUdsQ3VPLEVBQUl2TyxFQUFJZ0QsRUFBR2hELEdBTk9vRSxJQVN0QmtLLEVBQU83RCxJQUFJOEQsRUFBSXhPLEVBQUd3TyxFQUFJdk8sRUFBR3FPLFFBekI3QixJQUFTakssRUFBSSxFQUFHQSxFQUFJb0ssSUFFaEJELEVBQUl4TyxFQUFJd08sRUFBSXhPLEVBQUksRUFDWHVPLEVBQU9NLGVBQWVMLEVBQUl4TyxFQUFHd08sRUFBSXZPLE9BR2xDdU8sRUFBSXhPLEVBQUlpRCxFQUFHakQsR0FOT3FFLElBU3RCa0ssRUFBTzdELElBQUk4RCxFQUFJeE8sRUFBR3dPLEVBQUl2TyxFQUFHcU8sSUF1RjlCLEVBQUFXLFdBQVAsU0FBa0JYLEVBQWFDLEdBUTNCLElBUEEsSUFDSVcsRUFBUSxFQUFJek8sS0FBS3VMLEdBRFosR0FHTG1ELEVBQVMsSUFBSSxFQUFTLEdBQUksSUFDMUJDLEdBQWMzTyxLQUFLdUwsR0FBSyxFQUduQjNILEVBQUksRUFBR0EsRUFQUCxHQU9lQSxJQUFLLENBQ3pCLElBQUlnTCxFQUFPNU8sS0FBSzBKLE1BQU1nRixFQUFPblAsRUFOekIsRUFNaUNTLEtBQUtnRixJQUFJMkosRUFBYUYsRUFBUTdLLElBQy9EaUwsRUFBTzdPLEtBQUswSixNQUFNZ0YsRUFBT2xQLEVBUHpCLEVBT2lDUSxLQUFLaUYsSUFBSTBKLEVBQWFGLEVBQVE3SyxJQUUvRGtMLEVBQVE5TyxLQUFLMEosTUFBTWdGLEVBQU9uUCxFQVQxQixFQVNrQ1MsS0FBS2dGLElBQUkySixFQUFhRixHQUFTN0ssRUFBSSxLQUNyRW1MLEVBQVEvTyxLQUFLMEosTUFBTWdGLEVBQU9sUCxFQVYxQixFQVVrQ1EsS0FBS2lGLElBQUkwSixFQUFhRixHQUFTN0ssRUFBSSxLQUV6RW9MLEVBQVdDLGdCQUFnQixJQUFJLEVBQVNMLEVBQU1DLEdBQU8sSUFBSSxFQUFTQyxFQUFPQyxHQUFRbEIsRUFBT0MsS0FLekYsRUFBQW9CLFNBQVAsU0FBZ0JyQixFQUFhQyxHQVN6QixJQVJBLElBQ0lXLEVBQVEsRUFBSXpPLEtBQUt1TCxHQURaLEVBR0xtRCxFQUFTLElBQUksRUFBUyxHQUFJLElBQzFCQyxHQUFjM08sS0FBS3VMLEdBQUssRUFHeEI3RixFQUFJLEVBQ0M5QixFQUFJLEVBQUdBLEVBUlAsRUFRZUEsSUFBSyxDQUN6QixJQUFJZ0wsRUFBTzVPLEtBQUswSixNQUFNZ0YsRUFBT25QLEVBUHpCLEVBT2lDUyxLQUFLZ0YsSUFBSTJKLEVBQWFGLEVBQVEvSSxJQUMvRG1KLEVBQU83TyxLQUFLMEosTUFBTWdGLEVBQU9sUCxFQVJ6QixFQVFpQ1EsS0FBS2lGLElBQUkwSixFQUFhRixFQUFRL0ksSUFFL0RvSixFQUFROU8sS0FBSzBKLE1BQU1nRixFQUFPblAsRUFWMUIsRUFVa0NTLEtBQUtnRixJQUFJMkosRUFBYUYsR0FBUy9JLEVBQUksS0FDckVxSixFQUFRL08sS0FBSzBKLE1BQU1nRixFQUFPbFAsRUFYMUIsRUFXa0NRLEtBQUtpRixJQUFJMEosRUFBYUYsR0FBUy9JLEVBQUksS0FFekVzSixFQUFXQyxnQkFBZ0IsSUFBSSxFQUFTTCxFQUFNQyxHQUFPLElBQUksRUFBU0MsRUFBT0MsR0FBUWxCLEVBQU9DLEdBQ3hGcEksR0FBUSxJQUlULEVBQUF1SixnQkFBUCxTQUF1QkUsRUFBY3JDLEVBQWNlLEVBQWFDLEdBRXhEcUIsRUFBRzNQLEVBQUlzTixFQUFHdE4sRUFDVndQLEVBQVd0QixTQUFTeUIsRUFBSXJDLEVBQUllLEVBQU9DLEdBQzlCaEIsRUFBR3ROLEVBQUkyUCxFQUFHM1AsRUFDZndQLEVBQVd0QixTQUFTWixFQUFJcUMsRUFBSXRCLEVBQU9DLEdBSS9CcUIsRUFBRzVQLEVBQUl1TixFQUFHdk4sRUFDVnlQLEVBQVd0QixTQUFTeUIsRUFBSXJDLEVBQUllLEVBQU9DLEdBQzlCaEIsRUFBR3ZOLEVBQUk0UCxFQUFHNVAsR0FDZnlQLEVBQVd0QixTQUFTWixFQUFJcUMsRUFBSXRCLEVBQU9DLElBaEtuRCxHLFFDdE1BLFdBcUJJLFdBQVl4TCxFQUFXaUksRUFBV2hJLEVBQVczQixFQUFXQyxHQUNwRDFCLEtBQUttRCxFQUFJQSxFQUNUbkQsS0FBS29MLEVBQUlBLEVBQ1RwTCxLQUFLb0QsRUFBSUEsRUFDVHBELEtBQUt5QixFQUFJQSxFQUNUekIsS0FBSzBCLEVBQUlBLEVBb0JqQixPQTdDVyxFQUFBdU8sYUFBUCxTQUFvQjlNLEVBQVdpSSxFQUFXaEksRUFBVzNCLEVBQVdDLEdBRTVELE9BRGEsSUFBSXdPLEVBQU8vTSxFQUFHaUksRUFBR2hJLEVBQUczQixFQUFHQyxJQUlqQyxFQUFBWSxLQUFQLFNBQVk5QixFQUFZQyxFQUFZOEIsR0FNaEMsT0FBTyxJQUFJMk4sRUFMSCxPQUFZMVAsRUFBRzJDLEVBQUcxQyxFQUFHMEMsRUFBR1osR0FDeEIsT0FBWS9CLEVBQUc0SyxFQUFHM0ssRUFBRzJLLEVBQUc3SSxHQUN4QkQsRUFBSzlCLEVBQUc0QyxFQUFHM0MsRUFBRzJDLEVBQUdiLEdBQ2pCRCxFQUFLOUIsRUFBR2lCLEVBQUdoQixFQUFHZ0IsRUFBR2MsR0FDakJELEVBQUs5QixFQUFHa0IsRUFBR2pCLEVBQUdpQixFQUFHYSxLQWtCN0IsWUFBQVMsTUFBQSxXQUNJLE9BQU8sSUFBSWtOLEVBQU9sUSxLQUFLbUQsRUFBRUgsUUFBU2hELEtBQUtvTCxFQUFFcEksUUFBU2hELEtBQUtvRCxFQUFHcEQsS0FBS3lCLEVBQUd6QixLQUFLMEIsSUFHM0UsWUFBQTZILFNBQUEsU0FBU3BHLEdBRUwsT0FEQW5ELEtBQUttRCxFQUFJQSxFQUNGbkQsTUFHWCxZQUFBd0osU0FBQSxTQUFTcEcsR0FFTCxPQURBcEQsS0FBS29ELEVBQUlBLEVBQ0ZwRCxNQUdYLFlBQUErTSxhQUFBLFdBQ0ksT0FBTyxJQUFJLEVBQVMvTSxLQUFLbUQsRUFBR25ELEtBQUtvRCxJQUV6QyxFQTlDQSxHLEVDR0EsV0FHSSxhQUVJcEQsS0FBS21RLFVBQVksR0FFakIsSUFBSS9FLEVBQUksSUFBSSxFQUFPLEVBQUcsR0FBSSxHQUMxQnBMLEtBQUttUSxVQUFVbEksS0FDWCxJQUFJLEVBQ0EsSUFBSSxFQUFPLElBQUksR0FBUSxJQUFLLElBQUssSUFBS21ELEVBQUcsRUFBRyxFQUFHLEdBQy9DLElBQUksRUFBTyxJQUFJLEVBQU8sR0FBSSxJQUFLLElBQUtBLEVBQUcsRUFBRyxFQUFHLEdBQzdDLElBQUksRUFBTyxJQUFJLEVBQU8sSUFBSyxJQUFLLElBQUtBLEVBQUcsRUFBRyxFQUFHLEtBRXREcEwsS0FBS21RLFVBQVVsSSxLQUNYLElBQUksRUFDQSxJQUFJLEVBQU8sSUFBSSxHQUFRLElBQUssSUFBSyxJQUFLbUQsRUFBRyxFQUFHLEVBQUcsR0FDL0MsSUFBSSxFQUFPLElBQUksR0FBUSxHQUFJLElBQUssSUFBS0EsRUFBRyxFQUFHLEVBQUcsR0FDOUMsSUFBSSxFQUFPLElBQUksRUFBTyxHQUFJLElBQUssSUFBS0EsRUFBRyxFQUFHLEVBQUcsS0FJckQsSUFEQSxJQUFJaUQsRUFBSSxDQUFDLFlBQW9CLElBQUssWUFBb0IsS0FBTSxZQUFvQixLQUFNLFlBQW9CLElBQUssYUFBcUIsS0FDM0g1SixFQUFJLEVBQUdBLEVBQUk0SixFQUFFMUwsU0FBVThCLEVBQUcsQ0FDL0IsSUFBSTJMLEVBQWUvQixFQUFFNUosR0FDakJ3RixFQUFLLGlCQUF5Qm1HLEVBQWNoRixHQUNoRHBMLEtBQUttUSxVQUFVbEksS0FDWCxJQUFJLEVBQ0EsZUFBb0IsaUJBQXlCbUksRUFBYyxJQUFJLEdBQVMsSUFBSyxJQUFLLEtBQU1uRyxFQUFJLEVBQUcsRUFBRyxHQUNsRyxlQUFvQixpQkFBeUJtRyxFQUFjLElBQUksRUFBTyxHQUFJLElBQUssS0FBTW5HLEVBQUksRUFBRyxFQUFHLEdBQy9GLGVBQW9CLGlCQUF5Qm1HLEVBQWMsSUFBSSxFQUFPLElBQUssSUFBSyxLQUFNbkcsRUFBSSxFQUFHLEVBQUcsS0FFeEdqSyxLQUFLbVEsVUFBVWxJLEtBQ1gsSUFBSSxFQUNBLGVBQW9CLGlCQUF5Qm1JLEVBQWMsSUFBSSxHQUFRLElBQUssSUFBSyxLQUFNbkcsRUFBSSxFQUFHLEVBQUcsR0FDakcsZUFBb0IsaUJBQXlCbUcsRUFBYyxJQUFJLEdBQVEsR0FBSSxJQUFLLEtBQU1uRyxFQUFJLEVBQUcsRUFBRyxHQUNoRyxlQUFvQixpQkFBeUJtRyxFQUFjLElBQUksRUFBTyxHQUFJLElBQUssS0FBTW5HLEVBQUksRUFBRyxFQUFHLE1BNENuSCxPQXZDSSxZQUFBMEIsVUFBQSxTQUFVMEUsRUFBZ0IzSCxFQUEyQmdCLEVBQW9CQyxFQUEwQkMsR0FpQi9GNUosS0FBS3NRLHFCQUF1QnRRLEtBQUttUSxVQUdqQyxJQUFLLElBQUkxTCxFQUFJLEVBQUdBLEVBQUl6RSxLQUFLc1EscUJBQXFCM04sU0FBVThCLEVBQ3BEekUsS0FBS3NRLHFCQUFxQjdMLEdBQUdrSCxVQUFVMEUsRUFBUTNILEVBQWdCZ0IsRUFBU0MsRUFBaUJDLElBSWpHLFlBQUEyRyxVQUFBLFNBQVV6RSxHQUVOQSxFQUFJMEUseUJBQTJCLG1CQUUvQjFFLEVBQUkyRSxZQUFjLGtCQUdsQjNFLEVBQUk0RSxZQUVKLElBQUssSUFBSWpNLEVBQUksRUFBR0EsRUFBSXpFLEtBQUtzUSxxQkFBcUIzTixTQUFVOEIsRUFDcER6RSxLQUFLc1EscUJBQXFCN0wsR0FBR29ILEtBQUtDLEdBRXRDQSxFQUFJNkUsVUFFWixFQS9FQSxHLEVDRkEsV0FTSSxXQUFZMUosR0FDUmpILEtBQUtpSCxNQUFRQSxFQVVyQixPQVBJLFlBQUEySixRQUFBLFNBQVFDLEVBQW1CQyxFQUE2QnZFLEVBQXVCd0UsR0FDM0UsSUFBSTNGLEVBQUl5RixFQUFTaE4sT0FDYm1OLEVBQVd2TyxHQUFPLE1BQVdxTyxFQUFxQjFGLEdBQUksRUFBRyxHQUV6RDZGLEVIZ0JMLFNBQTJCSixFQUFtQkMsRUFBNkJ2RSxHQUc5RSxJQUFJeE0sRUFBTStRLEVBQW9CaE8sV0FDMUJoRCxFQUFPK1EsRUFBU3JNLFFBQVFsRCxJQUFJdkIsRUFBSXdCLFNBM0JULE9BOEIzQixPQUE0QixHQURSK0ssRUFBa0JDLEVBRDVCLElBQUksRUFBSXpNLEVBQU1DLElBRU40QyxPQUNQLElBRUEsRUcxQmF1TyxDQUFrQkwsRUFBVUMsRUFBcUJ2RSxHQUNyRSxPQUFPdk0sS0FBS2lILE1BQU0xRixTQUFTeVAsR0FBVXpQLFNBQVMwUCxJQWpCM0MsRUFBQXRLLE9BQVMsSUFBSXdLLEVBQVEsSUFBSSxFQUFPLEVBQUcsRUFBRyxJQUN0QyxFQUFBckssSUFBTSxJQUFJcUssRUFBUSxJQUFJLEVBQU8sRUFBRyxFQUFHLElBQ25DLEVBQUFDLE1BQVEsSUFBSUQsRUFBUSxJQUFJLEVBQU8sRUFBRyxFQUFHLElBQ3JDLEVBQUFFLEtBQU8sSUFBSUYsRUFBUSxJQUFJLEVBQU8sRUFBRyxFQUFHLElBQ3BDLEVBQUFHLEtBQU8sSUFBSUgsRUFBUSxJQUFJLEVBQU8sR0FBSyxHQUFLLEtBQ3hDLEVBQUFJLE1BQVEsSUFBSUosRUFBUSxJQUFJLEVBQU8sRUFBRyxFQUFHLElBY2hELEVBcEJBLEcsRUNFQSxXQXlCSSxXQUFZSyxFQUFhQyxFQUFpQkMsRUFBb0JDLEVBQWlCQyxFQUFpQi9QLEVBQVdnUSxHQW9DM0csS0FBQUMsUUFBVSxTQUFVNVAsRUFBV0YsR0FDM0JoQyxLQUFLd1IsSUFBTSxNQUFXeFIsS0FBS3dSLElBQUt4UCxFQUFFVCxTQUFTVyxLQW5DM0NsQyxLQUFLOE8sTUFBUTZDLEVBQVVDLEVBQ3ZCNVIsS0FBSzJSLFFBQVVBLEVBQ2YzUixLQUFLNFIsUUFBVUEsRUFDZjVSLEtBQUsrUixjQUErQixHQUFmL1IsS0FBSzJSLFFBQzFCM1IsS0FBS2dTLGNBQStCLEdBQWZoUyxLQUFLNFIsUUFDMUI1UixLQUFLaVMsTUFBdUIsR0FBZmpTLEtBQUsyUixRQUNsQjNSLEtBQUtrUyxNQUF1QixHQUFmbFMsS0FBSzRSLFFBR2xCNVIsS0FBS21TLE9BQVMsUUFBYVYsRUFBU0QsR0FBS3BRLFlBR3pDLElBQUlnUixFQUFTLEtBQ2JwUyxLQUFLcVMsT0FBUyxRQUFhRCxFQUFRcFMsS0FBS21TLFFBQVEvUSxZQUNoRHBCLEtBQUtzUyxPQUFTLFFBQWF0UyxLQUFLbVMsT0FBUW5TLEtBQUtxUyxRQUc3Q3JTLEtBQUt3UixJQUFNQSxFQUdYeFIsS0FBSzBSLFdBQWFBLEVBR2xCMVIsS0FBSzZCLEVBQUlBLEVBQ1Q3QixLQUFLNlIsRUFBSUEsRUFJVDdSLEtBQUtxRyxFQUFJd0wsR0FBS0EsRUFBSWhRLEdBQ2xCN0IsS0FBS29HLEdBQUt2RSxFQUFJZ1EsR0FBS0EsRUFBSWhRLEdBRXZCeUosUUFBUUMsSUFBSXZMLEtBQUtxRyxFQUFHckcsS0FBS29HLEdBdUdqQyxPQWhHSSxZQUFBbU0sU0FBQSxTQUFTOU0sS0FJVCxZQUFBK00sT0FBQSxTQUFPL00sS0FJUCxZQUFBZ04sZUFBQSxTQUFlQyxFQUFrQkMsRUFBa0I3RCxHQUMvQyxJQUFJOEQsRUFBZWpOLEVBQWMsR0FBTTNGLEtBQUswUixZQUN4Q21CLEVBQVFoUyxLQUFLaVMsSUFBSUYsR0FDakJHLEVBQVFGLEVBQVEvRCxFQU1wQixPQUpVOU8sS0FBS21TLE9BQ1Y3USxJQUFJdEIsS0FBS3FTLE9BQU85USxTQUFTbVIsRUFBV0ssSUFDcEN6UixJQUFJdEIsS0FBS3NTLE9BQU8vUSxTQUFTb1IsRUFBV0UsS0FLN0MsWUFBQTlKLGNBQUEsU0FBYy9HLEdBQ1YsSUFBSWlDLEVBQU9qQyxFQUFFZixNQUFNakIsS0FBS3dSLEtBRXhCLE9BRDRCLElBQUksRUFBTyxNQUFXdk4sRUFBTWpFLEtBQUtxUyxRQUFTLE1BQVdwTyxFQUFNakUsS0FBS3NTLFFBQVMsTUFBV3JPLEVBQU1qRSxLQUFLbVMsVUFJL0gsWUFBQWhKLGtCQUFBLFNBQWtCbkgsR0FDZCxJQUNJZ1IsRUFBVyxHQUREck4sRUFBYzNGLEtBQUswUixZQUU3QnVCLEVBQVUsRUFBSXBTLEtBQUtpUyxJQUFJRSxHQUN2QkUsRUFBVSxHQUFLbFQsS0FBSzhPLE1BQVFqTyxLQUFLaVMsSUFBSUUsSUFFekMsT0FBTyxJQUFJLEVBQU9oUixFQUFFNUIsRUFBSThTLEVBQVNsUixFQUFFM0IsRUFBSTRTLEVBQVNqUixFQUFFMUIsRUFBSU4sS0FBS3FHLEVBQUlyRyxLQUFLb0csSUFHeEUsWUFBQTJELE1BQUEsU0FBTS9ILEVBQVdvQixHQUNiLElBQUlsQixFQUFJLEVBQUlrQixFQUNaLE9BQU9wQixFQUFFVCxTQUFTVyxJQUd0QixZQUFBaUksY0FBQSxTQUFjZ0osR0FJVixJQUFJL1MsRUFBSUosS0FBS2lTLE1BQVFrQixFQUFNL1MsRUFBSUosS0FBSytSLGNBQ2hDMVIsR0FBS0wsS0FBS2tTLE1BQVFpQixFQUFNOVMsRUFBSUwsS0FBS2dTLGNBR3JDLE9BRFcsSUFBSSxFQUFPNVIsRUFBR0MsRUFBRyxJQUtoQyxZQUFBK1MsT0FBQSxTQUFPOUwsRUFBNkJpRixHQUFwQyxXQUNRdUUsRUFBc0IsSUFBSSxFQUFPLEdBQUksRUFBRyxHQUFHMVAsWUFFM0NpUyxFQUFvQixHQUFNL0wsRUFBY3FELEVBQ3hDMkksRUFBbUIsQ0FDbkIsQ0FBRWxULEVBQUcsRUFBR0MsRUFBRyxHQUNYLENBQUVELEVBQUdpVCxFQUFtQmhULEVBQUdnVCxHQUMzQixDQUFFalQsR0FBSWlULEVBQW1CaFQsRUFBR2dULEdBQzVCLENBQUVqVCxHQUFJaVQsRUFBbUJoVCxHQUFJZ1QsR0FDN0IsQ0FBRWpULEVBQUdpVCxFQUFtQmhULEdBQUlnVCxJQUdoQy9MLEVBQWNpTSxjQUFhLFNBQUNiLEVBQWtCQyxFQUFrQjdELEdBQzVELElBQUkwRSxFQUFVLEVBQUtmLGVBQWVDLEVBQVVDLEVBQVU3RCxHQVlsRDJFLEVBVE9ILEVBQWlCOUcsS0FBSSxTQUFBdkksR0FFNUIsSUFBSWxFLEVBQU15VCxFQUFRbFMsSUFBSSxFQUFLK1EsT0FBTzlRLFNBQVMwQyxFQUFLN0QsSUFBSWtCLElBQUksRUFBS2dSLE9BQU8vUSxTQUFTMEMsRUFBSzVELElBR2xGLE9BQU8sSUFBSSxFQUFJLEVBQUttUixJQUFLelIsRUFBSXFCLGdCQUlmb0wsS0FBSSxTQUFBckksR0FDbEIsSUFBSXVQLEVBQWdCcEgsRUFBa0JDLEVBQVVwSSxHQUloRCxHQURxQyxHQUF4QnVQLEVBQWMvUSxPQUNmLENBQ1IsSUFBSWtPLEVBQVc2QyxFQUFjLEdBQzdCLE9BQU83QyxFQUFTM08sRUFBRTBPLFFBQVFDLEVBQVVDLEVBQXFCdkUsRUFBVSxHQUVuRSxPQUFPLGdCQUtYb0gsRUFBUUwsRUFBaUIzUSxPQUU3QixPQURrQjhRLEVBQU9HLFFBQU8sU0FBQ0MsRUFBcUJDLEdBQW9CLE9BQUFELEVBQVl2UyxJQUFJd1MsS0FBVSxRQUFhdlMsU0FBUyxFQUFJb1MsT0FJMUksRUFqS0EsRyxFQ05BLFdBSUksV0FBWXZRLEVBQWlCdUgsUUFBakIsSUFBQXZILElBQUFBLEVBQUEsVUFBaUIsSUFBQXVILElBQUFBLEVBQUEsS0FIN0IsS0FBQXZILEVBQVksSUFDWixLQUFBdUgsRUFBWSxJQUNaLEtBQUFvSixXQUE4QixLQUUxQi9ULEtBQUtvRCxFQUFJQSxFQUNUcEQsS0FBSzJLLEVBQUlBLEVBQ1QzSyxLQUFLK1QsV0FBYSxJQUFJQyxnQkFBZ0JoVSxLQUFLb0QsRUFBR3BELEtBQUsySyxHQXNHM0QsT0FuR0ksWUFBQTRJLGFBQUEsU0FBYVUsR0FXVCxJQVRBLElBQUlDLEVBQWFsVSxLQUFLK1QsV0FBV0ksV0FBVyxNQUd4Q0MsRUFBa0JGLEVBQVdHLGFBQWEsRUFBRyxFQUFHclUsS0FBS29ELEVBQUdwRCxLQUFLMkssR0FDN0QySixFQUF3QkYsRUFBZ0JHLEtBRXhDekYsRUFBUTlPLEtBQUtvRCxFQUFJcEQsS0FBSzJLLEVBR2pCdEssRUFBSSxFQUFHQSxFQUFJTCxLQUFLMkssSUFBS3RLLEVBQzFCLElBQUssSUFBSUQsRUFBSSxFQUFHQSxFQUFJSixLQUFLb0QsSUFBS2hELEVBQUcsQ0FFN0IsSUFBSTRMLEVBQVEsR0FBSzVMLEVBQUlDLEVBQUlMLEtBQUtvRCxHQU0xQm9SLEdBQU1wVSxFQUFJLElBQU9KLEtBQUtvRCxFQUN0QnFSLEdBQU1wVSxFQUFJLElBQU9MLEtBQUsySyxFQVN0QjFELEVBQVFnTixFQUhPLEVBQUpPLEVBQVEsRUFDSixHQUpuQkMsRUFBSSxFQUFJQSxHQUllLEVBRWMzRixHQUNqQzVJLEVBQUllLEVBQU03RyxFQUNWK0YsRUFBSWMsRUFBTTVHLEVBQ1YrRixFQUFJYSxFQUFNM0csRUFHVm9VLEVBQVEsRUFBSSxJQUNoQnhPLEVBQUlyRixLQUFLb04sSUFBSS9ILEVBQUd3TyxHQUNoQnZPLEVBQUl0RixLQUFLb04sSUFBSTlILEVBQUd1TyxHQUNoQnRPLEVBQUl2RixLQUFLb04sSUFBSTdILEVBQUdzTyxHQUVoQkosRUFBc0J0SSxLQUFXbkwsS0FBSzhULE1BQVUsSUFBSnpPLEdBQzVDb08sRUFBc0J0SSxLQUFXbkwsS0FBSzhULE1BQVUsSUFBSnhPLEdBQzVDbU8sRUFBc0J0SSxLQUFXbkwsS0FBSzhULE1BQVUsSUFBSnZPLEdBQzVDa08sRUFBc0J0SSxHQUFTLElBR3ZDa0ksRUFBV1UsYUFBYVIsRUFBaUIsRUFBRyxJQUdoRCxZQUFBN00sVUFBQSxTQUFVME0sR0FXTixJQVRBLElBQUlDLEVBQWFsVSxLQUFLK1QsV0FBV0ksV0FBVyxNQUd4Q0MsRUFBa0JGLEVBQVdHLGFBQWEsRUFBRyxFQUFHclUsS0FBS29ELEVBQUdwRCxLQUFLMkssR0FDN0QySixFQUF3QkYsRUFBZ0JHLEtBS25DbFUsR0FIR0wsS0FBS29ELEVBQUlwRCxLQUFLMkssRUFHYixHQUFHdEssRUFBSUwsS0FBSzJLLElBQUt0SyxFQUMxQixJQUFLLElBQUlELEVBQUksRUFBR0EsRUFBSUosS0FBS29ELElBQUtoRCxFQUFHLENBRTdCLElBQUk0TCxFQUFRLEdBQUs1TCxFQUFJQyxFQUFJTCxLQUFLb0QsR0FFMUI2RCxFQUFRZ04sRUFBSzdULEVBQUdDLEdBQ2hCNkYsRUFBSWUsRUFBTWYsRUFDVkMsRUFBSWMsRUFBTWQsRUFDVkMsRUFBSWEsRUFBTWIsRUFHVnNPLEVBQVEsRUFBSSxJQUNoQnhPLEVBQUlyRixLQUFLb04sSUFBSS9ILEVBQUd3TyxHQUNoQnZPLEVBQUl0RixLQUFLb04sSUFBSTlILEVBQUd1TyxHQUNoQnRPLEVBQUl2RixLQUFLb04sSUFBSTdILEVBQUdzTyxHQUVoQkosRUFBc0J0SSxLQUFXbkwsS0FBSzhULE1BQVUsSUFBSnpPLEdBQzVDb08sRUFBc0J0SSxLQUFXbkwsS0FBSzhULE1BQVUsSUFBSnhPLEdBQzVDbU8sRUFBc0J0SSxLQUFXbkwsS0FBSzhULE1BQVUsSUFBSnZPLEdBQzVDa08sRUFBc0J0SSxHQUFTLElBR3ZDa0ksRUFBV1UsYUFBYVIsRUFBaUIsRUFBRyxJQUdoRCxZQUFBM00sWUFBQSxTQUFZb04sR0FHUixJQUFJQyxFQUFTQyxTQUFTQyxlQUFlSCxHQUNyQ0MsRUFBT0csTUFBTUMsTUFBUWxWLEtBQUtvRCxFQUFJLEtBQzlCMFIsRUFBT0csTUFBTUUsT0FBU25WLEtBQUsySyxFQUFJLEtBQy9CbUssRUFBT0ksTUFBUUosRUFBT00sWUFDdEJOLEVBQU9LLE9BQVNMLEVBQU9PLGFBR0tQLEVBQU9YLFdBQVcsa0JBQ3hCbUIsd0JBQXdCdFYsS0FBSytULFdBQVd3QiwwQkFFdEUsRUE3R0EsRyxFQ0VBLFdBSUksV0FBWW5TLEVBQVd1SCxHQUNuQjNLLEtBQUtvRCxFQUFJQSxFQUNUcEQsS0FBSzJLLEVBQUlBLEVBQ1QzSyxLQUFLMk8sT0FBUyxJQUFJNkcsTUFBZ0J4VixLQUFLMkssR0FDdkNXLFFBQVFDLElBQUluSSxFQUFHdUgsR0FDZixJQUFLLElBQUl0SyxFQUFJLEVBQUdBLEVBQUlMLEtBQUsySyxJQUFLdEssRUFDMUJMLEtBQUsyTyxPQUFPdE8sR0FBSyxJQUFJbVYsTUFBU3hWLEtBQUtvRCxHQTBEL0MsT0F0REksWUFBQTBILElBQUEsU0FBSTFLLEVBQVdDLEVBQVdxTyxHQUN0QixJQUFJMU8sS0FBS2lQLGVBQWU3TyxFQUFHQyxHQUl2QixPQURBaUwsUUFBUUMsSUFBSSxNQUFPdkwsS0FBS29ELEVBQUdwRCxLQUFLMkssRUFBR3ZLLEVBQUdDLEdBQy9CLFFBSFBMLEtBQUsyTyxPQUFPdE8sR0FBR0QsR0FBS3NPLEdBTzVCLFlBQUFsSCxJQUFBLFNBQUlwSCxFQUFXQyxHQUNYLE9BQUlMLEtBQUtpUCxlQUFlN08sRUFBR0MsR0FDaEJMLEtBQUsyTyxPQUFPdE8sR0FBR0QsSUFFdEJrTCxRQUFRQyxJQUFJLE1BQU92TCxLQUFLb0QsRUFBR3BELEtBQUsySyxFQUFHdkssRUFBR0MsR0FDL0IsVUFLZixZQUFBMkcsTUFBQSxTQUFNMEgsR0FDRixJQUFLLElBQUlyTyxFQUFJLEVBQUdBLEVBQUlMLEtBQUsySyxJQUFLdEssRUFDMUIsSUFBSyxJQUFJRCxFQUFJLEVBQUdBLEVBQUlKLEtBQUtvRCxJQUFLaEQsRUFDMUJKLEtBQUsyTyxPQUFPdE8sR0FBR0QsR0FBS3NPLEdBTWhDLFlBQUErRyxlQUFBLFNBQWVyVixFQUFXQyxHQUN0QixJQUFJcVYsRUFBS2pULEVBQU1yQyxFQUFHLEVBQUdKLEtBQUtvRCxFQUFJLEdBQzFCdVMsRUFBS2xULEVBQU1wQyxFQUFHLEVBQUdMLEtBQUsySyxFQUFJLEdBRTlCLE9BQU8zSyxLQUFLMk8sT0FBT2dILEdBQUlELElBRzNCLFlBQUF6RyxlQUFBLFNBQWU3TyxFQUFXQyxHQUN0QixPQUFJRCxHQUFLLEdBQUtBLEVBQUlKLEtBQUtvRCxHQUFLL0MsR0FBSyxHQUFLQSxFQUFJTCxLQUFLMkssR0FLbkQsWUFBQXlFLGlCQUFBLFNBQWlCaFAsRUFBV0MsRUFBV3VWLEVBQWNDLEdBQ2pELE9BQUl4VixFQUFJd1YsR0FBUXpWLEVBQUl3VixHQU14QixZQUFBMUcsaUJBQUEsU0FBaUI5TyxFQUFXQyxFQUFXdVYsRUFBY0MsR0FDakQsT0FBSXhWLEVBQUl3VixHQUFRelYsRUFBSXdWLEdBSzVCLEVBcEVBLEcsRUNGQSx5QkEyQkEsT0ExQlcsRUFBQUUsV0FBUCxTQUFrQkMsRUFBWTNTLEVBQVd1SCxHQUNyQyxJQUFJbUssRUFBU0MsU0FBU0MsZUFBZWUsR0FDckMsT0FBT0MsRUFBYUMsbUJBQW1CbkIsRUFBUTFSLEVBQUd1SCxJQUcvQyxFQUFBc0wsbUJBQVAsU0FBMEJuQixFQUEyQjFSLEVBQVd1SCxHQU01RCxPQUxBbUssRUFBT0csTUFBTUMsTUFBUTlSLEVBQUksS0FDekIwUixFQUFPRyxNQUFNRSxPQUFTeEssRUFBSSxLQUMxQm1LLEVBQU9JLE1BQVFKLEVBQU9NLFlBQ3RCTixFQUFPSyxPQUFTTCxFQUFPTyxhQUVoQlAsR0FHSixFQUFBb0IsWUFBUCxTQUFtQkgsR0FFZixPQURhaEIsU0FBU0MsZUFBZWUsR0FDdkI1QixXQUFXLE9BR3RCLEVBQUFnQyxzQkFBUCxTQUE2QnJCLEdBQ3pCLE9BQU9BLEVBQU9YLFdBQVcsT0FHdEIsRUFBQWlDLFFBQVAsU0FBZXhRLEdBQ1gsTUFBTyxRQUFVL0UsS0FBSzBKLE1BQU0sSUFBTzNFLEVBQUcsR0FBSyxJQUFNL0UsS0FBSzBKLE1BQU0sSUFBTzNFLEVBQUcsR0FBSyxJQUFNL0UsS0FBSzBKLE1BQU0sSUFBTzNFLEVBQUcsR0FBSyxPQUVuSCxFQTNCQSxHLEVDRUEseUJBbUhBLE9BakhXLEVBQUF5USxtQkFBUCxTQUEwQjdVLEdBQ3RCLE9BQU8sSUFBSSxFQUFTQSxFQUFHcEIsRUFBRyxFQUFJb0IsRUFBR25CLElBRzlCLEVBQUFpVyxtQkFBUCxTQUEwQjlVLEdBQ3RCLE9BQU8sSUFBSSxFQUFTQSxFQUFHcEIsRUFBRyxFQUFJb0IsRUFBR25CLElBRzlCLEVBQUFrVyxVQUFQLFNBQWlCL1UsRUFBY21OLEdBRTNCLElBcUZRNkgsRUFyRkpwVCxFQUFJdUwsRUFBT3ZMLEVBQ1h1SCxFQUFJZ0UsRUFBT2hFLEVBRVg4TCxFQUFZQyxFQUFRTCxtQkFBbUI3VSxHQUN2Q0MsRUFBSWdWLEVBQVVyVyxFQUNkc0IsRUFBSStVLEVBQVVwVyxFQUdkc1csRUFBUyxFQUFJdlQsRUFDYndULEVBQVMsRUFBSWpNLEVBRWJrTSxFQUF1QixHQUFURixFQUNkRyxFQUF1QixHQUFURixFQUdkRyxFQUF3QnRWLEVBQUlrVixFQUM1QkssRUFBd0J0VixFQUFJa1YsRUFFNUJLLEVBQWtCcFcsS0FBSzBKLE1BQU13TSxHQUM3QkcsRUFBa0JyVyxLQUFLMEosTUFBTXlNLEdBSzdCRyxFQUFNMVYsRUFBSWtWLEVBQ1ZTLEVBQU0xVixFQUFJa1YsRUFHZCxHQUFJTyxHQUFPTixHQUFlTyxHQUFPTixFQUNqQyxDQUVRQyxHQUF5QkUsSUFDekJBLEdBQW9DLEdBRXBDRCxHQUF5QkUsSUFDekJBLEdBQW9DLEdBQ3hDLElBQUl0TSxFQUFJLElBQUksRUFBU3FNLEVBQWlCQyxHQUdsQ0csRUFBSyxJQUFJLEVBQVN6TSxFQUFFeEssRUFBSSxFQUFHd0ssRUFBRXZLLEdBQzdCaVgsRUFBSyxJQUFJLEVBQVMxTSxFQUFFeEssRUFBR3dLLEVBQUV2SyxFQUFJLEdBQzdCa1gsRUFBSyxJQUFJLEVBQVMzTSxFQUFFeEssRUFBSSxFQUFHd0ssRUFBRXZLLEVBQUksR0FHckMsTUFBTyxDQUFFbVcsT0FETEEsRUFBUyxJQUFJLEdBQVVXLEVBQU1OLEdBQWVGLEdBQVNTLEVBQU1OLEdBQWVGLEdBQzdEWSxHQUFJNU0sRUFBR3lNLEdBQUUsRUFBRUMsR0FBRSxFQUFFQyxHQUFFLEVBQUV0USxNQUFPeVAsRUFBUWUsaUJBQWlCakIsRUFBUTVMLEVBQUd5TSxFQUFJQyxFQUFJQyxFQUFJNUksSUFFMUYsR0FBSXdJLEdBQU9OLEdBQWVPLEdBQU9OLEVBQ3RDLENBRVFFLEdBQXlCRSxJQUN6QkEsR0FBb0MsR0FDcEN0TSxFQUFJLElBQUksRUFBU3FNLEVBQWlCQyxHQUF0QyxJQUdJTSxFQUFLLElBQUksRUFBUzVNLEVBQUV4SyxFQUFJLEVBQUd3SyxFQUFFdkssR0FLakMsT0FKSWlYLEVBQUssSUFBSSxFQUFTMU0sRUFBRXhLLEVBQUksRUFBR3dLLEVBQUV2SyxFQUFJLEdBQ2pDa1gsRUFBSyxJQUFJLEVBQVMzTSxFQUFFeEssRUFBR3dLLEVBQUV2SyxFQUFJLEdBRzFCLENBQUVtVyxPQURMQSxFQUFTLElBQUksR0FBVVcsRUFBTU4sR0FBZUYsR0FBU1MsRUFBTU4sR0FBZUYsR0FDN0RZLEdBQUUsRUFBRUgsR0FBSXpNLEVBQUcwTSxHQUFFLEVBQUVDLEdBQUUsRUFBRXRRLE1BQU95UCxFQUFRZSxpQkFBaUJqQixFQUFRZ0IsRUFBSTVNLEVBQUcwTSxFQUFJQyxFQUFJNUksSUFFMUYsT0FBSXdJLEdBQU9OLEdBQWVPLEdBQU9OLEdBRTlCbE0sRUFBSSxJQUFJLEVBQVNxTSxFQUFpQkMsR0FHbENNLEVBQUssSUFBSSxFQUFTNU0sRUFBRXhLLEVBQUksRUFBR3dLLEVBQUV2SyxFQUFJLEdBQ2pDZ1gsRUFBSyxJQUFJLEVBQVN6TSxFQUFFeEssRUFBR3dLLEVBQUV2SyxFQUFJLEdBQzdCaVgsRUFBSyxJQUFJLEVBQVMxTSxFQUFFeEssRUFBSSxFQUFHd0ssRUFBRXZLLEdBRzFCLENBQUVtVyxPQURMQSxFQUFTLElBQUksR0FBVVcsRUFBTU4sR0FBZUYsR0FBU1MsRUFBTU4sR0FBZUYsR0FDN0RZLEdBQUUsRUFBRUgsR0FBRSxFQUFFQyxHQUFFLEVBQUVDLEdBQUkzTSxFQUFHM0QsTUFBT3lQLEVBQVFlLGlCQUFpQmpCLEVBQVFnQixFQUFJSCxFQUFJQyxFQUFJMU0sRUFBRytELEtBRXRGd0ksR0FBT04sR0FBZU8sR0FBT04sR0FHOUJDLEdBQXlCRSxJQUN6QkEsR0FBb0MsR0FDcENyTSxFQUFJLElBQUksRUFBU3FNLEVBQWlCQyxHQUdsQ00sRUFBSyxJQUFJLEVBQVM1TSxFQUFFeEssRUFBR3dLLEVBQUV2SyxFQUFJLEdBQzdCZ1gsRUFBSyxJQUFJLEVBQVN6TSxFQUFFeEssRUFBSSxFQUFHd0ssRUFBRXZLLEVBQUksR0FDakNrWCxFQUFLLElBQUksRUFBUzNNLEVBQUV4SyxFQUFJLEVBQUd3SyxFQUFFdkssR0FHMUIsQ0FBRW1XLE9BRExBLEVBQVMsSUFBSSxHQUFVVyxFQUFNTixHQUFlRixHQUFTUyxFQUFNTixHQUFlRixHQUM3RFksR0FBRSxFQUFFSCxHQUFFLEVBQUVDLEdBQUkxTSxFQUFHMk0sR0FBRSxFQUFFdFEsTUFBT3lQLEVBQVFlLGlCQUFpQmpCLEVBQVFnQixFQUFJSCxFQUFJek0sRUFBRzJNLEVBQUk1SSxVQWIxRixHQWlCRixFQUFBOEksaUJBQVAsU0FBd0JqQixFQUFrQmdCLEVBQWNILEVBQWNDLEVBQWNDLEVBQWM1SSxHQUc5RixJQUFJK0ksRUFBTS9JLEVBQU84RyxlQUFlK0IsRUFBR3BYLEVBQUdvWCxFQUFHblgsR0FDckNzWCxFQUFNaEosRUFBTzhHLGVBQWU0QixFQUFHalgsRUFBR2lYLEVBQUdoWCxHQUNyQ3VYLEVBQU1qSixFQUFPOEcsZUFBZTZCLEVBQUdsWCxFQUFHa1gsRUFBR2pYLEdBQ3JDd1gsRUFBTWxKLEVBQU84RyxlQUFlOEIsRUFBR25YLEVBQUdtWCxFQUFHbFgsR0FFckN5WCxFQUFPLE9BQVVKLEVBQUtDLEVBQUtuQixFQUFPcFcsR0FDbEMyWCxFQUFPLE9BQVVILEVBQUtDLEVBQUtyQixFQUFPcFcsR0FFdEMsT0FEZ0IsT0FBVTBYLEVBQU1DLEVBQU12QixFQUFPblcsSUFHckQsRUFuSEEsRyxFQ0VBLFdBK0JJLFdBQVkyWCxHQUNSaFksS0FBS2lZLG9CQUFzQmpZLEtBQUtpWSxvQkFBb0JDLEtBQUtsWSxNQUN6REEsS0FBS21ZLFdBQVdILEdBUXhCLE9BeENJLFlBQUFHLFdBQUEsU0FBV0gsR0FDUGhZLEtBQUtvWSxJQUFNLElBQUlDLE1BQ2ZyWSxLQUFLb1ksSUFBSUosSUFBTUEsRUFDZmhZLEtBQUtvWSxJQUFJRSxPQUFTdFksS0FBS2lZLHFCQUczQixZQUFBQSxvQkFBQSxXQUNJLElBQUk3VSxFQUFJcEQsS0FBS29ZLElBQUlsRCxNQUNidkssRUFBSTNLLEtBQUtvWSxJQUFJakQsT0FFYm9ELEVBQWlCLGFBQXdCLGlCQUFrQm5WLEVBQUd1SCxHQUM5RG1CLEVBQU0sd0JBQW1DeU0sR0FDN0N6TSxFQUFJME0sVUFBVXhZLEtBQUtvWSxJQUFLLEVBQUcsR0FFM0JwWSxLQUFLMk8sT0FBUyxJQUFJLEVBQWV2TCxFQUFHdUgsR0FDcEMsSUFBSyxJQUFJdEssRUFBSSxFQUFHQSxFQUFJc0ssSUFBS3RLLEVBQ3JCLElBQUssSUFBSUQsRUFBSSxFQUFHQSxFQUFJZ0QsSUFBS2hELEVBQUcsQ0FDeEIsSUFBSW1VLEVBQU96SSxFQUFJdUksYUFBYWpVLEVBQUdDLEVBQUcsRUFBRyxHQUFHa1UsS0FDeEN2VSxLQUFLMk8sT0FBTzdELElBQUkxSyxFQUFHQyxFQUFHLElBQUksRUFBS2tVLEVBQUssR0FBSyxJQUFLQSxFQUFLLEdBQUssSUFBS0EsRUFBSyxHQUFLLElBQUtBLEVBQUssR0FBSyxRQWlCbEcsWUFBQS9NLElBQUEsU0FBSWhHLEdBQ0EsT0FBS3hCLEtBQUsyTyxPQUVILFlBQWtCbk4sRUFBSXhCLEtBQUsyTyxRQUR2QixDQUFFNkgsT0FBUSxLQUFNZ0IsR0FBSSxLQUFNSCxHQUFJLEtBQU1DLEdBQUksS0FBTUMsR0FBSSxLQUFNdFEsTUFBTyxVQUdsRixFQXpDQSxHQzZMQSxJQXhMQSxXQXlCSSx3QkF2QkEsS0FBQXdSLGlCQUFtQixFQUNuQixLQUFBQyxvQkFBc0IsRUFDdEIsS0FBQXJJLE9BQWlCLEtBU2pCLEtBQUFzSSxZQUFjLElBQ2QsS0FBQUMsYUFBZSxJQUNmLEtBQUFDLElBQVcsS0FPWCxLQUFBbFAsaUJBQWtCLEVBQ2xCLEtBQUFDLGtCQUFtQixFQUdma1AsT0FBT1IsT0FBUyxXQUNaLEVBQUtTLE9BRUxoRSxTQUFTQyxlQUFlLGVBQWVnRSxRQUFVLFdBQzdDLEVBQUtDLFFBR1RsRSxTQUFTQyxlQUFlLGNBQWNnRSxRQUFVLFdBQzVDLEVBQUtFLFVBR1RuRSxTQUFTQyxlQUFlLDJCQUEyQmdFLFFBQVUsV0FDekQsRUFBS3JQLGlCQUFtQixFQUFLQSxpQkFHakNvTCxTQUFTQyxlQUFlLCtCQUErQmdFLFFBQVUsV0FDN0QsRUFBS3BQLGtCQUFvQixFQUFLQSxtQkFHdENtTCxTQUFTb0UsVUFBWW5aLEtBQUtvWixRQUFRbEIsS0FBS2xZLE1BQ3ZDQSxLQUFLcVosVUFBWXJaLEtBQUtxWixVQUFVbkIsS0FBS2xZLE1Bd0k3QyxPQXJJSSxZQUFBK1ksS0FBQSxXQUNJLGVBQTBCLElBQUksRUFBZS9ZLEtBQUsyWSxZQUFhM1ksS0FBSzRZLGNBQ3BFLFdBQXNCLElBQUksRUFBaUI1WSxLQUFLMlksWUFBYTNZLEtBQUs0WSxjQUNsRTVZLEtBQUtzSCxjQUFnQixJQUFJLEVBQWF0SCxLQUFLMlksWUFBYTNZLEtBQUs0WSxjQUc3RDVZLEtBQUs4TCxJQUFNLGFBQXdCLGNBQWU5TCxLQUFLMlksWUFBYTNZLEtBQUs0WSxjQUFjekUsV0FBVyxNQUNsRyxhQUF3QixTQUFVblUsS0FBSzJZLFlBQWEzWSxLQUFLNFksY0FFekQ1WSxLQUFLNlksSUFBTSxJQUFJLEVBQ2Y3WSxLQUFLcVEsT0FBUyxJQUFJLEVBQU8sSUFBSSxFQUFPLEVBQUcsSUFBSyxLQUFNLElBQUksRUFBTyxFQUFHLEVBQUcsR0FBSSxHQUFJclEsS0FBSzJZLFlBQWEzWSxLQUFLNFksYUFBYyxHQUFJLEtBR3BINVksS0FBSzBKLFFBQVUsSUFBSSxFQUFVLDhCQUU3QjFKLEtBQUtzWixTQUdULFlBQUFBLE1BQUEsV0FDSXRaLEtBQUtpWixPQUNMalosS0FBS3VaLE1BQVEsRUFDYixJQUFJcE4sRUFBSSxJQUFJcU4sS0FDWnhaLEtBQUt5WixPQUFTdE4sRUFBRXVOLFVBQ2hCMVosS0FBSzJaLFFBQVViLE9BQU9jLHNCQUFzQjVaLEtBQUtxWixZQUdyRCxZQUFBSCxPQUFBLFdBQ0ksSUFBSS9NLEVBQUksSUFBSXFOLEtBQ1p4WixLQUFLeVosT0FBU3ROLEVBQUV1TixVQUNoQjFaLEtBQUsyWixRQUFVYixPQUFPYyxzQkFBc0I1WixLQUFLcVosWUFHckQsWUFBQUosS0FBQSxXQUNJSCxPQUFPZSxxQkFBcUI3WixLQUFLMlosU0FDakMzWixLQUFLMlosUUFBVSxNQUduQixZQUFBTixVQUFBLFNBQVVTLEdBRU4sSUFDSXZYLEdBREksSUFBSWlYLE1BQ0ZFLFVBQ056VixFQUFPMUIsRUFBSXZDLEtBQUt5WixPQUNwQnpaLEtBQUt5WixPQUFTbFgsRUFDZHZDLEtBQUt1WixNQUFRdlosS0FBS3VaLE1BQVF0VixFQUMxQjhRLFNBQVNnRixNQUFROVYsRUFBS3VDLFdBR3RCeEcsS0FBSzhMLElBQUlrTyxVQUFVLEVBQUcsRUFBR2hhLEtBQUsyWSxZQUFhM1ksS0FBSzRZLGNBQ2hENVksS0FBSzhMLElBQUk0RSxZQUNUMVEsS0FBSzhMLElBQUltTyxVQUFZLHNCQUNyQmphLEtBQUs4TCxJQUFJb08sU0FBUyxFQUFHLEVBQUdsYSxLQUFLMlksWUFBYTNZLEtBQUs0WSxjQUUvQyxRQUFpQixRQUFZLEdBRzdCLElBQUl1QixFQUFlLFNBQWlCLEVBQUcsRUFBRyxHQUt0Qy9KLEdBSllwUSxLQUFLdVosTUFJRixZQUFvQixxQkFFbkNhLEVBQWdCLHFCQUE2QkQsRUFBYy9KLEdBQy9EcFEsS0FBSzZZLElBQUlsTixVQUFVM0wsS0FBS3FRLE9BQVErSixFQUFlcGEsS0FBSzBKLFFBQVMxSixLQUFLMkosZ0JBQWlCM0osS0FBSzRKLGtCQUN4RjVKLEtBQUs2WSxJQUFJdEksVUFBVXZRLEtBQUs4TCxLQVN4QixPQUFnQjlMLEtBQUtzSCxlQUVyQnRILEtBQUsyWixRQUFVYixPQUFPYyxzQkFBc0I1WixLQUFLcVosWUFHckQsWUFBQUQsUUFBQSxTQUFRaUIsR0FtQkosT0FBUUEsRUFBTUMsU0FDVixLQWpCRyxHQWtCQ3RhLEtBQUtxUSxPQUFPeUIsUUFKUixFQUl1QjlSLEtBQUtxUSxPQUFPOEIsUUFDdkMsTUFDSixLQW5CRyxHQW9CQ25TLEtBQUtxUSxPQUFPeUIsU0FQUixFQU93QjlSLEtBQUtxUSxPQUFPOEIsUUFDeEMsTUFFSixLQXJCRyxHQXNCQ25TLEtBQUtxUSxPQUFPeUIsUUFYUixFQVd1QjlSLEtBQUtxUSxPQUFPaUMsUUFDdkMsTUFDSixLQXZCRyxHQXdCQ3RTLEtBQUtxUSxPQUFPeUIsU0FkUixFQWN3QjlSLEtBQUtxUSxPQUFPaUMsUUFDeEMsTUFDSixLQXpCRyxHQTBCQ3RTLEtBQUtxUSxPQUFPeUIsU0FqQlIsRUFpQndCOVIsS0FBS3FRLE9BQU9nQyxRQUN4QyxNQUNKLEtBM0JHLEdBNEJDclMsS0FBS3FRLE9BQU95QixRQXBCUixFQW9CdUI5UixLQUFLcVEsT0FBT2dDLFFBQ3ZDLE1BRUosS0E3Qk0sR0E4QkZyUyxLQUFLcVEsT0FBT2tDLFNBdkJOLElBd0JOLE1BQ0osS0EvQlEsR0FnQ0p2UyxLQUFLcVEsT0FBT2tDLFVBQVMsSUFDckIsTUFFSixLQWxDUSxHQW1DSnZTLEtBQUtxUSxPQUFPbUMsUUFBTyxJQUNuQixNQUNKLEtBcENTLEdBcUNMeFMsS0FBS3FRLE9BQU9tQyxPQWpDTixNQXFDdEIsRUF0TEEsSyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9SYXkudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1ZlY3Rvci50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVmVjdG9yNEQudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1JheTRELnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9QbGFuZS50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVHJhbnNmb3JtLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9SR0JBLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9WZWN0b3IyRC50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvUmFzdGVyaXplci50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVHJpYW5nbGUudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1Rvb2wudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1ZlcnRleC50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvQm94M0QudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRlcmFpbHMvRGlmZnVzZS50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvQ2FtZXJhLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9SZW5kZXJUYXJnZXQudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL0J1ZmZlcjJELnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9DYW52YXNIZWxwZXIudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1NhbXBsZXIudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1RleHR1cmUyRC50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL1Jhc3Rlcml6ZXJBcHAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZlY29yIGZyb20gXCIuL1ZlY3RvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmF5IHtcclxuICAgIGZyb206IFZlY29yO1xyXG4gICAgZGlyOiBWZWNvcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihmcm9tOiBWZWNvciwgZGlyOiBWZWNvcikge1xyXG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XHJcbiAgICAgICAgdGhpcy5kaXIgPSBkaXI7XHJcbiAgICB9XHJcbn07IiwiaW1wb3J0IHsgbGVycCwgbnVtYmVyX2VxdWFsLCBjbGFtcCB9IGZyb20gJy4vVG9vbCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlY3RvciB7XHJcblxyXG4gICAgc3RhdGljIG1pbl9tYXgodjA6IFZlY3RvciwgdjE6IFZlY3RvciwgdjI6IFZlY3Rvcikge1xyXG5cclxuICAgICAgICBsZXQgbWluID0gbmV3IFZlY3RvcihNYXRoLm1pbihNYXRoLm1pbih2MC54LCB2MS54KSwgdjIueCksIE1hdGgubWluKE1hdGgubWluKHYwLnksIHYxLnkpLCB2Mi55KSwgTWF0aC5taW4oTWF0aC5taW4odjAueiwgdjEueiksIHYyLnopKTtcclxuICAgICAgICBsZXQgbWF4ID0gbmV3IFZlY3RvcihNYXRoLm1heChNYXRoLm1heCh2MC54LCB2MS54KSwgdjIueCksIE1hdGgubWF4KE1hdGgubWF4KHYwLnksIHYxLnkpLCB2Mi55KSwgTWF0aC5tYXgoTWF0aC5tYXgodjAueiwgdjEueiksIHYyLnopKTtcclxuICAgICAgICByZXR1cm4geyBtaW4sIG1heCB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjYWxjdWxhdGVfbm9ybWFsKHYwOiBWZWN0b3IsIHYxOiBWZWN0b3IsIHYyOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgdjAxID0gVmVjdG9yLm1pbnVzKHYxLCB2MCk7XHJcbiAgICAgICAgbGV0IHYwMiA9IFZlY3Rvci5taW51cyh2MiwgdjApO1xyXG4gICAgICAgIGxldCBub3JtYWwgPSBWZWN0b3IuY3Jvc3ModjAxLCB2MDIpO1xyXG4gICAgICAgIHJldHVybiBub3JtYWwubm9ybWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNhbGN1bGF0ZV9jZW50ZXIodjA6IFZlY3RvciwgdjE6IFZlY3RvciwgdjI6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiB2MC5hZGQodjEpLmFkZCh2MikubXVsdGlwbHkoMSAvIDMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB1dih1OiBudW1iZXIsIHY6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHUsIHYsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB1cCA9IG5ldyBWZWN0b3IoMCwgMSwgMCk7XHJcbiAgICBzdGF0aWMgemVybyA9IG5ldyBWZWN0b3IoMCwgMCwgMCk7XHJcblxyXG4gICAgc3RhdGljIHJlZmxlY3QoSTogVmVjdG9yLCBOOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgTCA9IC0yICogVmVjdG9yLmRvdChJLCBOKVxyXG4gICAgICAgIHJldHVybiBOLm11bHRpcGx5KEwpLmFkZChJKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKEIueCArIEEueCwgQi55ICsgQS55LCBCLnogKyBBLnopO1xyXG4gICAgICAgIHJldHVybiB0ZW1wXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG1pbnVzKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKEEueCAtIEIueCwgQS55IC0gQi55LCBBLnogLSBCLnopO1xyXG4gICAgICAgIHJldHVybiB0ZW1wXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG11bHRpcGx5KEE6IFZlY3RvciwgczogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKEEueCAqIHMsIEEueSAqIHMsIEEueiAqIHMpO1xyXG4gICAgICAgIHJldHVybiB0ZW1wXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG11bHRpcGx5MyhBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKEEueCAqIEIueCwgQS55ICogQi55LCBBLnogKiBCLnopO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcm9zcyhBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCB0ZW1wID0gbmV3IFZlY3RvcihBLnkgKiBCLnogLSBBLnogKiBCLnksIC1BLnggKiBCLnogKyBBLnogKiBCLngsIEEueCAqIEIueSAtIEEueSAqIEIueCk7XHJcbiAgICAgICAgcmV0dXJuIHRlbXA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRvdChBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBBLnggKiBCLnggKyBBLnkgKiBCLnkgKyBBLnogKiBCLno7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGVxdWFsKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bWJlcl9lcXVhbChBLngsIEIueCkgJiYgbnVtYmVyX2VxdWFsKEEueSwgQi55KSAmJiBudW1iZXJfZXF1YWwoQS56LCBCLnopO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBsZXJwKEE6IFZlY3RvciwgQjogVmVjdG9yLCB0OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihcclxuICAgICAgICAgICAgbGVycChBLngsIEIueCwgdCksXHJcbiAgICAgICAgICAgIGxlcnAoQS55LCBCLnksIHQpLFxyXG4gICAgICAgICAgICBsZXJwKEEueiwgQi56LCB0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgeDogbnVtYmVyID0gMDtcclxuICAgIHk6IG51bWJlciA9IDA7XHJcbiAgICB6OiBudW1iZXIgPSAwO1xyXG4gICAgY29uc3RydWN0b3IocHg6IG51bWJlciwgcHk6IG51bWJlciwgcHo6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMueCA9IHB4O1xyXG4gICAgICAgIHRoaXMueSA9IHB5O1xyXG4gICAgICAgIHRoaXMueiA9IHB6O1xyXG4gICAgfVxyXG5cclxuICAgIGNsYW1wX3gobWluOiBudW1iZXIsIG1heDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy54ID0gY2xhbXAodGhpcy54LCBtaW4sIG1heCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgY2xhbXBfeShtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnkgPSBjbGFtcCh0aGlzLnksIG1pbiwgbWF4KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBsZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopO1xyXG4gICAgfVxyXG5cclxuICAgIG5vcm1hbGl6ZSgpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IHRoaXMubGVuZ3RoKCk7XHJcbiAgICAgICAgdGhpcy54ID0gdGhpcy54IC8gdGVtcDtcclxuICAgICAgICB0aGlzLnkgPSB0aGlzLnkgLyB0ZW1wO1xyXG4gICAgICAgIHRoaXMueiA9IHRoaXMueiAvIHRlbXA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkKEE6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IuYWRkKHRoaXMsIEEpO1xyXG4gICAgfVxyXG5cclxuICAgIG1pbnVzKEE6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IubWludXModGhpcywgQSk7XHJcbiAgICB9XHJcblxyXG4gICAgbXVsdGlwbHkoczogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5tdWx0aXBseSh0aGlzLCBzKTtcclxuICAgIH1cclxuXHJcbiAgICBuZWdhdGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLm11bHRpcGx5KHRoaXMsIC0xKTtcclxuICAgIH1cclxuXHJcbiAgICBWZWN0b3IyRCgpIHtcclxuICAgICAgICB0aGlzLnogPSAwO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCwgdGhpcy55LCB0aGlzLnopO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY29yIGZyb20gXCIuL1ZlY3RvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjdG9yNEQge1xyXG4gICAgcDogVmVjb3I7XHJcbiAgICB3OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IocDogVmVjb3IsIHc6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucCA9IHA7XHJcbiAgICAgICAgdGhpcy53ID0gdztcclxuICAgIH1cclxufTsiLCJpbXBvcnQgVmVjdG9yIGZyb20gXCIuL1ZlY3RvclwiO1xyXG5pbXBvcnQgVmVjb3I0RCBmcm9tIFwiLi9WZWN0b3I0RFwiO1xyXG5cclxuLy8g5ZyoM0Qgc3BhY2Xoo4HliIfnmoToqbFcclxuLy8g6YKE6KaB6ICD5oWu5LuA6bq85pmC5YCZ6KaB55SoKHgseSx3KeijgeWIh1xyXG4vLyDku4DpurzmmYLlgJnopoHnlKgoeCx5LHop6KOB5YiHXHJcbi8vIFxyXG4vLyDkuI3lpoLnm7TmjqXlnKg0RCBzcGFjZeijgeWIh1xyXG4vLyBodHRwczovL2dwbm5vdGVzLmJsb2dzcG90LmNvbS8yMDIxLzExL2Jsb2ctcG9zdF8yOC5odG1sXHJcbi8vIOWcliA0RCBzcGFjZSBjbGlwXHJcbi8vIOmAmeijoeeUqERpcmVjdHjnmoRORENcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmF5NEQge1xyXG4gICAgZnJvbTogVmVjb3I0RDtcclxuICAgIGRpcjogVmVjb3I0RDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihmcm9tOiBWZWNvcjRELCB0bzogVmVjb3I0RCkge1xyXG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XHJcbiAgICAgICAgdGhpcy5kaXIgPSBuZXcgVmVjb3I0RChWZWN0b3IubWludXModG8ucCwgZnJvbS5wKSwgdG8udyAtIGZyb20udyk7XHJcbiAgICB9XHJcblxyXG4gICAgdF93aGVuX3hfZXF1YWxfdygpIHtcclxuICAgICAgICAvLyBmcm9tLnggKyB0ICogZGlyLng9IGZyb20udyArIHQgKiBkaXIudztcclxuICAgICAgICBsZXQgdCA9ICh0aGlzLmZyb20udyAtIHRoaXMuZnJvbS5wLngpIC8gKHRoaXMuZGlyLnAueCAtIHRoaXMuZGlyLncpO1xyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG5cclxuICAgIHRfd2hlbl95X2VxdWFsX3coKSB7XHJcbiAgICAgICAgbGV0IHQgPSAodGhpcy5mcm9tLncgLSB0aGlzLmZyb20ucC55KSAvICh0aGlzLmRpci5wLnkgLSB0aGlzLmRpci53KTtcclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuXHJcbiAgICB0X3doZW5fel9lcXVhbF93KCkge1xyXG4gICAgICAgIGxldCB0ID0gKHRoaXMuZnJvbS53IC0gdGhpcy5mcm9tLnAueikgLyAodGhpcy5kaXIucC56IC0gdGhpcy5kaXIudyk7XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdF93aGVuX3hfZXF1YWxfbWludXNfdygpIHtcclxuICAgICAgICAvLyBmcm9tLnggKyB0ICogZGlyLng9IC0oZnJvbS53ICsgdCAqIGRpci53KTtcclxuXHJcbiAgICAgICAgbGV0IHQgPSAtKHRoaXMuZnJvbS53ICsgdGhpcy5mcm9tLnAueCkgLyAodGhpcy5kaXIudyArIHRoaXMuZGlyLnAueCk7XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdF93aGVuX3lfZXF1YWxfbWludXNfdygpIHtcclxuICAgICAgICBsZXQgdCA9IC0odGhpcy5mcm9tLncgKyB0aGlzLmZyb20ucC55KSAvICh0aGlzLmRpci53ICsgdGhpcy5kaXIucC55KTtcclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuXHJcbiAgICB0X3doZW5fel9lcXVhbF96ZXJvX3coKSB7XHJcblxyXG4gICAgICAgIC8vIGZyb20ueiArIHQgKiBkaXIuej0gMDtcclxuICAgICAgICBsZXQgdCA9IC10aGlzLmZyb20ucC56IC8gdGhpcy5kaXIucC56O1xyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG59OyIsImltcG9ydCBWZWN0b3IgZnJvbSAnLi9WZWN0b3InO1xyXG5pbXBvcnQgUmF5IGZyb20gJy4vUmF5JztcclxuaW1wb3J0IHsgbnVtYmVyX2VxdWFsIH0gZnJvbSAnLi9Ub29sJztcclxuaW1wb3J0IEhpdEluZm8gZnJvbSAnLi9IaXRJbmZvJztcclxuaW1wb3J0IEhpdGFibGUgZnJvbSAnLi9IaXRhYmxlJztcclxuaW1wb3J0IFNoYWRlciBmcm9tICcuLi9NYXRlcmFpbHMvU2hhZGVyJztcclxuXHJcbi8vIOW5s+mdolxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGFuZSBpbXBsZW1lbnRzIEhpdGFibGUge1xyXG5cclxuICAgIEM6IFZlY3RvcjtcclxuICAgIE46IFZlY3RvcjtcclxuICAgIGNvbnN0cnVjdG9yKHBvaW50OiBWZWN0b3IsIG5vcm1hbDogVmVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5DID0gcG9pbnQ7XHJcbiAgICAgICAgdGhpcy5OID0gbm9ybWFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOa4rOippnRlc3BfcOWSjOaWueWQkemHj+aYr+S4jeaYr+WcqOWQjOS4gOmCilxyXG4gICAgaXNfcG9zaXRpdmUodGVzdF9wOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgZGlmZiA9IFZlY3Rvci5taW51cyh0ZXN0X3AsIHRoaXMuQyk7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gVmVjdG9yLmRvdChkaWZmLCB0aGlzLk4pO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZSA+IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaGl0KHJheTogUmF5LCBzOiBTaGFkZXIpOiBIaXRJbmZvIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gUGxhbmUuaGl0KHJheSwgdGhpcyk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5pc19oaXQpXHJcbiAgICAgICAgICAgIHJlc3VsdC5zID0gcztcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBoaXQocmF5OiBSYXksIHBsYW5lOiBQbGFuZSk6IEhpdEluZm8ge1xyXG4gICAgICAgIC8vIHJheSBoaXQgcGxhbmUgXHJcbiAgICAgICAgbGV0IGZyb20gPSByYXkuZnJvbTtcclxuICAgICAgICBsZXQgZGlyID0gcmF5LmRpcjtcclxuXHJcbiAgICAgICAgLy8gKEYtQynjgIJOICsgdCAoROOAgk4pID0gMFxyXG4gICAgICAgIC8vIHQgID0gKEMtRinjgIJOIC8gKETjgIJOKVxyXG4gICAgICAgIC8vIHQgID0gKEEgLyAoQilcclxuICAgICAgICBsZXQgQiA9IFZlY3Rvci5kb3QoZGlyLCBwbGFuZS5OKTtcclxuICAgICAgICBsZXQgQSA9IFZlY3Rvci5kb3QoVmVjdG9yLm1pbnVzKHBsYW5lLkMsIGZyb20pLCBwbGFuZS5OKTtcclxuXHJcbiAgICAgICAgLy8gYXZvaWQgZGl2aWRlIGJ5IDBcclxuICAgICAgICBpZiAobnVtYmVyX2VxdWFsKEIsIDApKVxyXG4gICAgICAgICAgICByZXR1cm4geyBpc19oaXQ6IGZhbHNlLCBoaXRfcG9zOiBudWxsLCB0OiAtMSB9O1xyXG5cclxuICAgICAgICBsZXQgdCA9IEEgLyBCO1xyXG4gICAgICAgIGxldCBpc19oaXQgPSB0ID4gMC4wO1xyXG4gICAgICAgIGxldCBoaXRfcG9zID0gZnJvbS5hZGQoZGlyLm11bHRpcGx5KHQpKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpc19oaXQsXHJcbiAgICAgICAgICAgIGhpdF9wb3MsXHJcbiAgICAgICAgICAgIGk6IGRpcixcclxuICAgICAgICAgICAgdCxcclxuICAgICAgICAgICAgbm9ybWFsOiBwbGFuZS5OXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IHsgZGVncmVlX3RvX1JhZCB9IGZyb20gJy4vVG9vbCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zZm9ybSB7XHJcbiAgICB4QXhpczogVmVjdG9yO1xyXG4gICAgeUF4aXM6IFZlY3RvcjtcclxuICAgIHpBeGlzOiBWZWN0b3I7XHJcbiAgICBwb3NpdGlvbjogVmVjdG9yO1xyXG4gICAgY29uc3RydWN0b3IoeEF4aXM6IFZlY3RvciwgeUF4aXM6IFZlY3RvciwgekF4aXM6IFZlY3RvciwgcG9zaXRpb246IFZlY3Rvcikge1xyXG4gICAgICAgIHRoaXMueEF4aXMgPSB4QXhpcztcclxuICAgICAgICB0aGlzLnlBeGlzID0geUF4aXM7XHJcbiAgICAgICAgdGhpcy56QXhpcyA9IHpBeGlzO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdHJhbnNmb3JtUG9pbnQodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHBvaW50OiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgdmVjdG9yWCA9IHRyYW5zZm9ybS54QXhpcy5tdWx0aXBseShwb2ludC54KTtcclxuICAgICAgICBsZXQgdmVjdG9yWSA9IHRyYW5zZm9ybS55QXhpcy5tdWx0aXBseShwb2ludC55KTtcclxuICAgICAgICBsZXQgdmVjdG9yWiA9IHRyYW5zZm9ybS56QXhpcy5tdWx0aXBseShwb2ludC56KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybS5wb3NpdGlvbi5hZGQodmVjdG9yWCkuYWRkKHZlY3RvclkpLmFkZCh2ZWN0b3JaKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdHJhbnNmb3JtVmVjdG9yKHRyYW5zZm9ybTogVHJhbnNmb3JtLCB2ZXJ0ZXg6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCB2ZWN0b3JYID0gdHJhbnNmb3JtLnhBeGlzLm11bHRpcGx5KHZlcnRleC54KTtcclxuICAgICAgICBsZXQgdmVjdG9yWSA9IHRyYW5zZm9ybS55QXhpcy5tdWx0aXBseSh2ZXJ0ZXgueSk7XHJcbiAgICAgICAgbGV0IHZlY3RvclogPSB0cmFuc2Zvcm0uekF4aXMubXVsdGlwbHkodmVydGV4LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gdmVjdG9yWC5hZGQodmVjdG9yWSkuYWRkKHZlY3RvclopO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB0cmFuc2Zvcm1UcmFuc2Zvcm0odHJhbnNmb3JtOiBUcmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVZlY3Rvcih0cmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtLnhBeGlzKSxcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVZlY3Rvcih0cmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtLnlBeGlzKSxcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVZlY3Rvcih0cmFuc2Zvcm0sIGlucHV0VHJhbnNmb3JtLnpBeGlzKSxcclxuICAgICAgICAgICAgVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHRyYW5zZm9ybSwgaW5wdXRUcmFuc2Zvcm0ucG9zaXRpb24pLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJvdGF0ZUJ5WihkZWdyZWU6IG51bWJlcikge1xyXG4gICAgICAgIGxldCByYWRpYW4gPSBkZWdyZWVfdG9fUmFkKGRlZ3JlZSk7XHJcbiAgICAgICAgbGV0IGMgPSBNYXRoLmNvcyhyYWRpYW4pLCBzID0gTWF0aC5zaW4ocmFkaWFuKTtcclxuICAgICAgICBsZXQgeEF4aXMgPSBuZXcgVmVjdG9yKGMsIHMsIDApO1xyXG4gICAgICAgIGxldCB5QXhpcyA9IG5ldyBWZWN0b3IoLXMsIGMsIDApO1xyXG4gICAgICAgIGxldCB6QXhpcyA9IG5ldyBWZWN0b3IoMCwgMCwgMSk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtKFxyXG4gICAgICAgICAgICB4QXhpcyxcclxuICAgICAgICAgICAgeUF4aXMsXHJcbiAgICAgICAgICAgIHpBeGlzLFxyXG4gICAgICAgICAgICBWZWN0b3IuemVybyxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByb3RhdGVCeVkoZGVncmVlOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgcmFkaWFuID0gZGVncmVlX3RvX1JhZChkZWdyZWUpO1xyXG4gICAgICAgIGxldCBjID0gTWF0aC5jb3MocmFkaWFuKSwgcyA9IE1hdGguc2luKHJhZGlhbik7XHJcbiAgICAgICAgbGV0IHpBeGlzID0gbmV3IFZlY3RvcihzLCAwLCBjKTtcclxuICAgICAgICBsZXQgeEF4aXMgPSBuZXcgVmVjdG9yKGMsIDAsIC1zKTtcclxuICAgICAgICBsZXQgeUF4aXMgPSBuZXcgVmVjdG9yKDAsIDEsIDApO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgeEF4aXMsXHJcbiAgICAgICAgICAgIHlBeGlzLFxyXG4gICAgICAgICAgICB6QXhpcyxcclxuICAgICAgICAgICAgVmVjdG9yLnplcm8sXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcm90YXRlQnlYKGRlZ3JlZTogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHJhZGlhbiA9IGRlZ3JlZV90b19SYWQoZGVncmVlKTtcclxuICAgICAgICBsZXQgYyA9IE1hdGguY29zKHJhZGlhbiksIHMgPSBNYXRoLnNpbihyYWRpYW4pO1xyXG4gICAgICAgIGxldCB4QXhpcyA9IG5ldyBWZWN0b3IoMSwgMCwgMCk7XHJcbiAgICAgICAgbGV0IHlBeGlzID0gbmV3IFZlY3RvcigwLCBjLCBzKTtcclxuICAgICAgICBsZXQgekF4aXMgPSBuZXcgVmVjdG9yKDAsIC1zLCBjKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm0oXHJcbiAgICAgICAgICAgIHhBeGlzLFxyXG4gICAgICAgICAgICB5QXhpcyxcclxuICAgICAgICAgICAgekF4aXMsXHJcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoMCwgMCwgMCksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgb2Zmc2V0KHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigxLCAwLCAwKSxcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigwLCAxLCAwKSxcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigwLCAwLCAxKSxcclxuICAgICAgICAgICAgbmV3IFZlY3Rvcih4LCB5LCB6KSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IHsgbGVycCB9IGZyb20gXCIuL1Rvb2xcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJHQkEge1xyXG4gICAgc3RhdGljIGRlYnVnID0gbmV3IFJHQkEoMSwgMCwgMSwgMSk7XHJcbiAgICBzdGF0aWMgZ29sZGVuID0gbmV3IFJHQkEoMSwgMjE1IC8gMjU1LCAwLCAxKTtcclxuICAgIHN0YXRpYyB5ZWxsb3cgPSBuZXcgUkdCQSgxLCAxLCAwLCAxKTtcclxuICAgIHN0YXRpYyBwaW5rID0gbmV3IFJHQkEoMSwgMTkyIC8gMjU1LCAyMDMgLyAyNTUsIDEpO1xyXG4gICAgc3RhdGljIGJsYWNrID0gbmV3IFJHQkEoMCwgMCwgMCwgMSk7XHJcbiAgICBzdGF0aWMgcmVkID0gbmV3IFJHQkEoMSwgMCwgMCwgMSk7XHJcblxyXG4gICAgcjogbnVtYmVyO1xyXG4gICAgZzogbnVtYmVyO1xyXG4gICAgYjogbnVtYmVyO1xyXG4gICAgYTogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IocjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciwgYTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5yID0gcjtcclxuICAgICAgICB0aGlzLmcgPSBnO1xyXG4gICAgICAgIHRoaXMuYiA9IGI7XHJcbiAgICAgICAgdGhpcy5hID0gYTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbGVycChBOiBSR0JBLCBCOiBSR0JBLCBrOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJHQkEoXHJcbiAgICAgICAgICAgIGxlcnAoQS5yLCBCLnIsIGspLFxyXG4gICAgICAgICAgICBsZXJwKEEuZywgQi5nLCBrKSxcclxuICAgICAgICAgICAgbGVycChBLmIsIEIuYiwgayksXHJcbiAgICAgICAgICAgIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZCA9IGZ1bmN0aW9uIChBOiBSR0JBKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSR0JBKHRoaXMuciArIEEuciwgdGhpcy5nICsgQS5nLCB0aGlzLmIgKyBBLmIsIDEpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBtdWx0aXBseShzOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJHQkEodGhpcy5yICogcywgdGhpcy5nICogcywgdGhpcy5iICogcywgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiKCBcIiArIHRoaXMuciArIFwiICwgXCIgKyB0aGlzLmcgKyBcIiAsIFwiICsgdGhpcy5iICsgXCIgKVwiO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjdG9yMkQge1xyXG5cclxuICAgIHN0YXRpYyBhZGQoQTogVmVjdG9yMkQsIEI6IFZlY3RvcjJEKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yMkQoQi54ICsgQS54LCBCLnkgKyBBLnkpO1xyXG4gICAgICAgIHJldHVybiB0ZW1wXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG1pbnVzKEE6IFZlY3RvcjJELCBCOiBWZWN0b3IyRCkge1xyXG4gICAgICAgIGxldCB0ZW1wID0gbmV3IFZlY3RvcjJEKEEueCAtIEIueCwgQS55IC0gQi55KTtcclxuICAgICAgICByZXR1cm4gdGVtcFxyXG4gICAgfVxyXG5cclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwbHVzKHA6IFZlY3RvcjJEKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyRCh0aGlzLnggKyBwLngsIHRoaXMueSArIHAueSk7XHJcbiAgICB9XHJcblxyXG4gICAgbXVsdGlwbHkgPSBmdW5jdGlvbiAoczogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyRCh0aGlzLnggKiBzLCB0aGlzLnkgKiBzKTtcclxuICAgIH1cclxuXHJcbiAgICB0b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gXCIoIFwiICsgdGhpcy54ICsgXCIgLCBcIiArIHRoaXMueSArIFwiIClcIjtcclxuICAgIH1cclxufSIsImltcG9ydCBUcmFuc2Zvcm0gZnJvbSAnLi9UcmFuc2Zvcm0nO1xyXG5pbXBvcnQgVHJpYW5nbGUgZnJvbSAnLi9UcmlhbmdsZSc7XHJcbmltcG9ydCB7IENsaXBQbGFuZSwgY2xpcCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBWZXJ0ZXggZnJvbSAnLi9WZXJ0ZXgnO1xyXG5pbXBvcnQgQ2FtZXJhIGZyb20gJy4vQ2FtZXJhJztcclxuaW1wb3J0IFZlY3RvciBmcm9tICcuL1ZlY3Rvcic7XHJcbmltcG9ydCBCdWZmZXIyRCBmcm9tIFwiLi9CdWZmZXIyRFwiO1xyXG5pbXBvcnQgUkdCQSBmcm9tIFwiLi9SR0JBXCI7XHJcbmltcG9ydCBSZW5kZXJUYXJnZXQgZnJvbSAnLi9SZW5kZXJUYXJnZXQnO1xyXG5pbXBvcnQgVGV4dHVyZTJEIGZyb20gJy4vVGV4dHVyZTJEJztcclxuaW1wb3J0IFZlY3RvcjJEIGZyb20gJy4vVmVjdG9yMkQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFzdGVyaXplciB7XHJcbiAgICBzdGF0aWMgY29sb3JfYnVmZmVyOiBCdWZmZXIyRDxSR0JBPjtcclxuICAgIHN0YXRpYyB6X2J1ZmZlcjogQnVmZmVyMkQ8bnVtYmVyPjtcclxuXHJcbiAgICBzdGF0aWMgY2xlYXIoY29sb3I6IFJHQkEsIHo6IG51bWJlcikge1xyXG4gICAgICAgIFJhc3Rlcml6ZXIuY29sb3JfYnVmZmVyLmNsZWFyKGNvbG9yKTtcclxuICAgICAgICBSYXN0ZXJpemVyLnpfYnVmZmVyLmNsZWFyKHopO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzaG93KHJlbmRlcl90YXJnZXQ6IFJlbmRlclRhcmdldCkge1xyXG4gICAgICAgIHJlbmRlcl90YXJnZXQuc2V0X3BpeGVsKCh4OiBudW1iZXIsIHk6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gUmFzdGVyaXplci5jb2xvcl9idWZmZXIuZ2V0KHgsIHkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJlbmRlcl90YXJnZXQuc2hvd19idWZmZXIoJ2NhbnZhcycpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjbGlwX2hlbHBlcihpbl9saXN0OiBUcmlhbmdsZVtdLFxyXG4gICAgICAgIHYwX291dDogKHRyaWFuZ2xlOiBUcmlhbmdsZSkgPT4gYm9vbGVhbixcclxuICAgICAgICB2MV9vdXQ6ICh0cmlhbmdsZTogVHJpYW5nbGUpID0+IGJvb2xlYW4sXHJcbiAgICAgICAgdjJfb3V0OiAodHJpYW5nbGU6IFRyaWFuZ2xlKSA9PiBib29sZWFuLFxyXG4gICAgICAgIHBsYW5lOiBDbGlwUGxhbmUpIHtcclxuXHJcbiAgICAgICAgbGV0IG91dF9saXN0OiBUcmlhbmdsZVtdID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgVCBvZiBpbl9saXN0KSB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBjbGlwKFQsIHYwX291dCwgdjFfb3V0LCB2Ml9vdXQsIHBsYW5lKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiByZXN1bHQpXHJcbiAgICAgICAgICAgICAgICBvdXRfbGlzdC5wdXNoKHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0X2xpc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNsaXBfaW5fUHJvamVjdGlvbl9TcGFjZSh2MDogVmVydGV4LCB2MTogVmVydGV4LCB2MjogVmVydGV4LCBwY2FtZXJhOiBDYW1lcmEpIHtcclxuICAgICAgICAvLyBUb2RvOuWft+ihjDblgIvlubPpnaLnmoTkuInop5LlvaLoo4HliIdcclxuICAgICAgICAvLyDlkox56Lu45aS+NDXluqbnmoQy5YCL5bmz6Z2i44CB5ZKMeOi7uOWkvjQ15bqm55qEMuWAi+W5s+mdouOAgemChOaciU5j5ZKMRmNcclxuICAgICAgICAvLyBodHRwczovL2dwbm5vdGVzLmJsb2dzcG90LmNvbS8yMDIxLzExL2Jsb2ctcG9zdF8yOC5odG1sXHJcblxyXG4gICAgICAgIGxldCBpbl9saXN0ID0gW25ldyBUcmlhbmdsZSh2MCwgdjEsIHYyKV07XHJcblxyXG4gICAgICAgIC8vIEZhclxyXG4gICAgICAgIGxldCBvdXRfbGlzdCA9IFJhc3Rlcml6ZXIuY2xpcF9oZWxwZXIoaW5fbGlzdCxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYwLncgPCBULnYwLnAuejsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYxLncgPCBULnYxLnAuejsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYyLncgPCBULnYyLnAuejsgfSxcclxuICAgICAgICAgICAgQ2xpcFBsYW5lLkZhcik7XHJcblxyXG4gICAgICAgIC8vIE5lYXJcclxuICAgICAgICBvdXRfbGlzdCA9IFJhc3Rlcml6ZXIuY2xpcF9oZWxwZXIob3V0X2xpc3QsXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gMCA+IFQudjAucC56OyB9LFxyXG4gICAgICAgICAgICAoVDogVHJpYW5nbGUpID0+IHsgcmV0dXJuIDAgPiBULnYxLnAuejsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiAwID4gVC52Mi5wLno7IH0sXHJcbiAgICAgICAgICAgIENsaXBQbGFuZS5OZWFyKTtcclxuXHJcbiAgICAgICAgLy8g5LiN5bCNUmlnaHQg44CBTGVmdOOAgVRvcOOAgUJvdHRvbeS9nOijgeWIh+S6hlxyXG4gICAgICAgIC8vIOijgeWIh+W+jOWPjeiAjOacg+aciWJ1Z++8jOWclu+8mmJ1Zy9idWdfd2hlbl9jbGlwcGluZ18yXHJcbiAgICAgICAgLy8g5Y+N5q2j5Zyoc2NyZWVuIHNwYWNl5YWJ5p+15YyW5LiJ6KeS5b2i5pmC5Lmf5pyD55So6YKK55WM6KOB5YiHXHJcbiAgICAgICAgcmV0dXJuIG91dF9saXN0O1xyXG5cclxuICAgICAgICAvLyBSaWdodFxyXG4gICAgICAgIG91dF9saXN0ID0gUmFzdGVyaXplci5jbGlwX2hlbHBlcihvdXRfbGlzdCxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYwLncgPCBULnYwLnAueDsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYxLncgPCBULnYxLnAueDsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYyLncgPCBULnYyLnAueDsgfSxcclxuICAgICAgICAgICAgQ2xpcFBsYW5lLlJpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gTGVmdFxyXG4gICAgICAgIG91dF9saXN0ID0gUmFzdGVyaXplci5jbGlwX2hlbHBlcihvdXRfbGlzdCxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiAtVC52MC53ID4gVC52MC5wLng7IH0sXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gLVQudjEudyA+IFQudjEucC54OyB9LFxyXG4gICAgICAgICAgICAoVDogVHJpYW5nbGUpID0+IHsgcmV0dXJuIC1ULnYyLncgPiBULnYyLnAueDsgfSxcclxuICAgICAgICAgICAgQ2xpcFBsYW5lLkxlZnQpO1xyXG5cclxuICAgICAgICAvLyBUb3BcclxuICAgICAgICBvdXRfbGlzdCA9IFJhc3Rlcml6ZXIuY2xpcF9oZWxwZXIob3V0X2xpc3QsXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gVC52MC53IDwgVC52MC5wLnk7IH0sXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gVC52MS53IDwgVC52MS5wLnk7IH0sXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gVC52Mi53IDwgVC52Mi5wLnk7IH0sXHJcbiAgICAgICAgICAgIENsaXBQbGFuZS5Ub3ApO1xyXG5cclxuICAgICAgICAvLyBCb3R0b21cclxuICAgICAgICBvdXRfbGlzdCA9IFJhc3Rlcml6ZXIuY2xpcF9oZWxwZXIob3V0X2xpc3QsXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gLVQudjAudyA+IFQudjAucC55OyB9LFxyXG4gICAgICAgICAgICAoVDogVHJpYW5nbGUpID0+IHsgcmV0dXJuIC1ULnYxLncgPiBULnYxLnAueTsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiAtVC52Mi53ID4gVC52Mi5wLnk7IH0sXHJcbiAgICAgICAgICAgIENsaXBQbGFuZS5Cb3R0b20pO1xyXG5cclxuICAgICAgICByZXR1cm4gb3V0X2xpc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIE1WUF9iYWNrZmFjZV9jdWxsaW5nX2NsaXBwaW5nKHRyaWFuZ2xlOiBUcmlhbmdsZSwgcGNhbWVyYTogQ2FtZXJhLCB3b3JsZFRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XHJcbiAgICAgICAgLy8gdG8gd29ybGQgc3BhY2VcclxuICAgICAgICBsZXQgdjBfdyA9IFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludCh3b3JsZFRyYW5zZm9ybSwgdHJpYW5nbGUudjAucCk7XHJcbiAgICAgICAgbGV0IHYxX3cgPSBUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQod29ybGRUcmFuc2Zvcm0sIHRyaWFuZ2xlLnYxLnApO1xyXG4gICAgICAgIGxldCB2Ml93ID0gVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHdvcmxkVHJhbnNmb3JtLCB0cmlhbmdsZS52Mi5wKTtcclxuXHJcbiAgICAgICAgLy8gdG8gY2FtZXJhIHNwYWNlXHJcbiAgICAgICAgbGV0IHYwX2MgPSBwY2FtZXJhLnRvQ2FtZXJhU3BhY2UodjBfdyk7XHJcbiAgICAgICAgbGV0IHYxX2MgPSBwY2FtZXJhLnRvQ2FtZXJhU3BhY2UodjFfdyk7XHJcbiAgICAgICAgbGV0IHYyX2MgPSBwY2FtZXJhLnRvQ2FtZXJhU3BhY2UodjJfdyk7XHJcblxyXG4gICAgICAgIC8vIHRvIHByb2plY3Rpb24gc3BhY2UgKGNsaXAgc3BhY2UpXHJcbiAgICAgICAgbGV0IHYwX3AgPSBwY2FtZXJhLnRvUHJvamVjdGlvblNwYWNlKHYwX2MpO1xyXG4gICAgICAgIGxldCB2MV9wID0gcGNhbWVyYS50b1Byb2plY3Rpb25TcGFjZSh2MV9jKTtcclxuICAgICAgICBsZXQgdjJfcCA9IHBjYW1lcmEudG9Qcm9qZWN0aW9uU3BhY2UodjJfYyk7XHJcblxyXG4gICAgICAgIC8vIGJhY2sgZmFjZSBjdWxsaW5nIFxyXG4gICAgICAgIC8vIGxldCB2MF90ZXN0ID0gbmV3IFZlY3Rvcih2MF9wLngsIHYwX3AueSwgdjBfYy56KTtcclxuICAgICAgICAvLyBsZXQgdjFfdGVzdCA9IG5ldyBWZWN0b3IodjFfcC54LCB2MV9wLnksIHYxX2Mueik7XHJcbiAgICAgICAgLy8gbGV0IHYyX3Rlc3QgPSBuZXcgVmVjdG9yKHYyX3AueCwgdjJfcC55LCB2Ml9jLnopO1xyXG4gICAgICAgIC8vIGxldCBub3JtYWwgPSBWZWN0b3IuY2FsY3VsYXRlX25vcm1hbCh2MF90ZXN0LCB2MV90ZXN0LCB2Ml90ZXN0KTtcclxuICAgICAgICAvLyBsZXQgY2VudGVyX3RvX2V5ZSA9IFZlY3Rvci5taW51cyhWZWN0b3IuemVybywgVmVjdG9yLmNhbGN1bGF0ZV9jZW50ZXIodjBfdGVzdCwgdjFfdGVzdCwgdjJfdGVzdCkpLm5vcm1hbGl6ZSgpO1xyXG5cclxuICAgICAgICAvLyDlnKh2aWV3IHNwYWNl5YGa77yM5LiN54S25ZyoY2xpcCBzcGFjZeWBmu+8jOmChOimgeaKinrnlKh35Y+W5Luj5o6J77yM5pyJ6bue5pCe5belXHJcbiAgICAgICAgbGV0IG5vcm1hbCA9IFZlY3Rvci5jYWxjdWxhdGVfbm9ybWFsKHYwX2MsIHYxX2MsIHYyX2MpO1xyXG4gICAgICAgIGxldCBjZW50ZXJfdG9fZXllID0gVmVjdG9yLm1pbnVzKFZlY3Rvci56ZXJvLCBWZWN0b3IuY2FsY3VsYXRlX2NlbnRlcih2MF9jLCB2MV9jLCB2Ml9jKSkubm9ybWFsaXplKCk7XHJcbiAgICAgICAgbGV0IGNvc192YWx1ZSA9IFZlY3Rvci5kb3Qobm9ybWFsLCBjZW50ZXJfdG9fZXllKTs7XHJcbiAgICAgICAgaWYgKGNvc192YWx1ZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjdWxsaW5nJylcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g6YeN5paw57aB5a6adXZcclxuICAgICAgICBsZXQgdjAgPSB0cmlhbmdsZS52MC5jbG9uZSgpLnVwZGF0ZV9wKHYwX3ApLnVwZGF0ZV93KHYwX2Mueik7XHJcbiAgICAgICAgbGV0IHYxID0gdHJpYW5nbGUudjEuY2xvbmUoKS51cGRhdGVfcCh2MV9wKS51cGRhdGVfdyh2MV9jLnopO1xyXG4gICAgICAgIGxldCB2MiA9IHRyaWFuZ2xlLnYyLmNsb25lKCkudXBkYXRlX3AodjJfcCkudXBkYXRlX3codjJfYy56KTtcclxuXHJcbiAgICAgICAgLy8g5Z+36KGM5LiJ6KeS5b2i6KOB5YiHXHJcbiAgICAgICAgcmV0dXJuIFJhc3Rlcml6ZXIuY2xpcF9pbl9Qcm9qZWN0aW9uX1NwYWNlKHYwLCB2MSwgdjIsIHBjYW1lcmEpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdGF0aWMgcHJvY2Vzcyh0cmlhbmdsZTogVHJpYW5nbGUsIHBjYW1lcmE6IENhbWVyYSwgd29ybGRUcmFuc2Zvcm06IFRyYW5zZm9ybSwgdGV4dHVyZTogVGV4dHVyZTJELCB1c2Vfc29saWRfY29sb3I6IGJvb2xlYW4sIG5kY19jbGFtcF9lZmZlY3Q6IGJvb2xlYW4pIHtcclxuXHJcbiAgICAgICAgLy8gdG8gTVZQXHJcbiAgICAgICAgbGV0IHRyaWFuZ2xlX2xpc3QgPSBSYXN0ZXJpemVyLk1WUF9iYWNrZmFjZV9jdWxsaW5nX2NsaXBwaW5nKHRyaWFuZ2xlLCBwY2FtZXJhLCB3b3JsZFRyYW5zZm9ybSk7XHJcblxyXG4gICAgICAgIGxldCBsaXN0ID0gW107XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICAvLyB0byBORENcclxuICAgICAgICBmb3IgKGxldCBUIG9mIHRyaWFuZ2xlX2xpc3QpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBuMCA9IHBjYW1lcmEudG9OREMoVC52MC5wLCBULnYwLncpO1xyXG4gICAgICAgICAgICBsZXQgbjEgPSBwY2FtZXJhLnRvTkRDKFQudjEucCwgVC52MS53KTtcclxuICAgICAgICAgICAgbGV0IG4yID0gcGNhbWVyYS50b05EQyhULnYyLnAsIFQudjIudyk7XHJcblxyXG4gICAgICAgICAgICAvLyBOREPmh4noqbLopoHokL3lnKhcclxuICAgICAgICAgICAgLy8gLTEg4omkIHgg4omkIDEsIC0xIOKJpCB5IOKJpCAxXHJcblxyXG4gICAgICAgICAgICAvLyDkuI3oo4HliIdsZWZ044CBcmlnaHTjgIF0b3DjgIFib3R0b23vvIznhLblvoxjbGFtcCBuZGPkuZ/nrpfmmK/kuIDnqK7nibnmrormlYjmnpxcclxuICAgICAgICAgICAgaWYgKG5kY19jbGFtcF9lZmZlY3QpIHtcclxuICAgICAgICAgICAgICAgIG4wLmNsYW1wX3goLTEsIDEpLmNsYW1wX3koLTEsIDEpO1xyXG4gICAgICAgICAgICAgICAgbjEuY2xhbXBfeCgtMSwgMSkuY2xhbXBfeSgtMSwgMSk7XHJcbiAgICAgICAgICAgICAgICBuMi5jbGFtcF94KC0xLCAxKS5jbGFtcF95KC0xLCAxKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gdG8gc2NyZWVuIHNwYWNlXHJcbiAgICAgICAgICAgIC8vIDAg4omkIHgg4omkIHcsIDAg4omkIHkg4omkIGhcclxuICAgICAgICAgICAgbGV0IHMwID0gcGNhbWVyYS50b1NjcmVlblNwYWNlKG4wKTtcclxuICAgICAgICAgICAgbGV0IHMxID0gcGNhbWVyYS50b1NjcmVlblNwYWNlKG4xKTtcclxuICAgICAgICAgICAgbGV0IHMyID0gcGNhbWVyYS50b1NjcmVlblNwYWNlKG4yKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOeCuuS6huWSjOacrOS+hueahGNvZGXnm7jlrrnvvIzmmqvmmYLlhYjlgrPlh7rljrtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKHMwKTtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKHMxKTtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKHMyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOaJvuWHuuWMheWcjeeahOefqeW9olxyXG4gICAgICAgICAgICBsZXQgeyBtaW4sIG1heCB9ID0gVmVjdG9yLm1pbl9tYXgoczAsIHMxLCBzMik7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG1pbi54LCBtYXgueCwgJ3wnLCBtaW4ueSwgbWF4LnkpO1xyXG4gICAgICAgICAgICBsZXQgbWluX3ggPSBNYXRoLmZsb29yKG1pbi54KTtcclxuICAgICAgICAgICAgbGV0IG1heF94ID0gTWF0aC5mbG9vcihtYXgueCk7XHJcbiAgICAgICAgICAgIGxldCBtaW5feSA9IE1hdGguZmxvb3IobWluLnkpO1xyXG4gICAgICAgICAgICBsZXQgbWF4X3kgPSBNYXRoLmZsb29yKG1heC55KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNsYW1wXHJcbiAgICAgICAgICAgIG1pbl94ID0gTWF0aC5tYXgoMCwgbWluX3gpO1xyXG4gICAgICAgICAgICBtaW5feSA9IE1hdGgubWF4KDAsIG1pbl95KTtcclxuICAgICAgICAgICAgbWF4X3ggPSBNYXRoLm1pbih0aGlzLmNvbG9yX2J1ZmZlci53IC0gMSwgbWF4X3gpO1xyXG4gICAgICAgICAgICBtYXhfeSA9IE1hdGgubWluKHRoaXMuY29sb3JfYnVmZmVyLmggLSAxLCBtYXhfeSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgYWxsID0gKG1heF94IC0gbWluX3gpICogKG1heF95IC0gbWluX3kpO1xyXG4gICAgICAgICAgICBsZXQgZHJhdyA9IDA7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSBtaW5feDsgeCA8PSBtYXhfeDsgKyt4KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB5ID0gbWluX3k7IHkgPD0gbWF4X3k7ICsreSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyDnp7vli5XljYrlgIvlg4/ntKBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgUCA9IG5ldyBWZWN0b3IoeCArIDAuNSwgeSArIDAuNSwgMClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5bCN55+p5b2i6KOh55qE5q+P5YCL6bueUFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWIpOWumuaYr+WQpuS9jeWcqHNjcmVlbiBzcGFjZeS4ieinkuW9ouijoemdolxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB7IHN1Y2Nlc3MsIM6xLCDOsiwgzrMgfSA9IFRyaWFuZ2xlLmNhbGN1bGF0ZV/OsV/Osl/OsyhzMCwgczEsIHMyLCBQKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN1Y2Nlc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFUcmlhbmdsZS5pc19pbl90cmlhbmdsZSjOsSwgzrIsIM6zKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHllcyBcclxuICAgICAgICAgICAgICAgICAgICAvLyAoMSnlvp5OREPliLBTY3JlZW4gU3BhY2XmmK/ku7/lsITorormj5vvvIzlhafmj5LmrIrph43OseOAgc6y44CBzrPkuIDmqKMpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOioiOeul3rlgLxcclxuICAgICAgICAgICAgICAgICAgICBsZXQgeiA9IFRyaWFuZ2xlLmludGVycG9sYXRpb24ozrMsIM6xLCDOsiwgbjAueiwgbjEueiwgbjIueik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8geiB0ZXN0XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBidWZmZXJfeiA9IFJhc3Rlcml6ZXIuel9idWZmZXIuZ2V0KHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh6ID4gYnVmZmVyX3opXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyDlr6vlhaV65YC8XHJcbiAgICAgICAgICAgICAgICAgICAgUmFzdGVyaXplci56X2J1ZmZlci5zZXQoeCwgeSwgeik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICgyKeWcqE5EQ+mAsuihjOWFp+aPku+8jOS5mOS4inflm57liLBwcm9qZWN0aW9uIHNwYWNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9ncG5ub3Rlcy5ibG9nc3BvdC5jb20vMjAyMS8xMS9ibG9nLXBvc3RfMjcuaHRtbFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB3ID0gMSAvIFRyaWFuZ2xlLmludGVycG9sYXRpb24ozrMsIM6xLCDOsiwgMSAvIFQudjAudywgMSAvIFQudjEudywgMSAvIFQudjIudyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOimgeWcqE5EQ+aPkuWAvO+8jOaJgOS7pemZpOS7pXdcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdV9uZGMgPSBUcmlhbmdsZS5pbnRlcnBvbGF0aW9uKM6zLCDOsSwgzrIsIFQudjAudSAvIFQudjAudywgVC52MS51IC8gVC52MS53LCBULnYyLnUgLyBULnYyLncpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB2X25kYyA9IFRyaWFuZ2xlLmludGVycG9sYXRpb24ozrMsIM6xLCDOsiwgVC52MC52IC8gVC52MC53LCBULnYxLnYgLyBULnYxLncsIFQudjIudiAvIFQudjIudyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb2plY3Rpb24gc3BhY2UgXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHUgPSB1X25kYyAqIHc7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHYgPSB2X25kYyAqIHc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB7IGNvbG9yIH0gPSB0ZXh0dXJlLmdldChuZXcgVmVjdG9yMkQodSwgdikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2Vfc29saWRfY29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJhc3Rlcml6ZXIuY29sb3JfYnVmZmVyLnNldCh4LCB5LCBSR0JBLnllbGxvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSYXN0ZXJpemVyLmNvbG9yX2J1ZmZlci5zZXQoeCwgeSwgY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRyYXcrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjb3VudCwgTWF0aC5mbG9vcigxMDAgKiBkcmF3IC8gYWxsKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFRyYW5zZm9ybSBmcm9tICcuL1RyYW5zZm9ybSc7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSAnLi9WZWN0b3InXHJcbmltcG9ydCBWZXJ0ZXggZnJvbSAnLi9WZXJ0ZXgnXHJcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9DYW1lcmEnO1xyXG5pbXBvcnQgUGxhbmUgZnJvbSAnLi9QbGFuZSc7XHJcbmltcG9ydCBSYXkgZnJvbSAnLi9SYXknO1xyXG5pbXBvcnQgUmFzdGVyaXplciBmcm9tICcuL1Jhc3Rlcml6ZXInO1xyXG5pbXBvcnQgVGV4dHVyZTJEIGZyb20gJy4vVGV4dHVyZTJEJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyaWFuZ2xlIHtcclxuXHJcbiAgICAvLyDpgJnkupvpu5566YO95pivMFxyXG4gICAgc3RhdGljIGNhbGN1bGF0ZV/OsV/Osl/OsyhzMDogVmVjdG9yLCBzMTogVmVjdG9yLCBzMjogVmVjdG9yLCBQOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgZGlmZiA9IFZlY3Rvci5taW51cyhQLCBzMCk7XHJcblxyXG4gICAgICAgIC8vIOaxgnJheShQLFMwLVMyKeWSjHJheShTMCxTMS1TMinnmoTkuqTpu55cclxuICAgICAgICAvLyDnrYnlkIzmlrzmsYJyYXkoUCxTMC1TMinlkozlubPpnaLnmoTkuqTpu55cclxuICAgICAgICBsZXQgZGlyMDEgPSBWZWN0b3IubWludXMoczEsIHMwKTtcclxuICAgICAgICBsZXQgZGlyMDIgPSBWZWN0b3IubWludXMoczIsIHMwKTtcclxuICAgICAgICBsZXQgbiA9IG5ldyBWZWN0b3IoLWRpcjAxLnksIGRpcjAxLngsIDApO1xyXG4gICAgICAgIGxldCByYXkgPSBuZXcgUmF5KFAsIGRpcjAyLm11bHRpcGx5KC0xKSk7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFBsYW5lLmhpdChyYXksIG5ldyBQbGFuZShzMCwgbikpO1xyXG5cclxuICAgICAgICBsZXQgcF9vbl9kaXIwMSA9IHJlc3VsdC5oaXRfcG9zO1xyXG4gICAgICAgIGlmIChwX29uX2RpcjAxID09IG51bGwpIHsgIC8vIOmAgOWMluaIkOebtOe3mueahOS4ieinkuW9ouaJjeacieS5n+WPr+iDvVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn5bmz6KGMJywgczAsIHMxLCBzMiwgUCk7XHJcblxyXG4gICAgICAgICAgICAvLyDkuI3omZXnkIZcclxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIM6xOiAxLCDOsjogMCwgzrM6IDAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHZlY3Rvcl/OsSA9IFZlY3Rvci5taW51cyhwX29uX2RpcjAxLCBzMCk7XHJcbiAgICAgICAgbGV0IHZlY3Rvcl/OsiA9IFZlY3Rvci5taW51cyhkaWZmLCB2ZWN0b3JfzrEpO1xyXG5cclxuICAgICAgICAvLyDmk4vmjolkaXIwMeOAgWRpcjAy5piveei7uOW5s+ihjOeahOaDheazgVxyXG4gICAgICAgIGxldCDOsSA9IChkaXIwMS54ID09IDApID8gdmVjdG9yX86xLnkgLyBkaXIwMS55IDogdmVjdG9yX86xLnggLyBkaXIwMS54O1xyXG4gICAgICAgIGxldCDOsiA9IChkaXIwMi54ID09IDApID8gdmVjdG9yX86yLnkgLyBkaXIwMi55IDogdmVjdG9yX86yLnggLyBkaXIwMi54O1xyXG4gICAgICAgIGlmIChpc05hTijOsSkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codmVjdG9yX86xLngsIGRpcjAxLngpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzTmFOKM6yKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh2ZWN0b3JfzrIueCwgZGlyMDIueCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCDOsyA9IDEgLSDOsSAtIM6yO1xyXG5cclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCDOsSwgzrIsIM6zIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNfaW5fdHJpYW5nbGUozrE6IG51bWJlciwgzrI6IG51bWJlciwgzrM6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiAozrEgPj0gMCAmJiDOsiA+PSAwICYmIM6zID49IDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOWboOeCumNhbGN1bGF0ZV/OsV/Osl/Os+WvpuS9nOeahOaWueW8j++8jOaJgOS7pemghuW6j+aYr86z44CBzrHjgIHOsiDwn5idXHJcbiAgICBzdGF0aWMgaW50ZXJwb2xhdGlvbijOszogbnVtYmVyLCDOsTogbnVtYmVyLCDOsjogbnVtYmVyLCB2MDogbnVtYmVyLCB2MTogbnVtYmVyLCB2MjogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHYwICogzrMgKyB2MSAqIM6xICsgdjIgKiDOsjtcclxuICAgIH1cclxuXHJcbiAgICB2MDogVmVydGV4O1xyXG4gICAgdjE6IFZlcnRleDtcclxuICAgIHYyOiBWZXJ0ZXg7XHJcbiAgICBjb25zdHJ1Y3RvcihwdjA6IFZlcnRleCwgcHYxOiBWZXJ0ZXgsIHB2MjogVmVydGV4KSB7XHJcbiAgICAgICAgdGhpcy52MCA9IHB2MDtcclxuICAgICAgICB0aGlzLnYxID0gcHYxO1xyXG4gICAgICAgIHRoaXMudjIgPSBwdjI7XHJcbiAgICB9XHJcblxyXG4gICAgdl9zOiBWZWN0b3JbXTtcclxuICAgIHJhc3Rlcml6ZShwY2FtZXJhOiBDYW1lcmEsIHdvcmxkVHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHRleHR1cmU6IFRleHR1cmUyRCwgdXNlX3NvbGlkX2NvbG9yOiBib29sZWFuLCBuZGNfY2xhbXBfZWZmZWN0OiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy52X3MgPSBSYXN0ZXJpemVyLnByb2Nlc3ModGhpcywgcGNhbWVyYSwgd29ybGRUcmFuc2Zvcm0sIHRleHR1cmUsIHVzZV9zb2xpZF9jb2xvciwgbmRjX2NsYW1wX2VmZmVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIGlmICh0aGlzLnZfcyA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCB0Q291bnQgPSB0aGlzLnZfcy5sZW5ndGggLyAzO1xyXG4gICAgICAgIGZvciAobGV0IGMgPSAxOyBjIDw9IHRDb3VudDsgKytjKSB7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IDMgKiBjIC0gMTtcclxuICAgICAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnZfc1tpbmRleF0ueCwgdGhpcy52X3NbaW5kZXhdLnkpO1xyXG4gICAgICAgICAgICBjdHgubGluZVRvKHRoaXMudl9zW2luZGV4IC0gMl0ueCwgdGhpcy52X3NbaW5kZXggLSAyXS55KTtcclxuICAgICAgICAgICAgY3R4LmxpbmVUbyh0aGlzLnZfc1tpbmRleCAtIDFdLngsIHRoaXMudl9zW2luZGV4IC0gMV0ueSk7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8odGhpcy52X3NbaW5kZXhdLngsIHRoaXMudl9zW2luZGV4XS55KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCBTY2VuZU5vZGUgZnJvbSBcIi4uL09iamVjdC9TY2VuZU5vZGVcIjtcclxuaW1wb3J0IFJheSBmcm9tIFwiLi9SYXlcIjtcclxuaW1wb3J0IFJheTREIGZyb20gXCIuL1JheTREXCI7XHJcbmltcG9ydCBIaXRJbmZvIGZyb20gXCIuL0hpdEluZm9cIjtcclxuaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IFRyaWFuZ2xlIGZyb20gXCIuL1RyaWFuZ2xlXCI7XHJcbmltcG9ydCBWZXJ0ZXggZnJvbSBcIi4vVmVydGV4XCI7XHJcbmltcG9ydCBQbGFuZSBmcm9tIFwiLi9QbGFuZVwiO1xyXG5pbXBvcnQgUkdCQSBmcm9tIFwiLi9SR0JBXCI7XHJcbmltcG9ydCBCdWZmZXIyRCBmcm9tIFwiLi9CdWZmZXIyRFwiO1xyXG5pbXBvcnQgVmVjdG9yMkQgZnJvbSBcIi4vVmVjdG9yMkRcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWdyZWVfdG9fUmFkKGQ6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIE1hdGguUEkgKiBkIC8gMTgwO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGVwc2lsb246IG51bWJlciA9IDAuMDAxO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlcl9lcXVhbChhOiBudW1iZXIsIGI6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8IGVwc2lsb247XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCh4OiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikge1xyXG4gICAgaWYgKHggPiBtYXgpXHJcbiAgICAgICAgcmV0dXJuIG1heDtcclxuICAgIGVsc2UgaWYgKHggPCBtaW4pXHJcbiAgICAgICAgcmV0dXJuIG1pbjtcclxuICAgIGVsc2VcclxuICAgICAgICByZXR1cm4geDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldF9oaXRfc29ydF9saXN0KG9ial9saXN0OiBTY2VuZU5vZGVbXSwgcmF5OiBSYXkpIHtcclxuICAgIGxldCBoaXRfc29ydF9saXN0ID0gb2JqX2xpc3QubWFwKG9iaiA9PiBvYmouaC5oaXQocmF5LCBvYmoucykpXHJcbiAgICAgICAgLmZpbHRlcihpbmZvID0+IGluZm8uaXNfaGl0KVxyXG4gICAgICAgIC5zb3J0KChhOiBIaXRJbmZvLCBiOiBIaXRJbmZvKSA9PiBhLnQgLSBiLnQpO1xyXG5cclxuICAgIHJldHVybiBoaXRfc29ydF9saXN0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3NoYWRvd193ZWlnaHQoaGl0X2luZm86IEhpdEluZm8sIGRpcmVjdGlvbl9saWdodF9kaXI6IFZlY3Rvciwgb2JqX2xpc3Q6IFNjZW5lTm9kZVtdKSB7XHJcblxyXG4gICAgLy8g5piv5ZCm5Zyo5b2x5a2Q5YWnXHJcbiAgICBsZXQgZGlyID0gZGlyZWN0aW9uX2xpZ2h0X2Rpci5uZWdhdGl2ZSgpO1xyXG4gICAgbGV0IGZyb20gPSBoaXRfaW5mby5oaXRfcG9zLmFkZChkaXIubXVsdGlwbHkoZXBzaWxvbikpOyAvLyDlgY/np7vkuIDlsI/mrrXot53pm6LvvIzpgb/lhY3lsITkuK3oh6rlt7FcclxuICAgIGxldCByYXkgPSBuZXcgUmF5KGZyb20sIGRpcik7XHJcbiAgICBsZXQgaGl0X3NvcnRfbGlzdCA9IGdldF9oaXRfc29ydF9saXN0KG9ial9saXN0LCByYXkpO1xyXG4gICAgaWYgKGhpdF9zb3J0X2xpc3QubGVuZ3RoICE9IDApIHsgLy8g5Zyo5b2x5a2Q5YWnXHJcbiAgICAgICAgcmV0dXJuIDAuNDU7IC8vIOS4jeimgeWkqum7kVxyXG4gICAgfSBlbHNlXHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZXJwKGE6IG51bWJlciwgYjogbnVtYmVyLCB0OiBudW1iZXIpIHtcclxuICAgIHJldHVybiBhICsgdCAqIChiIC0gYSk7XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIENsaXBQbGFuZSB7XHJcbiAgICBOZWFyLFxyXG4gICAgRmFyLFxyXG4gICAgUmlnaHQsXHJcbiAgICBMZWZ0LFxyXG4gICAgVG9wLFxyXG4gICAgQm90dG9tXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGlwKHRyaWFuZ2xlOiBUcmlhbmdsZSxcclxuICAgIHYwX291dDogKHRyaWFuZ2xlOiBUcmlhbmdsZSkgPT4gYm9vbGVhbixcclxuICAgIHYxX291dDogKHRyaWFuZ2xlOiBUcmlhbmdsZSkgPT4gYm9vbGVhbixcclxuICAgIHYyX291dDogKHRyaWFuZ2xlOiBUcmlhbmdsZSkgPT4gYm9vbGVhbixcclxuICAgIHBsYW5lOiBDbGlwUGxhbmUpIHtcclxuXHJcbiAgICBsZXQgdl9jbGlwOiBUcmlhbmdsZVtdID0gW107XHJcblxyXG4gICAgbGV0IGdldENyb3NzUG9pbnQgPSBmdW5jdGlvbiAodjA6IFZlcnRleCwgdjE6IFZlcnRleCkge1xyXG4gICAgICAgIGxldCByYXkgPSBuZXcgUmF5NEQodjAuZ2V0X1ZlY3RvcjREKCksIHYxLmdldF9WZWN0b3I0RCgpKTtcclxuXHJcbiAgICAgICAgbGV0IHQgPSAwO1xyXG4gICAgICAgIHN3aXRjaCAocGxhbmUpIHtcclxuICAgICAgICAgICAgY2FzZSBDbGlwUGxhbmUuRmFyOlxyXG4gICAgICAgICAgICAgICAgdCA9IHJheS50X3doZW5fel9lcXVhbF93KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDbGlwUGxhbmUuTmVhcjpcclxuICAgICAgICAgICAgICAgIHQgPSByYXkudF93aGVuX3pfZXF1YWxfemVyb193KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDbGlwUGxhbmUuUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICB0ID0gcmF5LnRfd2hlbl94X2VxdWFsX3coKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENsaXBQbGFuZS5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgdCA9IHJheS50X3doZW5feF9lcXVhbF9taW51c193KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDbGlwUGxhbmUuVG9wOlxyXG4gICAgICAgICAgICAgICAgdCA9IHJheS50X3doZW5feV9lcXVhbF93KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDbGlwUGxhbmUuQm90dG9tOlxyXG4gICAgICAgICAgICAgICAgdCA9IHJheS50X3doZW5feV9lcXVhbF9taW51c193KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBWZXJ0ZXgubGVycCh2MCwgdjEsIHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHZvIGluIFxyXG4gICAgbGV0IGNsaXBfZmlyc3RfaW4gPSBmdW5jdGlvbiAodjA6IFZlcnRleCwgdjE6IFZlcnRleCwgdjI6IFZlcnRleCkge1xyXG4gICAgICAgIC8vIDEgdHJpYW5nbGUgdG8gMSB0cmlhbmdsZVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdvbmUnKTtcclxuICAgICAgICB2X2NsaXBbMF0gPSBuZXcgVHJpYW5nbGUodjAsIGdldENyb3NzUG9pbnQodjAsIHYxKSwgZ2V0Q3Jvc3NQb2ludCh2MCwgdjIpKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHZvIG91dFxyXG4gICAgbGV0IGNsaXBfZmlyc3Rfb3V0ID0gZnVuY3Rpb24gKHYwOiBWZXJ0ZXgsIHYxOiBWZXJ0ZXgsIHYyOiBWZXJ0ZXgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygndHdvJyk7XHJcbiAgICAgICAgLy8gMSB0cmlhbmdsZSB0byAyIHRyaWFuZ2xlXHJcbiAgICAgICAgbGV0IGNyb3NzMSA9IGdldENyb3NzUG9pbnQodjIsIHYwKTtcclxuICAgICAgICBsZXQgY3Jvc3MyID0gZ2V0Q3Jvc3NQb2ludCh2MCwgdjEpO1xyXG5cclxuICAgICAgICB2X2NsaXBbMF0gPSBuZXcgVHJpYW5nbGUodjIsIGNyb3NzMSwgY3Jvc3MyKTtcclxuICAgICAgICB2X2NsaXBbMV0gPSBuZXcgVHJpYW5nbGUodjIsIGNyb3NzMiwgdjEpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyDmnIk456iu5oOF5rOBXHJcbiAgICBpZiAodjBfb3V0KHRyaWFuZ2xlKSkvL291dFxyXG4gICAge1xyXG4gICAgICAgIGlmICh2MV9vdXQodHJpYW5nbGUpKS8vIG91dCBvdXRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh2Ml9vdXQodHJpYW5nbGUpKS8vIG91dCBvdXQgb3V0IChubyBjbGlwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZnVsbCBvdXQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIC8vb3V0IG91dCBpblxyXG4gICAgICAgICAgICAgICAgY2xpcF9maXJzdF9pbih0cmlhbmdsZS52MiwgdHJpYW5nbGUudjAsIHRyaWFuZ2xlLnYxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSAvL291dCBpbiBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh2Ml9vdXQodHJpYW5nbGUpKS8vb3V0IGluIG91dFxyXG4gICAgICAgICAgICAgICAgY2xpcF9maXJzdF9pbih0cmlhbmdsZS52MSwgdHJpYW5nbGUudjIsIHRyaWFuZ2xlLnYwKTtcclxuICAgICAgICAgICAgZWxzZSAvLyBvdXQgaW4gaW5cclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3Rfb3V0KHRyaWFuZ2xlLnYwLCB0cmlhbmdsZS52MSwgdHJpYW5nbGUudjIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgLy8gaW5cclxuICAgIHtcclxuICAgICAgICBpZiAodjFfb3V0KHRyaWFuZ2xlKSkvLyBpbiBvdXQgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodjJfb3V0KHRyaWFuZ2xlKSkvLyBpbiBvdXQgb3V0XHJcbiAgICAgICAgICAgICAgICBjbGlwX2ZpcnN0X2luKHRyaWFuZ2xlLnYwLCB0cmlhbmdsZS52MSwgdHJpYW5nbGUudjIpO1xyXG4gICAgICAgICAgICBlbHNlIC8vIGluIG91dCBpblxyXG4gICAgICAgICAgICAgICAgY2xpcF9maXJzdF9vdXQodHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyLCB0cmlhbmdsZS52MCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgLy8gaW4gaW5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh2Ml9vdXQodHJpYW5nbGUpKS8vIGluIGluIG91dFxyXG4gICAgICAgICAgICAgICAgY2xpcF9maXJzdF9vdXQodHJpYW5nbGUudjIsIHRyaWFuZ2xlLnYwLCB0cmlhbmdsZS52MSk7XHJcbiAgICAgICAgICAgIGVsc2UgLy8gaW4gaW4gaW4gKG5vIGNsaXApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZfY2xpcFswXSA9IHRyaWFuZ2xlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZfY2xpcDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1hdGhIZWxwZXIge1xyXG4gICAgLy/kv67mraPpmaTms5XpjK/oqqRcclxuICAgIHN0YXRpYyBhY2NEaXYoYXJnMTogbnVtYmVyLCBhcmcyOiBudW1iZXIpIHtcclxuICAgICAgICAvL2NvZGUgZnJvbSBodHRwOi8vOHN0LmJsb2dzcG90LnR3LzIwMTIvMTAvanNidWcuaHRtbFxyXG4gICAgICAgIGxldCB0MSA9IDAsIHQyID0gMCwgcjEsIHIyO1xyXG4gICAgICAgIHRyeSB7IHQxID0gYXJnMS50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXS5sZW5ndGggfSBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgdHJ5IHsgdDIgPSBhcmcyLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdLmxlbmd0aCB9IGNhdGNoIChlKSB7IH1cclxuXHJcbiAgICAgICAgcjEgPSBOdW1iZXIoYXJnMS50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKVxyXG4gICAgICAgIHIyID0gTnVtYmVyKGFyZzIudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSlcclxuICAgICAgICByZXR1cm4gKHIxIC8gcjIpICogTWF0aC5wb3coMTAsIHQyIC0gdDEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5L+u5q2j5Yqg5rOV6Yyv6KqkXHJcbiAgICBzdGF0aWMgYWNjQWRkKGFyZzE6IG51bWJlciwgYXJnMjogbnVtYmVyKSB7XHJcbiAgICAgICAgLy9jb2RlIGZyb20gaHR0cDovLzhzdC5ibG9nc3BvdC50dy8yMDEyLzEwL2pzYnVnLmh0bWxcclxuICAgICAgICBsZXQgcjEsIHIyLCBtLCBjO1xyXG4gICAgICAgIHRyeSB7IHIxID0gYXJnMS50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXS5sZW5ndGggfSBjYXRjaCAoZSkgeyByMSA9IDAgfVxyXG4gICAgICAgIHRyeSB7IHIyID0gYXJnMi50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXS5sZW5ndGggfSBjYXRjaCAoZSkgeyByMiA9IDAgfVxyXG4gICAgICAgIGMgPSBNYXRoLmFicyhyMSAtIHIyKTtcclxuICAgICAgICBtID0gTWF0aC5wb3coMTAsIE1hdGgubWF4KHIxLCByMikpXHJcbiAgICAgICAgaWYgKGMgPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBjbSA9IE1hdGgucG93KDEwLCBjKTtcclxuICAgICAgICAgICAgaWYgKHIxID4gcjIpIHtcclxuICAgICAgICAgICAgICAgIGFyZzEgPSBOdW1iZXIoYXJnMS50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcclxuICAgICAgICAgICAgICAgIGFyZzIgPSBOdW1iZXIoYXJnMi50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKSAqIGNtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXJnMSA9IE51bWJlcihhcmcxLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgXCJcIikpICogY207XHJcbiAgICAgICAgICAgICAgICBhcmcyID0gTnVtYmVyKGFyZzIudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGFyZzEgPSBOdW1iZXIoYXJnMS50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcclxuICAgICAgICAgICAgYXJnMiA9IE51bWJlcihhcmcyLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKGFyZzEgKyBhcmcyKSAvIG1cclxuICAgIH1cclxufVxyXG5cclxuLy8g5Lul5YmN5a+r55qEY29kZVxyXG5leHBvcnQgY2xhc3MgRHJhd0hlbHBlciB7XHJcblxyXG4gICAgc3RhdGljIGRyYXdMaW5lKG9uZTogVmVjdG9yMkQsIHR3bzogVmVjdG9yMkQsIHZhbHVlOiBSR0JBLCBidWZmZXI6IEJ1ZmZlcjJEPFJHQkE+KSB7XHJcblxyXG4gICAgICAgIGxldCBub3cgPSBvbmU7XHJcbiAgICAgICAgbGV0IHRvID0gdHdvO1xyXG4gICAgICAgIGxldCBkaWZmID0gVmVjdG9yMkQubWludXModG8sIG5vdyk7XHJcblxyXG4gICAgICAgIGxldCBzdGVwID0gMTAwO1xyXG4gICAgICAgIGlmIChkaWZmLnkgPT0gMCkvL2hvcml6b25cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc3RlcDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvL+W3pueVq+WIsOWPs1xyXG4gICAgICAgICAgICAgICAgbm93LnggPSBub3cueCArIDE7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWJ1ZmZlci5pc19sZWdhbF9pbmRleChub3cueCwgbm93LnkpKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChub3cueCA+IHRvLngpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgYnVmZmVyLnNldChub3cueCwgbm93LnksIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGlmZi54ID09IDApLy92ZXJ0aWNhbFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzdGVwOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8v5LiK55Wr5Yiw5LiLXHJcbiAgICAgICAgICAgICAgICBub3cueSA9IG5vdy55ICsgMTtcclxuICAgICAgICAgICAgICAgIGlmICghYnVmZmVyLmlzX2xlZ2FsX2luZGV4KG5vdy54LCBub3cueSkpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5vdy55ID4gdG8ueSlcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBidWZmZXIuc2V0KG5vdy54LCBub3cueSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCByYXRpbyA9IGRpZmYueCAvIGRpZmYueTtcclxuICAgICAgICBsZXQgYWJzX3IgPSBNYXRoLmFicyhyYXRpbyk7XHJcblxyXG4gICAgICAgIGlmIChyYXRpbyA+IDApIHtcclxuICAgICAgICAgICAgaWYgKGFic19yIDw9IDEpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc3RlcDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm93LnkgPSBub3cueSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgbm93LnggPSBub3cueCArIGFic19yO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnRYID0gTWF0aC5mbG9vcihub3cueCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFidWZmZXIuaXNfbGVnYWxfaW5kZXgoaW50WCwgbm93LnkpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5pc19vdmVyX3Bvc2l0aXZlKG5vdy54LCBub3cueSwgdG8ueCwgdG8ueSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBidWZmZXIuc2V0KGludFgsIG5vdy55LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYWJzX3IgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHN0ZXA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdy55ID0gbm93LnkgKyAxIC8gYWJzX3I7XHJcbiAgICAgICAgICAgICAgICAgICAgbm93LnggPSBub3cueCArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludFkgPSBNYXRoLmZsb29yKG5vdy55KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWJ1ZmZlci5pc19sZWdhbF9pbmRleChub3cueCwgaW50WSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyLmlzX292ZXJfcG9zaXRpdmUobm93LngsIG5vdy55LCB0by54LCB0by55KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5zZXQobm93LngsIGludFksIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChyYXRpbyA8IDApIHtcclxuICAgICAgICAgICAgaWYgKGFic19yIDw9IDEpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc3RlcDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm93LnkgPSBub3cueSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgbm93LnggPSBub3cueCAtIGFic19yO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnRYID0gTWF0aC5mbG9vcihub3cueCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFidWZmZXIuaXNfbGVnYWxfaW5kZXgoaW50WCwgbm93LnkpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5pc19vdmVyX25lZ2F0aXZlKG5vdy54LCBub3cueSwgdG8ueCwgdG8ueSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBidWZmZXIuc2V0KGludFgsIG5vdy55LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYWJzX3IgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHN0ZXA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdy55ID0gbm93LnkgKyAxIC8gYWJzX3I7XHJcbiAgICAgICAgICAgICAgICAgICAgbm93LnggPSBub3cueCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludFkgPSBNYXRoLmZsb29yKG5vdy55KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWJ1ZmZlci5pc19sZWdhbF9pbmRleChub3cueCwgaW50WSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyLmlzX292ZXJfbmVnYXRpdmUobm93LngsIG5vdy55LCB0by54LCB0by55KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5zZXQobm93LngsIGludFksIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRyYXdDaXJjbGUodmFsdWU6IFJHQkEsIGJ1ZmZlcjogQnVmZmVyMkQ8UkdCQT4pIHtcclxuICAgICAgICBsZXQgaXQgPSA1MDtcclxuICAgICAgICBsZXQgZGVsdGEgPSAyICogTWF0aC5QSSAvIGl0O1xyXG4gICAgICAgIGxldCBSID0gOTtcclxuICAgICAgICBsZXQgY2VudGVyID0gbmV3IFZlY3RvcjJEKDEwLCAxMCk7XHJcbiAgICAgICAgbGV0IHN0YXJ0VGhlZGEgPSAtTWF0aC5QSSAvIDM7XHJcblxyXG4gICAgICAgIC8v55Wr5ZyTXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBub3dYID0gTWF0aC5mbG9vcihjZW50ZXIueCArIFIgKiBNYXRoLmNvcyhzdGFydFRoZWRhICsgZGVsdGEgKiBpKSk7XHJcbiAgICAgICAgICAgIGxldCBub3dZID0gTWF0aC5mbG9vcihjZW50ZXIueSArIFIgKiBNYXRoLnNpbihzdGFydFRoZWRhICsgZGVsdGEgKiBpKSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbmV4dFggPSBNYXRoLmZsb29yKGNlbnRlci54ICsgUiAqIE1hdGguY29zKHN0YXJ0VGhlZGEgKyBkZWx0YSAqIChpICsgMSkpKTtcclxuICAgICAgICAgICAgbGV0IG5leHRZID0gTWF0aC5mbG9vcihjZW50ZXIueSArIFIgKiBNYXRoLnNpbihzdGFydFRoZWRhICsgZGVsdGEgKiAoaSArIDEpKSk7XHJcblxyXG4gICAgICAgICAgICBEcmF3SGVscGVyLmRyYXdMaW5lV3JhcHBlcihuZXcgVmVjdG9yMkQobm93WCwgbm93WSksIG5ldyBWZWN0b3IyRChuZXh0WCwgbmV4dFkpLCB2YWx1ZSwgYnVmZmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBkcmF3U3Rhcih2YWx1ZTogUkdCQSwgYnVmZmVyOiBCdWZmZXIyRDxSR0JBPikge1xyXG4gICAgICAgIGxldCBpdCA9IDU7XHJcbiAgICAgICAgbGV0IGRlbHRhID0gMiAqIE1hdGguUEkgLyBpdDtcclxuICAgICAgICBsZXQgUiA9IDk7XHJcbiAgICAgICAgbGV0IGNlbnRlciA9IG5ldyBWZWN0b3IyRCgxMCwgMTApO1xyXG4gICAgICAgIGxldCBzdGFydFRoZWRhID0gLU1hdGguUEkgLyAzO1xyXG5cclxuICAgICAgICAvL+eVq+aYn+aYn1xyXG4gICAgICAgIGxldCBrID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0OyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IG5vd1ggPSBNYXRoLmZsb29yKGNlbnRlci54ICsgUiAqIE1hdGguY29zKHN0YXJ0VGhlZGEgKyBkZWx0YSAqIGspKTtcclxuICAgICAgICAgICAgbGV0IG5vd1kgPSBNYXRoLmZsb29yKGNlbnRlci55ICsgUiAqIE1hdGguc2luKHN0YXJ0VGhlZGEgKyBkZWx0YSAqIGspKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBuZXh0WCA9IE1hdGguZmxvb3IoY2VudGVyLnggKyBSICogTWF0aC5jb3Moc3RhcnRUaGVkYSArIGRlbHRhICogKGsgKyAyKSkpO1xyXG4gICAgICAgICAgICBsZXQgbmV4dFkgPSBNYXRoLmZsb29yKGNlbnRlci55ICsgUiAqIE1hdGguc2luKHN0YXJ0VGhlZGEgKyBkZWx0YSAqIChrICsgMikpKTtcclxuXHJcbiAgICAgICAgICAgIERyYXdIZWxwZXIuZHJhd0xpbmVXcmFwcGVyKG5ldyBWZWN0b3IyRChub3dYLCBub3dZKSwgbmV3IFZlY3RvcjJEKG5leHRYLCBuZXh0WSksIHZhbHVlLCBidWZmZXIpO1xyXG4gICAgICAgICAgICBrID0gayArIDI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkcmF3TGluZVdyYXBwZXIodDA6IFZlY3RvcjJELCB0MTogVmVjdG9yMkQsIHZhbHVlOiBSR0JBLCBidWZmZXI6IEJ1ZmZlcjJEPFJHQkE+KSB7XHJcbiAgICAgICAgLy/lvp7kuIrlvoDkuIvnlatcclxuICAgICAgICBpZiAodDAueSA8IHQxLnkpXHJcbiAgICAgICAgICAgIERyYXdIZWxwZXIuZHJhd0xpbmUodDAsIHQxLCB2YWx1ZSwgYnVmZmVyKTtcclxuICAgICAgICBlbHNlIGlmICh0MS55IDwgdDAueSlcclxuICAgICAgICAgICAgRHJhd0hlbHBlci5kcmF3TGluZSh0MSwgdDAsIHZhbHVlLCBidWZmZXIpO1xyXG4gICAgICAgIGVsc2UgLy/msLTlubPnt5pcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8v5b6e5bem5b6A5Y+z55WrXHJcbiAgICAgICAgICAgIGlmICh0MC54IDwgdDEueClcclxuICAgICAgICAgICAgICAgIERyYXdIZWxwZXIuZHJhd0xpbmUodDAsIHQxLCB2YWx1ZSwgYnVmZmVyKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodDEueCA8IHQwLngpXHJcbiAgICAgICAgICAgICAgICBEcmF3SGVscGVyLmRyYXdMaW5lKHQxLCB0MCwgdmFsdWUsIGJ1ZmZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCB7IGxlcnAgfSBmcm9tICcuL1Rvb2wnO1xyXG5pbXBvcnQgVmVjdG9yIGZyb20gJy4vVmVjdG9yJ1xyXG5pbXBvcnQgVmVjdG9yNEQgZnJvbSAnLi9WZWN0b3I0RCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZXJ0ZXgge1xyXG4gICAgc3RhdGljIGJ1aWxkX3ZlcnRleChwOiBWZWN0b3IsIG46IFZlY3RvciwgdzogbnVtYmVyLCB1OiBudW1iZXIsIHY6IG51bWJlcikge1xyXG4gICAgICAgIGxldCB2ZXJ0ZXggPSBuZXcgVmVydGV4KHAsIG4sIHcsIHUsIHYpO1xyXG4gICAgICAgIHJldHVybiB2ZXJ0ZXg7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGxlcnAodjA6IFZlcnRleCwgdjE6IFZlcnRleCwgdDogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHAgPSBWZWN0b3IubGVycCh2MC5wLCB2MS5wLCB0KTtcclxuICAgICAgICBsZXQgbiA9IFZlY3Rvci5sZXJwKHYwLm4sIHYxLm4sIHQpO1xyXG4gICAgICAgIGxldCB3ID0gbGVycCh2MC53LCB2MS53LCB0KTtcclxuICAgICAgICBsZXQgdSA9IGxlcnAodjAudSwgdjEudSwgdCk7XHJcbiAgICAgICAgbGV0IHYgPSBsZXJwKHYwLnYsIHYxLnYsIHQpO1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVydGV4KHAsIG4sIHcsIHUsIHYpO1xyXG4gICAgfVxyXG5cclxuICAgIHA6IFZlY3RvcjtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIHU6IG51bWJlcjtcclxuICAgIHY6IG51bWJlcjtcclxuICAgIG46IFZlY3RvcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwOiBWZWN0b3IsIG46IFZlY3RvciwgdzogbnVtYmVyLCB1OiBudW1iZXIsIHY6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucCA9IHA7XHJcbiAgICAgICAgdGhpcy5uID0gbjtcclxuICAgICAgICB0aGlzLncgPSB3O1xyXG4gICAgICAgIHRoaXMudSA9IHU7XHJcbiAgICAgICAgdGhpcy52ID0gdjtcclxuICAgIH1cclxuXHJcbiAgICBjbG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlcnRleCh0aGlzLnAuY2xvbmUoKSwgdGhpcy5uLmNsb25lKCksIHRoaXMudywgdGhpcy51LCB0aGlzLnYpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZV9wKHA6IFZlY3Rvcikge1xyXG4gICAgICAgIHRoaXMucCA9IHA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlX3codzogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy53ID0gdztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRfVmVjdG9yNEQoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3I0RCh0aGlzLnAsIHRoaXMudyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVmVydGV4IGZyb20gJy4vVmVydGV4J1xyXG5pbXBvcnQgVHJpYW5nbGUgZnJvbSAnLi9UcmlhbmdsZSc7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSAnLi9WZWN0b3InO1xyXG5pbXBvcnQgVHJhbnNmb3JtIGZyb20gJy4vVHJhbnNmb3JtJztcclxuaW1wb3J0IHsgY2xpcCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9DYW1lcmEnO1xyXG5pbXBvcnQgVGV4dHVyZTJEIGZyb20gJy4vVGV4dHVyZTJEJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJveCB7XHJcbiAgICB0cmlhbmdsZXM6IFRyaWFuZ2xlW107XHJcbiAgICB0cmlhbmdsZXNfYWZ0ZXJfY2xpcDogVHJpYW5nbGVbXTtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIC8vIOW7uueri+ato+aWuemrlOmggum7nuizh+aWmVxyXG4gICAgICAgIHRoaXMudHJpYW5nbGVzID0gW107XHJcbiAgICAgICAgLy/poIbmmYLph51cclxuICAgICAgICBsZXQgbiA9IG5ldyBWZWN0b3IoMCwgMCwgLTEpO1xyXG4gICAgICAgIHRoaXMudHJpYW5nbGVzLnB1c2goXHJcbiAgICAgICAgICAgIG5ldyBUcmlhbmdsZShcclxuICAgICAgICAgICAgICAgIG5ldyBWZXJ0ZXgobmV3IFZlY3RvcigtMTAsIC0xMCwgLTEwKSwgbiwgMSwgMCwgMCksXHJcbiAgICAgICAgICAgICAgICBuZXcgVmVydGV4KG5ldyBWZWN0b3IoMTAsIDEwLCAtMTApLCBuLCAxLCAxLCAxKSxcclxuICAgICAgICAgICAgICAgIG5ldyBWZXJ0ZXgobmV3IFZlY3RvcigxMCwgLTEwLCAtMTApLCBuLCAxLCAxLCAwKVxyXG4gICAgICAgICAgICApKTtcclxuICAgICAgICB0aGlzLnRyaWFuZ2xlcy5wdXNoKFxyXG4gICAgICAgICAgICBuZXcgVHJpYW5nbGUoXHJcbiAgICAgICAgICAgICAgICBuZXcgVmVydGV4KG5ldyBWZWN0b3IoLTEwLCAtMTAsIC0xMCksIG4sIDEsIDAsIDApLFxyXG4gICAgICAgICAgICAgICAgbmV3IFZlcnRleChuZXcgVmVjdG9yKC0xMCwgMTAsIC0xMCksIG4sIDEsIDAsIDEpLFxyXG4gICAgICAgICAgICAgICAgbmV3IFZlcnRleChuZXcgVmVjdG9yKDEwLCAxMCwgLTEwKSwgbiwgMSwgMSwgMSlcclxuICAgICAgICAgICAgKSk7XHJcblxyXG4gICAgICAgIGxldCBtID0gW1RyYW5zZm9ybS5yb3RhdGVCeVkoOTApLCBUcmFuc2Zvcm0ucm90YXRlQnlZKDE4MCksIFRyYW5zZm9ybS5yb3RhdGVCeVkoMjcwKSwgVHJhbnNmb3JtLnJvdGF0ZUJ5WCg5MCksIFRyYW5zZm9ybS5yb3RhdGVCeVgoLTkwKV1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG0ubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgbGV0IHJvdGF0ZU1hdHJpeCA9IG1baV07XHJcbiAgICAgICAgICAgIGxldCBuMiA9IFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludChyb3RhdGVNYXRyaXgsIG4pO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWFuZ2xlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgbmV3IFRyaWFuZ2xlKFxyXG4gICAgICAgICAgICAgICAgICAgIFZlcnRleC5idWlsZF92ZXJ0ZXgoVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHJvdGF0ZU1hdHJpeCwgbmV3IFZlY3RvcigtIDEwLCAtMTAsIC0xMCkpLCBuMiwgMSwgMCwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgVmVydGV4LmJ1aWxkX3ZlcnRleChUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQocm90YXRlTWF0cml4LCBuZXcgVmVjdG9yKDEwLCAxMCwgLTEwKSksIG4yLCAxLCAxLCAxKSxcclxuICAgICAgICAgICAgICAgICAgICBWZXJ0ZXguYnVpbGRfdmVydGV4KFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludChyb3RhdGVNYXRyaXgsIG5ldyBWZWN0b3IoMTAsIC0xMCwgLTEwKSksIG4yLCAxLCAxLCAwKVxyXG4gICAgICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgICAgIHRoaXMudHJpYW5nbGVzLnB1c2goXHJcbiAgICAgICAgICAgICAgICBuZXcgVHJpYW5nbGUoXHJcbiAgICAgICAgICAgICAgICAgICAgVmVydGV4LmJ1aWxkX3ZlcnRleChUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQocm90YXRlTWF0cml4LCBuZXcgVmVjdG9yKC0xMCwgLTEwLCAtMTApKSwgbjIsIDEsIDAsIDApLFxyXG4gICAgICAgICAgICAgICAgICAgIFZlcnRleC5idWlsZF92ZXJ0ZXgoVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHJvdGF0ZU1hdHJpeCwgbmV3IFZlY3RvcigtMTAsIDEwLCAtMTApKSwgbjIsIDEsIDAsIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgIFZlcnRleC5idWlsZF92ZXJ0ZXgoVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHJvdGF0ZU1hdHJpeCwgbmV3IFZlY3RvcigxMCwgMTAsIC0xMCkpLCBuMiwgMSwgMSwgMSlcclxuICAgICAgICAgICAgICAgICkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByYXN0ZXJpemUoY2FtZXJhOiBDYW1lcmEsIHdvcmxkVHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHRleHR1cmU6IFRleHR1cmUyRCwgdXNlX3NvbGlkX2NvbG9yOiBib29sZWFuLCBuZGNfY2xhbXBfZWZmZWN0OiBib29sZWFuKSB7XHJcblxyXG4gICAgICAgIC8vIOa4rOippuijgeWIh+S4ieinkuW9oueahGNvZGVcclxuICAgICAgICAvLyB0aGlzLnRyaWFuZ2xlc19hZnRlcl9jbGlwID0gW107XHJcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyaWFuZ2xlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIC8vICAgICBsZXQgdHJpYW5nbGUgPSB0aGlzLnRyaWFuZ2xlc1tpXTtcclxuICAgICAgICAvLyAgICAgbGV0IG5lYXJQbGFuZVogPSAxO1xyXG4gICAgICAgIC8vICAgICBsZXQgdl9jbGlwID0gY2xpcCh0cmlhbmdsZSwgbmVhclBsYW5lWik7XHJcblxyXG4gICAgICAgIC8vICAgICBsZXQgY291bnQgPSB2X2NsaXAubGVuZ3RoIC8gMztcclxuICAgICAgICAvLyAgICAgLy8gY29uc29sZS5sb2coaSwgY291bnQpO1xyXG4gICAgICAgIC8vICAgICBmb3IgKGxldCBrID0gMDsgayA8IGNvdW50OyArK2spIHtcclxuICAgICAgICAvLyAgICAgICAgIC8vIOe1hOWQiOS4ieinkuW9olxyXG4gICAgICAgIC8vICAgICAgICAgbGV0IG5ld190cmlhbmdsZSA9IG5ldyBUcmlhbmdsZSh2X2NsaXBbayAqIDNdLCB2X2NsaXBbayAqIDMgKyAxXSwgdl9jbGlwW2sgKiAzICsgMl0pO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcC5wdXNoKG5ld190cmlhbmdsZSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcCA9IHRoaXMudHJpYW5nbGVzO1xyXG5cclxuICAgICAgICAvLyDomZXnkIbmraPmlrnpq5TnmoTorormj5tcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJpYW5nbGVzX2FmdGVyX2NsaXAubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcFtpXS5yYXN0ZXJpemUoY2FtZXJhLCB3b3JsZFRyYW5zZm9ybSwgdGV4dHVyZSwgdXNlX3NvbGlkX2NvbG9yLCBuZGNfY2xhbXBfZWZmZWN0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd19saW5lKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgLy8g55Wr5LiJ6KeS5b2iXHJcbiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1vdmVyJztcclxuXHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDAsMCwxKSc7XHJcblxyXG5cclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cmlhbmdsZXNfYWZ0ZXJfY2xpcC5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLnRyaWFuZ2xlc19hZnRlcl9jbGlwW2ldLmRyYXcoY3R4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi4vTWF0aC9WZWN0b3JcIjtcclxuaW1wb3J0IEhpdEluZm8gZnJvbSBcIi4uL01hdGgvSGl0SW5mb1wiO1xyXG5pbXBvcnQgeyBjbGFtcCwgZ2V0X3NoYWRvd193ZWlnaHQgfSBmcm9tIFwiLi4vTWF0aC9Ub29sXCI7XHJcbmltcG9ydCBTaGFkZXIgZnJvbSBcIi4vU2hhZGVyXCI7XHJcbmltcG9ydCBTY2VuZU5vZGUgZnJvbSBcIi4uL09iamVjdC9TY2VuZU5vZGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpZmZ1c2UgaW1wbGVtZW50cyBTaGFkZXIge1xyXG4gICAgc3RhdGljIHllbGxvdyA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMSwgMSwgMCkpO1xyXG4gICAgc3RhdGljIHJlZCA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMSwgMCwgMCkpO1xyXG4gICAgc3RhdGljIGdyZWVuID0gbmV3IERpZmZ1c2UobmV3IFZlY3RvcigwLCAxLCAwKSk7XHJcbiAgICBzdGF0aWMgYmx1ZSA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMCwgMCwgMSkpO1xyXG4gICAgc3RhdGljIGdyYXkgPSBuZXcgRGlmZnVzZShuZXcgVmVjdG9yKDAuNSwgMC41LCAwLjUpKTtcclxuICAgIHN0YXRpYyB3aGl0ZSA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMSwgMSwgMSkpO1xyXG5cclxuICAgIGNvbG9yOiBWZWN0b3I7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb2xvcjogVmVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHNoYWRpbmcoaGl0X2luZm86IEhpdEluZm8sIGRpcmVjdGlvbl9saWdodF9kaXI6IFZlY3Rvciwgb2JqX2xpc3Q6IFNjZW5lTm9kZVtdLCBkZXB0aDogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IG4gPSBoaXRfaW5mby5ub3JtYWw7XHJcbiAgICAgICAgbGV0IHN0cmVuZ3RoID0gY2xhbXAoLVZlY3Rvci5kb3QoZGlyZWN0aW9uX2xpZ2h0X2RpciwgbiksIDAsIDEpO1xyXG5cclxuICAgICAgICBsZXQgc2hhZG93X3dlaWdodCA9IGdldF9zaGFkb3dfd2VpZ2h0KGhpdF9pbmZvLCBkaXJlY3Rpb25fbGlnaHRfZGlyLCBvYmpfbGlzdCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3IubXVsdGlwbHkoc3RyZW5ndGgpLm11bHRpcGx5KHNoYWRvd193ZWlnaHQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IFJheSBmcm9tIFwiLi9SYXlcIjtcclxuaW1wb3J0IHsgZGVncmVlX3RvX1JhZCwgZ2V0X2hpdF9zb3J0X2xpc3QgfSBmcm9tIFwiLi9Ub29sXCJcclxuaW1wb3J0IFJlbmRlclRhcmdldCBmcm9tIFwiLi9SZW5kZXJUYXJnZXRcIjtcclxuaW1wb3J0IFNjZW5lTm9kZSBmcm9tIFwiLi4vT2JqZWN0L1NjZW5lTm9kZVwiO1xyXG5pbXBvcnQgRGlmZnVzZSBmcm9tIFwiLi4vTWF0ZXJhaWxzL0RpZmZ1c2VcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmEge1xyXG4gICAgZXllOiBWZWN0b3I7XHJcblxyXG4gICAgeF9heGlzOiBWZWN0b3I7XHJcbiAgICB5X2F4aXM6IFZlY3RvcjtcclxuICAgIHpfYXhpczogVmVjdG9yO1xyXG5cclxuICAgIHJhdGlvOiBudW1iZXI7XHJcblxyXG4gICAgc2NyZWVuVzogbnVtYmVyO1xyXG4gICAgc2NyZWVuSDogbnVtYmVyO1xyXG5cclxuICAgIHNjcmVlbkNlbnRlclg6IG51bWJlcjtcclxuICAgIHNjcmVlbkNlbnRlclk6IG51bWJlcjtcclxuICAgIGhhbGZXOiBudW1iZXI7XHJcbiAgICBoYWxmSDogbnVtYmVyO1xyXG5cclxuICAgIC8vIOimlumMkOeahCDov5HlubPpnaLlkozpgaDlubPpnaJcclxuICAgIC8vIGHjgIFi5ZKM5oqV5b2x55+p6Zmj5pyJ6ZecXHJcbiAgICBOOiBudW1iZXI7XHJcbiAgICBGOiBudW1iZXI7XHJcbiAgICBhOiBudW1iZXI7XHJcbiAgICBiOiBudW1iZXI7XHJcblxyXG4gICAgZm92X2RlZ3JlZTogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IoZXllOiBWZWN0b3IsIGxvb2tfYXQ6IFZlY3RvciwgZm92X2RlZ3JlZTogbnVtYmVyLCBzY3JlZW5XOiBudW1iZXIsIHNjcmVlbkg6IG51bWJlciwgTjogbnVtYmVyLCBGOiBudW1iZXIpIHtcclxuXHJcbiAgICAgICAgdGhpcy5yYXRpbyA9IHNjcmVlblcgLyBzY3JlZW5IO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuVyA9IHNjcmVlblc7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5IID0gc2NyZWVuSDtcclxuICAgICAgICB0aGlzLnNjcmVlbkNlbnRlclggPSB0aGlzLnNjcmVlblcgKiAwLjU7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5DZW50ZXJZID0gdGhpcy5zY3JlZW5IICogMC41O1xyXG4gICAgICAgIHRoaXMuaGFsZlcgPSB0aGlzLnNjcmVlblcgKiAwLjU7XHJcbiAgICAgICAgdGhpcy5oYWxmSCA9IHRoaXMuc2NyZWVuSCAqIDAuNTtcclxuXHJcbiAgICAgICAgLy8gY2FtZXJhIDPou7hcclxuICAgICAgICB0aGlzLnpfYXhpcyA9IFZlY3Rvci5taW51cyhsb29rX2F0LCBleWUpLm5vcm1hbGl6ZSgpO1xyXG5cclxuICAgICAgICAvLyDlt6bmiYtcclxuICAgICAgICBsZXQgaGVscF92ID0gVmVjdG9yLnVwO1xyXG4gICAgICAgIHRoaXMueF9heGlzID0gVmVjdG9yLmNyb3NzKGhlbHBfdiwgdGhpcy56X2F4aXMpLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgIHRoaXMueV9heGlzID0gVmVjdG9yLmNyb3NzKHRoaXMuel9heGlzLCB0aGlzLnhfYXhpcyk7XHJcblxyXG4gICAgICAgIC8vIGNhbWVyYSDljp/pu55cclxuICAgICAgICB0aGlzLmV5ZSA9IGV5ZTtcclxuXHJcbiAgICAgICAgLy8gY2FtZXJhIGZvdlxyXG4gICAgICAgIHRoaXMuZm92X2RlZ3JlZSA9IGZvdl9kZWdyZWU7XHJcblxyXG4gICAgICAgIC8vIOimlumMkOeahCDov5HlubPpnaLlkozpgaDlubPpnaJcclxuICAgICAgICB0aGlzLk4gPSBOO1xyXG4gICAgICAgIHRoaXMuRiA9IEY7XHJcblxyXG4gICAgICAgIC8vIGh0dHBzOi8vZ3Bubm90ZXMuYmxvZ3Nwb3QuY29tLzIwMjEvMTEvYmxvZy1wb3N0XzI3Lmh0bWxcclxuICAgICAgICAvLyDmipXlvbHnn6npmaPlsI1655qE5L+u5q2j77yM6YCZ6KOh5L2/55So5bem5omLXHJcbiAgICAgICAgdGhpcy5hID0gRiAvIChGIC0gTik7XHJcbiAgICAgICAgdGhpcy5iID0gLU4gKiBGIC8gKEYgLSBOKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5hLCB0aGlzLmIpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmVFeWUgPSBmdW5jdGlvbiAoczogbnVtYmVyLCBBOiBWZWN0b3IpIHtcclxuICAgICAgICB0aGlzLmV5ZSA9IFZlY3Rvci5hZGQodGhpcy5leWUsIEEubXVsdGlwbHkocykpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFBpdGNoKGRlZ3JlZTogbnVtYmVyKSB7XHJcbiAgICAgICAgLy8gdG9kbzog5LmY5LiKbG9jYWwgbWF0cml4XHJcbiAgICB9XHJcblxyXG4gICAgYWRkWWF3KGRlZ3JlZTogbnVtYmVyKSB7XHJcbiAgICAgICAgLy8gdG9kbzog5LmY5LiKbG9jYWwgbWF0cml4XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlX3JheV9kaXIoeF93ZWlnaHQ6IG51bWJlciwgeV93ZWlnaHQ6IG51bWJlciwgcmF0aW86IG51bWJlcikge1xyXG4gICAgICAgIGxldCBoYWxmX2Zvdl9yYWQgPSBkZWdyZWVfdG9fUmFkKDAuNSAqIHRoaXMuZm92X2RlZ3JlZSk7XHJcbiAgICAgICAgbGV0IHRhbl9oID0gTWF0aC50YW4oaGFsZl9mb3ZfcmFkKTtcclxuICAgICAgICBsZXQgdGFuX3cgPSB0YW5faCAqIHJhdGlvO1xyXG5cclxuICAgICAgICBsZXQgZGlyID0gdGhpcy56X2F4aXNcclxuICAgICAgICAgICAgLmFkZCh0aGlzLnhfYXhpcy5tdWx0aXBseSh4X3dlaWdodCAqIHRhbl93KSlcclxuICAgICAgICAgICAgLmFkZCh0aGlzLnlfYXhpcy5tdWx0aXBseSh5X3dlaWdodCAqIHRhbl9oKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBkaXI7XHJcbiAgICB9XHJcblxyXG4gICAgdG9DYW1lcmFTcGFjZShBOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgZGlmZiA9IEEubWludXModGhpcy5leWUpO1xyXG4gICAgICAgIGxldCBwb2ludF9pbl9jYW1lcmFfc3BhY2UgPSBuZXcgVmVjdG9yKFZlY3Rvci5kb3QoZGlmZiwgdGhpcy54X2F4aXMpLCBWZWN0b3IuZG90KGRpZmYsIHRoaXMueV9heGlzKSwgVmVjdG9yLmRvdChkaWZmLCB0aGlzLnpfYXhpcykpO1xyXG4gICAgICAgIHJldHVybiBwb2ludF9pbl9jYW1lcmFfc3BhY2U7XHJcbiAgICB9XHJcblxyXG4gICAgdG9Qcm9qZWN0aW9uU3BhY2UoQTogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IGZvdl9yYWQgPSBkZWdyZWVfdG9fUmFkKHRoaXMuZm92X2RlZ3JlZSk7XHJcbiAgICAgICAgbGV0IGhhbGZfZm92ID0gMC41ICogZm92X3JhZDtcclxuICAgICAgICBsZXQgeV9zY2FsZSA9IDEgLyBNYXRoLnRhbihoYWxmX2Zvdik7XHJcbiAgICAgICAgbGV0IHhfc2NhbGUgPSAxIC8gKHRoaXMucmF0aW8gKiBNYXRoLnRhbihoYWxmX2ZvdikpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihBLnggKiB4X3NjYWxlLCBBLnkgKiB5X3NjYWxlLCBBLnogKiB0aGlzLmEgKyB0aGlzLmIpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvTkRDKEE6IFZlY3RvciwgdzogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHMgPSAxIC8gdztcclxuICAgICAgICByZXR1cm4gQS5tdWx0aXBseShzKTtcclxuICAgIH1cclxuXHJcbiAgICB0b1NjcmVlblNwYWNlKE5EQ19BOiBWZWN0b3IpIHtcclxuICAgICAgICAvLyDnlKjluqfmqJnorormj5vkvobnnIvlvoXlvp5OREPliLBTY3JlZW4gU3BhY2VcclxuICAgICAgICAvLyBOREMgeOi7uOWcqHNjcmVlbiBzcGFjZSDngroody8yLDApXHJcbiAgICAgICAgLy8gTkRDIHnou7jlnKhzY3JlZW4gc3BhY2Ug54K6KC1oLzIsMClcclxuICAgICAgICBsZXQgeCA9IHRoaXMuaGFsZlcgKiBORENfQS54ICsgdGhpcy5zY3JlZW5DZW50ZXJYO1xyXG4gICAgICAgIGxldCB5ID0gLXRoaXMuaGFsZkggKiBORENfQS55ICsgdGhpcy5zY3JlZW5DZW50ZXJZO1xyXG5cclxuICAgICAgICBsZXQgdGVtcCA9IG5ldyBWZWN0b3IoeCwgeSwgMCk7XHJcbiAgICAgICAgcmV0dXJuIHRlbXA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g566X5ZyWXHJcbiAgICByZW5kZXIocmVuZGVyX3RhcmdldDogUmVuZGVyVGFyZ2V0LCBvYmpfbGlzdDogU2NlbmVOb2RlW10pIHtcclxuICAgICAgICBsZXQgZGlyZWN0aW9uX2xpZ2h0X2RpciA9IG5ldyBWZWN0b3IoMSwgLTEsIDApLm5vcm1hbGl6ZSgpO1xyXG5cclxuICAgICAgICBsZXQgaGFsZl9waXhlbF9vZmZzZXQgPSAwLjUgLyByZW5kZXJfdGFyZ2V0Lmg7XHJcbiAgICAgICAgbGV0IG11bHRpc2FtcGxlX2RpZmYgPSBbXHJcbiAgICAgICAgICAgIHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgICAgICB7IHg6IGhhbGZfcGl4ZWxfb2Zmc2V0LCB5OiBoYWxmX3BpeGVsX29mZnNldCB9LFxyXG4gICAgICAgICAgICB7IHg6IC1oYWxmX3BpeGVsX29mZnNldCwgeTogaGFsZl9waXhlbF9vZmZzZXQgfSxcclxuICAgICAgICAgICAgeyB4OiAtaGFsZl9waXhlbF9vZmZzZXQsIHk6IC1oYWxmX3BpeGVsX29mZnNldCB9LFxyXG4gICAgICAgICAgICB7IHg6IGhhbGZfcGl4ZWxfb2Zmc2V0LCB5OiAtaGFsZl9waXhlbF9vZmZzZXQgfSxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICByZW5kZXJfdGFyZ2V0LnJlbmRlcl9waXhlbCgoeF93ZWlnaHQ6IG51bWJlciwgeV93ZWlnaHQ6IG51bWJlciwgcmF0aW86IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcmF5X2RpciA9IHRoaXMuY3JlYXRlX3JheV9kaXIoeF93ZWlnaHQsIHlfd2VpZ2h0LCByYXRpbyk7XHJcblxyXG4gICAgICAgICAgICAvLyDnlKLnlJ/lpJrmop1yYXlcclxuICAgICAgICAgICAgbGV0IHJheXMgPSBtdWx0aXNhbXBsZV9kaWZmLm1hcChkaWZmID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIOWwjXJheV9kcmnkvZzlgY/np7tcclxuICAgICAgICAgICAgICAgIGxldCBkaXIgPSByYXlfZGlyLmFkZCh0aGlzLnhfYXhpcy5tdWx0aXBseShkaWZmLngpKS5hZGQodGhpcy55X2F4aXMubXVsdGlwbHkoZGlmZi55KSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDpm5bnhLblkoznkIPjgIHlubPpnaLnmoRoaXToqIjnrpfkuI3pnIDopoFkaXLkvZxub3JtYWxpemXvvIzkvYbngrrkuobmlrnkvr/lj43lsITnmoToqIjnrpfpgoTmmK/kvZxub3JtYWxpemVcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmF5KHRoaXMuZXllLCBkaXIubm9ybWFsaXplKCkpXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g5q+P5YCLcmF56YO9566XY29sb3JcclxuICAgICAgICAgICAgbGV0IGNvbG9ycyA9IHJheXMubWFwKHJheSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGl0X3NvcnRfbGlzdCA9IGdldF9oaXRfc29ydF9saXN0KG9ial9saXN0LCByYXkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOacieWwhOS4reWXjlxyXG4gICAgICAgICAgICAgICAgbGV0IGlzX2hpdCA9IGhpdF9zb3J0X2xpc3QubGVuZ3RoICE9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNfaGl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdF9pbmZvID0gaGl0X3NvcnRfbGlzdFswXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGl0X2luZm8ucy5zaGFkaW5nKGhpdF9pbmZvLCBkaXJlY3Rpb25fbGlnaHRfZGlyLCBvYmpfbGlzdCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBEaWZmdXNlLmdyYXkuY29sb3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g5Y+W5bmz5Z2H5bCx5pyJQW50aWFsaWFzaW5n5pWI5p6cXHJcbiAgICAgICAgICAgIGxldCBjb3VudCA9IG11bHRpc2FtcGxlX2RpZmYubGVuZ3RoO1xyXG4gICAgICAgICAgICBsZXQgZmluYWxfY29sb3IgPSBjb2xvcnMucmVkdWNlKChhY2N1bXVsYXRvcjogVmVjdG9yLCBjdXJyZW50OiBWZWN0b3IpID0+IGFjY3VtdWxhdG9yLmFkZChjdXJyZW50KSwgVmVjdG9yLnplcm8pLm11bHRpcGx5KDEgLyBjb3VudCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmaW5hbF9jb2xvcjtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFJHQkEgZnJvbSBcIi4vUkdCQVwiO1xyXG5pbXBvcnQgVmVjdG9yIGZyb20gXCIuL1ZlY3RvclwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJUYXJnZXQge1xyXG4gICAgdzogbnVtYmVyID0gMzIwO1xyXG4gICAgaDogbnVtYmVyID0gMjQwO1xyXG4gICAgYmFja2J1ZmZlcjogT2Zmc2NyZWVuQ2FudmFzID0gbnVsbDtcclxuICAgIGNvbnN0cnVjdG9yKHc6IG51bWJlciA9IDMyMCwgaDogbnVtYmVyID0gMjQwKSB7XHJcbiAgICAgICAgdGhpcy53ID0gdztcclxuICAgICAgICB0aGlzLmggPSBoO1xyXG4gICAgICAgIHRoaXMuYmFja2J1ZmZlciA9IG5ldyBPZmZzY3JlZW5DYW52YXModGhpcy53LCB0aGlzLmgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcl9waXhlbChmdW5jOiAoeF93ZWlnaHQ6IG51bWJlciwgeV93ZWlnaHQ6IG51bWJlciwgcmF0aW86IG51bWJlcikgPT4gVmVjdG9yKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250ZXh0XzJkID0gdGhpcy5iYWNrYnVmZmVyLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgICAgIC8vIGdldCBzb3VyY2UgZGF0YSBhcnJheVxyXG4gICAgICAgIGxldCBiYWNrYnVmZmVyX2RhdGEgPSBjb250ZXh0XzJkLmdldEltYWdlRGF0YSgwLCAwLCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICAgICAgbGV0IGJhY2tidWZmZXJfZGF0YV9hcnJheSA9IGJhY2tidWZmZXJfZGF0YS5kYXRhO1xyXG5cclxuICAgICAgICBsZXQgcmF0aW8gPSB0aGlzLncgLyB0aGlzLmg7XHJcblxyXG4gICAgICAgIC8vIHNldCBhcnJheSB2YWx1ZVxyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5oOyArK3kpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLnc7ICsreCkge1xyXG4gICAgICAgICAgICAgICAgLy8gcmdiYSBlYWNoIGNvbG9yIGlzIDRieXRlXHJcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSA0ICogKHggKyB5ICogdGhpcy53KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBodHRwOi8vd3d3LmludHJvLXRvLWR4ci5jd3ltYW4ub3JnL3ByZXNlbnRhdGlvbnMvSW50cm9EWFJfUmF5dHJhY2luZ1NoYWRlcnMucGRmXHJcbiAgICAgICAgICAgICAgICAvLyBwYWdlIDc4XHJcbiAgICAgICAgICAgICAgICAvLyDpnIDopoHlgY/np7vljYrlgIvlg4/ntKDnmoTplbfluqbvvIzmiY3mnIPokL3lnKjlg4/ntKDnmoTkuK3plpMo5LiN6YGO6IKJ55y855yL5LiN5aSq5Ye65beu5Yil5bCx5piv5LqGKVxyXG4gICAgICAgICAgICAgICAgLy8gcmVtYXAgdG8gMH4xXHJcbiAgICAgICAgICAgICAgICBsZXQgWCA9ICgoeCArIDAuNSkgLyB0aGlzLncpO1xyXG4gICAgICAgICAgICAgICAgbGV0IFkgPSAoKHkgKyAwLjUpIC8gdGhpcy5oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2UgeSBkaXJlY3Rpb25cclxuICAgICAgICAgICAgICAgIFkgPSAxIC0gWTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZW1hcCB0byAtMX4xXHJcbiAgICAgICAgICAgICAgICBsZXQgeF93ZWlnaHQgPSBYICogMiAtIDE7XHJcbiAgICAgICAgICAgICAgICBsZXQgeV93ZWlnaHQgPSBZICogMiAtIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNvbG9yID0gZnVuYyh4X3dlaWdodCwgeV93ZWlnaHQsIHJhdGlvKTtcclxuICAgICAgICAgICAgICAgIGxldCByID0gY29sb3IueDtcclxuICAgICAgICAgICAgICAgIGxldCBnID0gY29sb3IueTtcclxuICAgICAgICAgICAgICAgIGxldCBiID0gY29sb3IuejtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBnYW1tYeagoeato1xyXG4gICAgICAgICAgICAgICAgbGV0IGdhbW1hID0gMSAvIDIuMTtcclxuICAgICAgICAgICAgICAgIHIgPSBNYXRoLnBvdyhyLCBnYW1tYSk7XHJcbiAgICAgICAgICAgICAgICBnID0gTWF0aC5wb3coZywgZ2FtbWEpO1xyXG4gICAgICAgICAgICAgICAgYiA9IE1hdGgucG93KGIsIGdhbW1hKTtcclxuXHJcbiAgICAgICAgICAgICAgICBiYWNrYnVmZmVyX2RhdGFfYXJyYXlbaW5kZXgrK10gPSBNYXRoLnJvdW5kKHIgKiAyNTUpO1xyXG4gICAgICAgICAgICAgICAgYmFja2J1ZmZlcl9kYXRhX2FycmF5W2luZGV4KytdID0gTWF0aC5yb3VuZChnICogMjU1KTtcclxuICAgICAgICAgICAgICAgIGJhY2tidWZmZXJfZGF0YV9hcnJheVtpbmRleCsrXSA9IE1hdGgucm91bmQoYiAqIDI1NSk7XHJcbiAgICAgICAgICAgICAgICBiYWNrYnVmZmVyX2RhdGFfYXJyYXlbaW5kZXhdID0gMjU1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRleHRfMmQucHV0SW1hZ2VEYXRhKGJhY2tidWZmZXJfZGF0YSwgMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0X3BpeGVsKGZ1bmM6ICh4OiBudW1iZXIsIHk6IG51bWJlcikgPT4gUkdCQSkge1xyXG5cclxuICAgICAgICBsZXQgY29udGV4dF8yZCA9IHRoaXMuYmFja2J1ZmZlci5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICAvLyBnZXQgc291cmNlIGRhdGEgYXJyYXlcclxuICAgICAgICBsZXQgYmFja2J1ZmZlcl9kYXRhID0gY29udGV4dF8yZC5nZXRJbWFnZURhdGEoMCwgMCwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgICAgIGxldCBiYWNrYnVmZmVyX2RhdGFfYXJyYXkgPSBiYWNrYnVmZmVyX2RhdGEuZGF0YTtcclxuXHJcbiAgICAgICAgbGV0IHJhdGlvID0gdGhpcy53IC8gdGhpcy5oO1xyXG5cclxuICAgICAgICAvLyBzZXQgYXJyYXkgdmFsdWVcclxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuaDsgKyt5KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy53OyArK3gpIHtcclxuICAgICAgICAgICAgICAgIC8vIHJnYmEgZWFjaCBjb2xvciBpcyA0Ynl0ZVxyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gNCAqICh4ICsgeSAqIHRoaXMudyk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNvbG9yID0gZnVuYyh4LCB5KTtcclxuICAgICAgICAgICAgICAgIGxldCByID0gY29sb3IucjtcclxuICAgICAgICAgICAgICAgIGxldCBnID0gY29sb3IuZztcclxuICAgICAgICAgICAgICAgIGxldCBiID0gY29sb3IuYjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDmspLljrtnYW1tYe+8jOS5n+S4jeeUqGdhbW1h5qCh5q2jXHJcbiAgICAgICAgICAgICAgICBsZXQgZ2FtbWEgPSAxIC8gMi4xO1xyXG4gICAgICAgICAgICAgICAgciA9IE1hdGgucG93KHIsIGdhbW1hKTtcclxuICAgICAgICAgICAgICAgIGcgPSBNYXRoLnBvdyhnLCBnYW1tYSk7XHJcbiAgICAgICAgICAgICAgICBiID0gTWF0aC5wb3coYiwgZ2FtbWEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJhY2tidWZmZXJfZGF0YV9hcnJheVtpbmRleCsrXSA9IE1hdGgucm91bmQociAqIDI1NSk7XHJcbiAgICAgICAgICAgICAgICBiYWNrYnVmZmVyX2RhdGFfYXJyYXlbaW5kZXgrK10gPSBNYXRoLnJvdW5kKGcgKiAyNTUpO1xyXG4gICAgICAgICAgICAgICAgYmFja2J1ZmZlcl9kYXRhX2FycmF5W2luZGV4KytdID0gTWF0aC5yb3VuZChiICogMjU1KTtcclxuICAgICAgICAgICAgICAgIGJhY2tidWZmZXJfZGF0YV9hcnJheVtpbmRleF0gPSAyNTU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dF8yZC5wdXRJbWFnZURhdGEoYmFja2J1ZmZlcl9kYXRhLCAwLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93X2J1ZmZlcihjYW52YXNfaWQ6IHN0cmluZykge1xyXG4gICAgICAgIC8vIOioreWummJ1ZmZlcueahOWkp+Wwj+WSjGNzcyBzdHlsZeeahOWkp+Wwj+S4gOaoo1xyXG4gICAgICAgIC8vIGh0dHBzOi8vb3BlbmhvbWUuY2MvR29zc2lwL1dlYkdML0NhbnZhcy5odG1sXHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhc19pZCkgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gdGhpcy53ICsgJ3B4JztcclxuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oICsgJ3B4JztcclxuICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgICAgIC8vIGNvcHkgYmFja2J1ZmZlciB0byBjYW52YXNcclxuICAgICAgICBsZXQgY29udGV4dF9iaXRtYXBfcmVuZGVyID0gY2FudmFzLmdldENvbnRleHQoXCJiaXRtYXByZW5kZXJlclwiKTtcclxuICAgICAgICBjb250ZXh0X2JpdG1hcF9yZW5kZXIudHJhbnNmZXJGcm9tSW1hZ2VCaXRtYXAodGhpcy5iYWNrYnVmZmVyLnRyYW5zZmVyVG9JbWFnZUJpdG1hcCgpKTtcclxuICAgIH1cclxufSIsImltcG9ydCBSR0JBIGZyb20gXCIuL1JHQkFcIjtcclxuaW1wb3J0IFZlY3RvcjJEIGZyb20gXCIuL1ZlY3RvcjJEXCI7XHJcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSBcIi4vVG9vbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVmZmVyMkQ8VD4ge1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgaDogbnVtYmVyO1xyXG4gICAgYnVmZmVyOiBBcnJheTxBcnJheTxUPj47XHJcbiAgICBjb25zdHJ1Y3Rvcih3OiBudW1iZXIsIGg6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudyA9IHc7XHJcbiAgICAgICAgdGhpcy5oID0gaDtcclxuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBBcnJheTxBcnJheTxUPj4odGhpcy5oKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh3LCBoKTtcclxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuaDsgKyt5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3ldID0gbmV3IEFycmF5PFQ+KHRoaXMudyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldCh4OiBudW1iZXIsIHk6IG51bWJlciwgdmFsdWU6IFQpIHtcclxuICAgICAgICBpZiAodGhpcy5pc19sZWdhbF9pbmRleCh4LCB5KSlcclxuICAgICAgICAgICAgdGhpcy5idWZmZXJbeV1beF0gPSB2YWx1ZTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NldCcsIHRoaXMudywgdGhpcy5oLCB4LCB5KTtcclxuICAgICAgICAgICAgcmV0dXJuIFJHQkEuZGVidWc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICAgIGlmICh0aGlzLmlzX2xlZ2FsX2luZGV4KHgsIHkpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJbeV1beF07XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnZXQnLCB0aGlzLncsIHRoaXMuaCwgeCwgeSk7XHJcbiAgICAgICAgICAgIHJldHVybiBSR0JBLmRlYnVnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIodmFsdWU6IFQpIHtcclxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuaDsgKyt5KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy53OyArK3gpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyW3ldW3hdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6LaF6YGO6YKK55WM5bCx5L2/55So6YKK55WM5YC8XHJcbiAgICBnZXRfY2xhbXBfbW9kZSh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBueCA9IGNsYW1wKHgsIDAsIHRoaXMudyAtIDEpO1xyXG4gICAgICAgIGxldCBueSA9IGNsYW1wKHksIDAsIHRoaXMuaCAtIDEpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJbbnldW254XTtcclxuICAgIH1cclxuXHJcbiAgICBpc19sZWdhbF9pbmRleCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICAgIGlmICh4ID49IDAgJiYgeCA8IHRoaXMudyAmJiB5ID49IDAgJiYgeSA8IHRoaXMuaClcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaXNfb3Zlcl9uZWdhdGl2ZSh4OiBudW1iZXIsIHk6IG51bWJlciwgZW5kWDogbnVtYmVyLCBlbmRZOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoeSA+IGVuZFkgfHwgeCA8IGVuZFgpXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlzX292ZXJfcG9zaXRpdmUoeDogbnVtYmVyLCB5OiBudW1iZXIsIGVuZFg6IG51bWJlciwgZW5kWTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHkgPiBlbmRZIHx8IHggPiBlbmRYKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufSIsImltcG9ydCBSR0JBIGZyb20gXCIuL1JHQkFcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhdm5hc0hlbHBlciB7XHJcbiAgICBzdGF0aWMgc2V0X2NhbnZhcyhpZDogc3RyaW5nLCB3OiBudW1iZXIsIGg6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICAgICAgcmV0dXJuIENhdm5hc0hlbHBlci5zZXRfY2FudmFzX2VsZW1lbnQoY2FudmFzLCB3LCBoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0X2NhbnZhc19lbGVtZW50KGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIHc6IG51bWJlciwgaDogbnVtYmVyKSB7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gdyArICdweCc7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGggKyAncHgnO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0X2NvbnRleHQoaWQ6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRfY29udGV4dF9ieV9jYW52YXMoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICAgIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY29udmVydChjOiBSR0JBKSB7XHJcbiAgICAgICAgcmV0dXJuICdyZ2JhKCcgKyBNYXRoLmZsb29yKDI1NSAqIChjLnIpKSArICcsJyArIE1hdGguZmxvb3IoMjU1ICogKGMuZykpICsgJywnICsgTWF0aC5mbG9vcigyNTUgKiAoYy5iKSkgKyAnLDEpJztcclxuICAgIH1cclxufSIsImltcG9ydCBCdWZmZXIyRCBmcm9tIFwiLi9CdWZmZXIyRFwiO1xyXG5pbXBvcnQgUkdCQSBmcm9tIFwiLi9SR0JBXCI7XHJcbmltcG9ydCBWZWN0b3IyRCBmcm9tIFwiLi9WZWN0b3IyRFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2FtcGxlciB7XHJcblxyXG4gICAgc3RhdGljIHV2X3RvX2J1ZmZlcl9zcGFjZSh1djogVmVjdG9yMkQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHV2LngsIDEgLSB1di55KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYnVmZmVyX3RvX3V2X3NwYWNlKHV2OiBWZWN0b3IyRCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMkQodXYueCwgMSAtIHV2LnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB0ZXh0dXJlMkQodXY6IFZlY3RvcjJELCBidWZmZXI6IEJ1ZmZlcjJEPFJHQkE+KSB7XHJcblxyXG4gICAgICAgIGxldCB3ID0gYnVmZmVyLnc7XHJcbiAgICAgICAgbGV0IGggPSBidWZmZXIuaDtcclxuXHJcbiAgICAgICAgbGV0IGJ1ZmZlcl91diA9IFNhbXBsZXIudXZfdG9fYnVmZmVyX3NwYWNlKHV2KTtcclxuICAgICAgICBsZXQgdSA9IGJ1ZmZlcl91di54O1xyXG4gICAgICAgIGxldCB2ID0gYnVmZmVyX3V2Lnk7XHJcblxyXG4gICAgICAgIC8v5YWI5om+5Ye65pyA6L+R6bueXHJcbiAgICAgICAgbGV0IGdyaWRfdSA9IDEgLyB3O1xyXG4gICAgICAgIGxldCBncmlkX3YgPSAxIC8gaDtcclxuXHJcbiAgICAgICAgbGV0IGhhbGZfZ3JpZF91ID0gZ3JpZF91ICogMC41O1xyXG4gICAgICAgIGxldCBoYWxmX2dyaWRfdiA9IGdyaWRfdiAqIDAuNTtcclxuXHJcbiAgICAgICAgLy/ku6XkuIvmmK/mnIk05YCL6YSw6bue55qE5oOF5rOBLi5cclxuICAgICAgICBsZXQgbmVhcmVzdF9wb2ludF91X2Zsb2F0ID0gdSAvIGdyaWRfdTtcclxuICAgICAgICBsZXQgbmVhcmVzdF9wb2ludF92X2Zsb2F0ID0gdiAvIGdyaWRfdjtcclxuXHJcbiAgICAgICAgbGV0IG5lYXJlc3RfcG9pbnRfdSA9IE1hdGguZmxvb3IobmVhcmVzdF9wb2ludF91X2Zsb2F0KTtcclxuICAgICAgICBsZXQgbmVhcmVzdF9wb2ludF92ID0gTWF0aC5mbG9vcihuZWFyZXN0X3BvaW50X3ZfZmxvYXQpO1xyXG5cclxuICAgICAgICAvL2FsZXJ0KG5lYXJlc3RfcG9pbnRfdStcIixcIituZWFyZXN0X3BvaW50X3YpO1xyXG5cclxuICAgICAgICAvL+WcqOOAjOacgOi/kem7nuOAjeagvOijoeeahGxvY2FsIHV2XHJcbiAgICAgICAgbGV0IHNfdSA9IHUgJSBncmlkX3U7XHJcbiAgICAgICAgbGV0IHNfdiA9IHYgJSBncmlkX3Y7XHJcblxyXG4gICAgICAgIC8v5YaN5om+5Ye655u46YSwM+m7nlxyXG4gICAgICAgIGlmIChzX3UgPj0gaGFsZl9ncmlkX3UgJiYgc192ID49IGhhbGZfZ3JpZF92KS8v55u46YSwM+m7nuWcqOWPs+S4i1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy/liZvlpb3mlbTpmaTmmYLopoHlgZrkv67mraNcclxuICAgICAgICAgICAgaWYgKG5lYXJlc3RfcG9pbnRfdV9mbG9hdCA9PSBuZWFyZXN0X3BvaW50X3UpXHJcbiAgICAgICAgICAgICAgICBuZWFyZXN0X3BvaW50X3UgPSBuZWFyZXN0X3BvaW50X3UgLSAxO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5lYXJlc3RfcG9pbnRfdl9mbG9hdCA9PSBuZWFyZXN0X3BvaW50X3YpXHJcbiAgICAgICAgICAgICAgICBuZWFyZXN0X3BvaW50X3YgPSBuZWFyZXN0X3BvaW50X3YgLSAxO1xyXG4gICAgICAgICAgICBsZXQgUCA9IG5ldyBWZWN0b3IyRChuZWFyZXN0X3BvaW50X3UsIG5lYXJlc3RfcG9pbnRfdik7XHJcblxyXG4gICAgICAgICAgICAvLyDlj7PkuItcclxuICAgICAgICAgICAgbGV0IE5FID0gbmV3IFZlY3RvcjJEKFAueCArIDEsIFAueSk7XHJcbiAgICAgICAgICAgIGxldCBTVyA9IG5ldyBWZWN0b3IyRChQLngsIFAueSArIDEpO1xyXG4gICAgICAgICAgICBsZXQgU0UgPSBuZXcgVmVjdG9yMkQoUC54ICsgMSwgUC55ICsgMSk7XHJcbiAgICAgICAgICAgIC8v5ZyoNOm7nuWFp+eahHV2XHJcbiAgICAgICAgICAgIGxldCByZWN0VVYgPSBuZXcgVmVjdG9yMkQoKHNfdSAtIGhhbGZfZ3JpZF91KSAvIGdyaWRfdSwgKHNfdiAtIGhhbGZfZ3JpZF92KSAvIGdyaWRfdik7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHJlY3RVViwgTlc6IFAsIE5FLCBTVywgU0UsIGNvbG9yOiBTYW1wbGVyLkJpbGluZWFyX1NhbXBsZXIocmVjdFVWLCBQLCBORSwgU1csIFNFLCBidWZmZXIpIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHNfdSA8PSBoYWxmX2dyaWRfdSAmJiBzX3YgPj0gaGFsZl9ncmlkX3YpLy/nm7jphLAz6bue5Zyo5bem5LiLXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL+WJm+WlveaVtOmZpOaZguimgeWBmuS/ruato1xyXG4gICAgICAgICAgICBpZiAobmVhcmVzdF9wb2ludF92X2Zsb2F0ID09IG5lYXJlc3RfcG9pbnRfdilcclxuICAgICAgICAgICAgICAgIG5lYXJlc3RfcG9pbnRfdiA9IG5lYXJlc3RfcG9pbnRfdiAtIDE7XHJcbiAgICAgICAgICAgIGxldCBQID0gbmV3IFZlY3RvcjJEKG5lYXJlc3RfcG9pbnRfdSwgbmVhcmVzdF9wb2ludF92KTtcclxuXHJcbiAgICAgICAgICAgIC8vIOW3puS4i1xyXG4gICAgICAgICAgICBsZXQgTlcgPSBuZXcgVmVjdG9yMkQoUC54IC0gMSwgUC55KTtcclxuICAgICAgICAgICAgbGV0IFNXID0gbmV3IFZlY3RvcjJEKFAueCAtIDEsIFAueSArIDEpO1xyXG4gICAgICAgICAgICBsZXQgU0UgPSBuZXcgVmVjdG9yMkQoUC54LCBQLnkgKyAxKTtcclxuICAgICAgICAgICAgLy/lnKg06bue5YWn55qEdXZcclxuICAgICAgICAgICAgbGV0IHJlY3RVViA9IG5ldyBWZWN0b3IyRCgoc191ICsgaGFsZl9ncmlkX3UpIC8gZ3JpZF91LCAoc192IC0gaGFsZl9ncmlkX3YpIC8gZ3JpZF92KTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgcmVjdFVWLCBOVywgTkU6IFAsIFNXLCBTRSwgY29sb3I6IFNhbXBsZXIuQmlsaW5lYXJfU2FtcGxlcihyZWN0VVYsIE5XLCBQLCBTVywgU0UsIGJ1ZmZlcikgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc191IDw9IGhhbGZfZ3JpZF91ICYmIHNfdiA8PSBoYWxmX2dyaWRfdikvL+ebuOmEsDPpu57lnKjlt6bkuIpcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBQID0gbmV3IFZlY3RvcjJEKG5lYXJlc3RfcG9pbnRfdSwgbmVhcmVzdF9wb2ludF92KTtcclxuXHJcbiAgICAgICAgICAgIC8vIOW3puS4ilxyXG4gICAgICAgICAgICBsZXQgTlcgPSBuZXcgVmVjdG9yMkQoUC54IC0gMSwgUC55IC0gMSk7XHJcbiAgICAgICAgICAgIGxldCBORSA9IG5ldyBWZWN0b3IyRChQLngsIFAueSAtIDEpO1xyXG4gICAgICAgICAgICBsZXQgU1cgPSBuZXcgVmVjdG9yMkQoUC54IC0gMSwgUC55KTtcclxuICAgICAgICAgICAgLy/lnKg06bue5YWn55qEdXZcclxuICAgICAgICAgICAgbGV0IHJlY3RVViA9IG5ldyBWZWN0b3IyRCgoc191ICsgaGFsZl9ncmlkX3UpIC8gZ3JpZF91LCAoc192ICsgaGFsZl9ncmlkX3YpIC8gZ3JpZF92KTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgcmVjdFVWLCBOVywgTkUsIFNXLCBTRTogUCwgY29sb3I6IFNhbXBsZXIuQmlsaW5lYXJfU2FtcGxlcihyZWN0VVYsIE5XLCBORSwgU1csIFAsIGJ1ZmZlcikgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc191ID49IGhhbGZfZ3JpZF91ICYmIHNfdiA8PSBoYWxmX2dyaWRfdikvL+ebuOmEsDPpu57lnKjlj7PkuIpcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8v5Ymb5aW95pW06Zmk5pmC6KaB5YGa5L+u5q2jXHJcbiAgICAgICAgICAgIGlmIChuZWFyZXN0X3BvaW50X3VfZmxvYXQgPT0gbmVhcmVzdF9wb2ludF91KVxyXG4gICAgICAgICAgICAgICAgbmVhcmVzdF9wb2ludF91ID0gbmVhcmVzdF9wb2ludF91IC0gMTtcclxuICAgICAgICAgICAgbGV0IFAgPSBuZXcgVmVjdG9yMkQobmVhcmVzdF9wb2ludF91LCBuZWFyZXN0X3BvaW50X3YpO1xyXG5cclxuICAgICAgICAgICAgLy8g5Y+z5LiKXHJcbiAgICAgICAgICAgIGxldCBOVyA9IG5ldyBWZWN0b3IyRChQLngsIFAueSAtIDEpO1xyXG4gICAgICAgICAgICBsZXQgTkUgPSBuZXcgVmVjdG9yMkQoUC54ICsgMSwgUC55IC0gMSk7XHJcbiAgICAgICAgICAgIGxldCBTRSA9IG5ldyBWZWN0b3IyRChQLnggKyAxLCBQLnkpO1xyXG4gICAgICAgICAgICAvL+WcqDTpu57lhafnmoR1dlxyXG4gICAgICAgICAgICBsZXQgcmVjdFVWID0gbmV3IFZlY3RvcjJEKChzX3UgLSBoYWxmX2dyaWRfdSkgLyBncmlkX3UsIChzX3YgKyBoYWxmX2dyaWRfdikgLyBncmlkX3YpO1xyXG4gICAgICAgICAgICByZXR1cm4geyByZWN0VVYsIE5XLCBORSwgU1c6IFAsIFNFLCBjb2xvcjogU2FtcGxlci5CaWxpbmVhcl9TYW1wbGVyKHJlY3RVViwgTlcsIE5FLCBQLCBTRSwgYnVmZmVyKSB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgQmlsaW5lYXJfU2FtcGxlcihyZWN0VVY6IFZlY3RvcjJELCBOVzogVmVjdG9yMkQsIE5FOiBWZWN0b3IyRCwgU1c6IFZlY3RvcjJELCBTRTogVmVjdG9yMkQsIGJ1ZmZlcjogQnVmZmVyMkQ8UkdCQT4pIHtcclxuXHJcbiAgICAgICAgLy/lsI005YCL6bue6aGP6Imy5L2c5YWn5o+SXHJcbiAgICAgICAgbGV0IE5XYyA9IGJ1ZmZlci5nZXRfY2xhbXBfbW9kZShOVy54LCBOVy55KTtcclxuICAgICAgICBsZXQgTkVjID0gYnVmZmVyLmdldF9jbGFtcF9tb2RlKE5FLngsIE5FLnkpO1xyXG4gICAgICAgIGxldCBTV2MgPSBidWZmZXIuZ2V0X2NsYW1wX21vZGUoU1cueCwgU1cueSk7XHJcbiAgICAgICAgbGV0IFNFYyA9IGJ1ZmZlci5nZXRfY2xhbXBfbW9kZShTRS54LCBTRS55KTtcclxuXHJcbiAgICAgICAgbGV0IG5SR0IgPSBSR0JBLmxlcnAoTldjLCBORWMsIHJlY3RVVi54KTtcclxuICAgICAgICBsZXQgc1JHQiA9IFJHQkEubGVycChTV2MsIFNFYywgcmVjdFVWLngpO1xyXG4gICAgICAgIGxldCBtaWRkbGVSR0IgPSBSR0JBLmxlcnAoblJHQiwgc1JHQiwgcmVjdFVWLnkpO1xyXG4gICAgICAgIHJldHVybiBtaWRkbGVSR0I7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQnVmZmVyMkQgZnJvbSBcIi4vQnVmZmVyMkRcIjtcclxuaW1wb3J0IENhdm5hc0hlbHBlciBmcm9tIFwiLi9DYW52YXNIZWxwZXJcIjtcclxuaW1wb3J0IFJHQkEgZnJvbSBcIi4vUkdCQVwiO1xyXG5pbXBvcnQgU2FtcGxlciBmcm9tIFwiLi9TYW1wbGVyXCI7XHJcbmltcG9ydCBWZWN0b3IyRCBmcm9tIFwiLi9WZWN0b3IyRFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZTJEIHtcclxuICAgIGJlZ2luX2xvYWQoc3JjOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMuaW1nLnNyYyA9IHNyYzsgLy9cclxuICAgICAgICB0aGlzLmltZy5vbmxvYWQgPSB0aGlzLmxvYWRfdGV4dHVyZV9idWZmZXI7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZF90ZXh0dXJlX2J1ZmZlcigpIHtcclxuICAgICAgICBsZXQgdyA9IHRoaXMuaW1nLndpZHRoO1xyXG4gICAgICAgIGxldCBoID0gdGhpcy5pbWcuaGVpZ2h0O1xyXG5cclxuICAgICAgICBsZXQgY2FudmFzX3RleHR1cmUgPSBDYXZuYXNIZWxwZXIuc2V0X2NhbnZhcygnY2FudmFzX3RleHR1cmUnLCB3LCBoKTtcclxuICAgICAgICBsZXQgY3R4ID0gQ2F2bmFzSGVscGVyLmdldF9jb250ZXh0X2J5X2NhbnZhcyhjYW52YXNfdGV4dHVyZSk7XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmltZywgMCwgMCk7XHJcblxyXG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IEJ1ZmZlcjJEPFJHQkE+KHcsIGgpO1xyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaDsgKyt5KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdzsgKyt4KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoeCwgeSwgMSwgMSkuZGF0YTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyLnNldCh4LCB5LCBuZXcgUkdCQShkYXRhWzBdIC8gMjU1LCBkYXRhWzFdIC8gMjU1LCBkYXRhWzJdIC8gMjU1LCBkYXRhWzNdIC8gMjU1KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgKHkgPj0gNyAmJiB5IDw9IDggJiYgeCA+PSA3ICYmIHggPD0gOCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH07XHJcblxyXG4gICAgaW1nOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgYnVmZmVyOiBCdWZmZXIyRDxSR0JBPjtcclxuICAgIGNvbnN0cnVjdG9yKHNyYzogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkX3RleHR1cmVfYnVmZmVyID0gdGhpcy5sb2FkX3RleHR1cmVfYnVmZmVyLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5iZWdpbl9sb2FkKHNyYyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0KHV2OiBWZWN0b3IyRCkge1xyXG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpXHJcbiAgICAgICAgICAgIHJldHVybiB7IHJlY3RVVjogbnVsbCwgTlc6IG51bGwsIE5FOiBudWxsLCBTVzogbnVsbCwgU0U6IG51bGwsIGNvbG9yOiBSR0JBLmJsYWNrIH07XHJcbiAgICAgICAgcmV0dXJuIFNhbXBsZXIudGV4dHVyZTJEKHV2LCB0aGlzLmJ1ZmZlcik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQm94IGZyb20gXCIuL01hdGgvQm94M0RcIjtcclxuaW1wb3J0IENhbWVyYSBmcm9tIFwiLi9NYXRoL0NhbWVyYVwiO1xyXG5pbXBvcnQgVHJhbnNmb3JtIGZyb20gXCIuL01hdGgvVHJhbnNmb3JtXCI7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSBcIi4vTWF0aC9WZWN0b3JcIjtcclxuaW1wb3J0IFJlbmRlclRhcmdldCBmcm9tICcuL01hdGgvUmVuZGVyVGFyZ2V0JztcclxuaW1wb3J0IEJ1ZmZlcjJEIGZyb20gXCIuL01hdGgvQnVmZmVyMkRcIjtcclxuaW1wb3J0IFJHQkEgZnJvbSBcIi4vTWF0aC9SR0JBXCI7XHJcbmltcG9ydCBSYXN0ZXJpemVyIGZyb20gXCIuL01hdGgvUmFzdGVyaXplclwiO1xyXG5pbXBvcnQgQ2F2bmFzSGVscGVyIGZyb20gXCIuL01hdGgvQ2FudmFzSGVscGVyXCI7XHJcbmltcG9ydCBUZXh0dXJlMkQgZnJvbSBcIi4vTWF0aC9UZXh0dXJlMkRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhc3Rlcml6ZXJBcHAge1xyXG5cclxuICAgIGNhbWVyYUluZGV4X3ZpZXcgPSAxO1xyXG4gICAgY2FtZXJhSW5kZXhfY29udHJvbCA9IDA7XHJcbiAgICBjYW1lcmE6IENhbWVyYSA9IG51bGw7XHJcbiAgICB0aGFuZGxlOiBudW1iZXI7XHJcblxyXG4gICAgLy8gc2NyZWVuV2lkdGggPSA4MDA7XHJcbiAgICAvLyBzY3JlZW5IZWlnaHQgPSA2MDA7XHJcblxyXG4gICAgLy8gc2NyZWVuV2lkdGggPSA2NDA7XHJcbiAgICAvLyBzY3JlZW5IZWlnaHQgPSA0ODA7XHJcblxyXG4gICAgc2NyZWVuV2lkdGggPSAzMjA7XHJcbiAgICBzY3JlZW5IZWlnaHQgPSAyNDA7XHJcbiAgICBib3g6IEJveCA9IG51bGw7XHJcblxyXG4gICAgbGFzdF90OiBudW1iZXI7XHJcbiAgICBzdW1fdDogbnVtYmVyO1xyXG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICByZW5kZXJfdGFyZ2V0OiBSZW5kZXJUYXJnZXQ7XHJcbiAgICB0ZXh0dXJlOiBUZXh0dXJlMkQ7XHJcbiAgICB1c2Vfc29saWRfY29sb3IgPSBmYWxzZTtcclxuICAgIG5kY19jbGFtcF9lZmZlY3QgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB3aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5fdGltZW91dCcpLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5fcmVzdW1lJykub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzdW1lKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuX3RvZ2dsZV9kcmF3aW5nX21vZGUnKS5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51c2Vfc29saWRfY29sb3IgPSAhdGhpcy51c2Vfc29saWRfY29sb3I7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuX3RvZ2dsZV9uZGNfY2xhbXBfZWZmZWN0Jykub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmRjX2NsYW1wX2VmZmVjdCA9ICF0aGlzLm5kY19jbGFtcF9lZmZlY3Q7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBkb2N1bWVudC5vbmtleWRvd24gPSB0aGlzLmtleVByb2MuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmRyYXdTY2VuZSA9IHRoaXMuZHJhd1NjZW5lLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBSYXN0ZXJpemVyLmNvbG9yX2J1ZmZlciA9IG5ldyBCdWZmZXIyRDxSR0JBPih0aGlzLnNjcmVlbldpZHRoLCB0aGlzLnNjcmVlbkhlaWdodCk7XHJcbiAgICAgICAgUmFzdGVyaXplci56X2J1ZmZlciA9IG5ldyBCdWZmZXIyRDxudW1iZXI+KHRoaXMuc2NyZWVuV2lkdGgsIHRoaXMuc2NyZWVuSGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnJlbmRlcl90YXJnZXQgPSBuZXcgUmVuZGVyVGFyZ2V0KHRoaXMuc2NyZWVuV2lkdGgsIHRoaXMuc2NyZWVuSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8g5LiN6IO95bCN5ZCMMeWAi2NhbnZhc+WPluS4jeWQjOeahGNvbnRleHRcclxuICAgICAgICB0aGlzLmN0eCA9IENhdm5hc0hlbHBlci5zZXRfY2FudmFzKCdjYW52YXNfbGluZScsIHRoaXMuc2NyZWVuV2lkdGgsIHRoaXMuc2NyZWVuSGVpZ2h0KS5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIENhdm5hc0hlbHBlci5zZXRfY2FudmFzKCdjYW52YXMnLCB0aGlzLnNjcmVlbldpZHRoLCB0aGlzLnNjcmVlbkhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMuYm94ID0gbmV3IEJveCgpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYShuZXcgVmVjdG9yKDAsIDUwLCAtMjAwKSwgbmV3IFZlY3RvcigwLCAwLCAwKSwgNjAsIHRoaXMuc2NyZWVuV2lkdGgsIHRoaXMuc2NyZWVuSGVpZ2h0LCAxMCwgNTAwKTtcclxuICAgICAgICAvLyB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZTJEKCcvdGV4dHVyZS9Db2xsYWdlIDIwMjEtMTEtMTMgMTRfMTdfNTQuanBnJyk7XHJcbiAgICAgICAgLy8gdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUyRCgnL3RleHR1cmUvc21va2luZ18yLmpwZycpO1xyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IG5ldyBUZXh0dXJlMkQoJy90ZXh0dXJlL1BvbV9Qb21fUHVyaW4ucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB0aGlzLnN1bV90ID0gMDtcclxuICAgICAgICBsZXQgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sYXN0X3QgPSBkLmdldFRpbWUoKTtcclxuICAgICAgICB0aGlzLnRoYW5kbGUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZHJhd1NjZW5lKTtcclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKSB7XHJcbiAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHRoaXMubGFzdF90ID0gZC5nZXRUaW1lKCk7XHJcbiAgICAgICAgdGhpcy50aGFuZGxlID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmRyYXdTY2VuZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy50aGFuZGxlKTtcclxuICAgICAgICB0aGlzLnRoYW5kbGUgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdTY2VuZSh0aW1lc3RhbXA6IG51bWJlcikge1xyXG5cclxuICAgICAgICBsZXQgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgbGV0IHQgPSBkLmdldFRpbWUoKTtcclxuICAgICAgICBsZXQgZGlmZiA9IHQgLSB0aGlzLmxhc3RfdDtcclxuICAgICAgICB0aGlzLmxhc3RfdCA9IHQ7XHJcbiAgICAgICAgdGhpcy5zdW1fdCA9IHRoaXMuc3VtX3QgKyBkaWZmO1xyXG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gZGlmZi50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAvLyDmuIXnqbpcclxuICAgICAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5zY3JlZW5XaWR0aCwgdGhpcy5zY3JlZW5IZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwicmdiYSgxODAsMzAsMTUsMC4xKVwiO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuc2NyZWVuV2lkdGgsIHRoaXMuc2NyZWVuSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgUmFzdGVyaXplci5jbGVhcihSR0JBLmJsYWNrLCAxKTtcclxuXHJcbiAgICAgICAgLy/nlavnq4vmlrnpq5RcclxuICAgICAgICBsZXQgb2Zmc2V0TWF0cml4ID0gVHJhbnNmb3JtLm9mZnNldCgwLCAwLCAwKTtcclxuICAgICAgICBsZXQgbm93RGVncmVlID0gdGhpcy5zdW1fdCAvIDEwMDAgKiAxNSAlIDM2MDtcclxuICAgICAgICAvLyBsZXQgbm93RGVncmVlID0gMDtcclxuXHJcbiAgICAgICAgLy8gbGV0IHJvdGF0ZU1hdHJpeCA9IFRyYW5zZm9ybS5yb3RhdGVCeVkobm93RGVncmVlKTtcclxuICAgICAgICBsZXQgcm90YXRlTWF0cml4ID0gVHJhbnNmb3JtLnJvdGF0ZUJ5WSgzMzYuNTU0OTk5OTk5OTk5OTUpO1xyXG4gICAgICAgIC8vIGxldCByb3RhdGVNYXRyaXggPSBUcmFuc2Zvcm0ucm90YXRlQnlZKDQ1KTtcclxuICAgICAgICBsZXQgY29tYmluZU1hdHJpeCA9IFRyYW5zZm9ybS50cmFuc2Zvcm1UcmFuc2Zvcm0ob2Zmc2V0TWF0cml4LCByb3RhdGVNYXRyaXgpO1xyXG4gICAgICAgIHRoaXMuYm94LnJhc3Rlcml6ZSh0aGlzLmNhbWVyYSwgY29tYmluZU1hdHJpeCwgdGhpcy50ZXh0dXJlLCB0aGlzLnVzZV9zb2xpZF9jb2xvciwgdGhpcy5uZGNfY2xhbXBfZWZmZWN0KTtcclxuICAgICAgICB0aGlzLmJveC5kcmF3X2xpbmUodGhpcy5jdHgpO1xyXG5cclxuICAgICAgICAvLyBvZmZzZXRNYXRyaXggPSBUcmFuc2Zvcm0ub2Zmc2V0KDAsIDAsIDE1MCk7XHJcbiAgICAgICAgLy8gcm90YXRlTWF0cml4ID0gVHJhbnNmb3JtLnJvdGF0ZUJ5WShub3dEZWdyZWUpO1xyXG4gICAgICAgIC8vIGNvbWJpbmVNYXRyaXggPSBUcmFuc2Zvcm0udHJhbnNmb3JtVHJhbnNmb3JtKHJvdGF0ZU1hdHJpeCwgb2Zmc2V0TWF0cml4KTtcclxuICAgICAgICAvLyB0aGlzLmJveC5yYXN0ZXJpemUodGhpcy5jYW1lcmEsIGNvbWJpbmVNYXRyaXgsIHRoaXMudGV4dHVyZSx0aGlzLnVzZV9zb2xpZF9jb2xvcix0aGlzLm5kY19jbGFtcF9lZmZlY3QpO1xyXG4gICAgICAgIC8vIHRoaXMuYm94LmRyYXdfbGluZSh0aGlzLmN0eCk7XHJcblxyXG4gICAgICAgIC8vIOmhr+ekuuWIsHJlbmRlciB0YXJnZXRcclxuICAgICAgICBSYXN0ZXJpemVyLnNob3codGhpcy5yZW5kZXJfdGFyZ2V0KTtcclxuXHJcbiAgICAgICAgdGhpcy50aGFuZGxlID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmRyYXdTY2VuZSk7XHJcbiAgICB9XHJcblxyXG4gICAga2V5UHJvYyhldmVudDogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgICAgIGxldCBLZXBNYXAgPVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdzogODcsXHJcbiAgICAgICAgICAgIHI6IDgyLFxyXG5cclxuICAgICAgICAgICAgZTogNjksXHJcbiAgICAgICAgICAgIGQ6IDY4LFxyXG4gICAgICAgICAgICBzOiA4MyxcclxuICAgICAgICAgICAgZjogNzAsXHJcblxyXG4gICAgICAgICAgICBhX3VwOiAzOCxcclxuICAgICAgICAgICAgYV9kb3duOiA0MCxcclxuICAgICAgICAgICAgYV9sZWZ0OiAzNyxcclxuICAgICAgICAgICAgYV9yaWdodDogMzlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgbW92ZVMgPSAxO1xyXG4gICAgICAgIGxldCByb3RhdGVTID0gMC4xO1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC53OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEubW92ZUV5ZShtb3ZlUywgdGhpcy5jYW1lcmEuel9heGlzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5yOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEubW92ZUV5ZSgtbW92ZVMsIHRoaXMuY2FtZXJhLnpfYXhpcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLmU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5tb3ZlRXllKG1vdmVTLCB0aGlzLmNhbWVyYS55X2F4aXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLmQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5tb3ZlRXllKC1tb3ZlUywgdGhpcy5jYW1lcmEueV9heGlzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5zOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEubW92ZUV5ZSgtbW92ZVMsIHRoaXMuY2FtZXJhLnhfYXhpcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAuZjpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLm1vdmVFeWUobW92ZVMsIHRoaXMuY2FtZXJhLnhfYXhpcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLmFfdXA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5hZGRQaXRjaChyb3RhdGVTKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEtlcE1hcC5hX2Rvd246XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5hZGRQaXRjaCgtcm90YXRlUyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgS2VwTWFwLmFfbGVmdDpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLmFkZFlhdygtcm90YXRlUyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBLZXBNYXAuYV9yaWdodDpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLmFkZFlhdyhyb3RhdGVTKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxubmV3IFJhc3Rlcml6ZXJBcHAoKTsiXSwibmFtZXMiOlsiZnJvbSIsImRpciIsInRoaXMiLCJweCIsInB5IiwicHoiLCJ4IiwieSIsInoiLCJtaW5fbWF4IiwidjAiLCJ2MSIsInYyIiwibWluIiwiVmVjdG9yIiwiTWF0aCIsIm1heCIsImNhbGN1bGF0ZV9ub3JtYWwiLCJ2MDEiLCJtaW51cyIsInYwMiIsImNyb3NzIiwibm9ybWFsaXplIiwiY2FsY3VsYXRlX2NlbnRlciIsImFkZCIsIm11bHRpcGx5IiwidXYiLCJ1IiwidiIsInJlZmxlY3QiLCJJIiwiTiIsIkwiLCJkb3QiLCJBIiwiQiIsInMiLCJtdWx0aXBseTMiLCJlcXVhbCIsIm51bWJlcl9lcXVhbCIsImxlcnAiLCJ0IiwiY2xhbXBfeCIsImNsYW1wIiwiY2xhbXBfeSIsImxlbmd0aCIsInNxcnQiLCJ0ZW1wIiwibmVnYXRpdmUiLCJWZWN0b3IyRCIsImNsb25lIiwidXAiLCJ6ZXJvIiwicCIsInciLCJ0byIsInRfd2hlbl94X2VxdWFsX3ciLCJ0X3doZW5feV9lcXVhbF93IiwidF93aGVuX3pfZXF1YWxfdyIsInRfd2hlbl94X2VxdWFsX21pbnVzX3ciLCJ0X3doZW5feV9lcXVhbF9taW51c193IiwidF93aGVuX3pfZXF1YWxfemVyb193IiwicG9pbnQiLCJub3JtYWwiLCJDIiwiaXNfcG9zaXRpdmUiLCJ0ZXN0X3AiLCJkaWZmIiwiaGl0IiwicmF5IiwicmVzdWx0IiwiUGxhbmUiLCJpc19oaXQiLCJwbGFuZSIsImhpdF9wb3MiLCJpIiwieEF4aXMiLCJ5QXhpcyIsInpBeGlzIiwicG9zaXRpb24iLCJ0cmFuc2Zvcm1Qb2ludCIsInRyYW5zZm9ybSIsInZlY3RvclgiLCJ2ZWN0b3JZIiwidmVjdG9yWiIsInRyYW5zZm9ybVZlY3RvciIsInZlcnRleCIsInRyYW5zZm9ybVRyYW5zZm9ybSIsImlucHV0VHJhbnNmb3JtIiwiVHJhbnNmb3JtIiwicm90YXRlQnlaIiwiZGVncmVlIiwicmFkaWFuIiwiZGVncmVlX3RvX1JhZCIsImMiLCJjb3MiLCJzaW4iLCJyb3RhdGVCeVkiLCJyb3RhdGVCeVgiLCJvZmZzZXQiLCJyIiwiZyIsImIiLCJhIiwiUkdCQSIsImsiLCJ0b1N0cmluZyIsImRlYnVnIiwiZ29sZGVuIiwieWVsbG93IiwicGluayIsImJsYWNrIiwicmVkIiwicGx1cyIsImNsZWFyIiwiY29sb3IiLCJSYXN0ZXJpemVyIiwiY29sb3JfYnVmZmVyIiwiel9idWZmZXIiLCJzaG93IiwicmVuZGVyX3RhcmdldCIsInNldF9waXhlbCIsImdldCIsInNob3dfYnVmZmVyIiwiY2xpcF9oZWxwZXIiLCJpbl9saXN0IiwidjBfb3V0IiwidjFfb3V0IiwidjJfb3V0Iiwib3V0X2xpc3QiLCJjbGlwIiwicHVzaCIsImNsaXBfaW5fUHJvamVjdGlvbl9TcGFjZSIsInBjYW1lcmEiLCJUIiwiQ2xpcFBsYW5lIiwiRmFyIiwiTmVhciIsIk1WUF9iYWNrZmFjZV9jdWxsaW5nX2NsaXBwaW5nIiwidHJpYW5nbGUiLCJ3b3JsZFRyYW5zZm9ybSIsInYwX3ciLCJ2MV93IiwidjJfdyIsInYwX2MiLCJ0b0NhbWVyYVNwYWNlIiwidjFfYyIsInYyX2MiLCJ2MF9wIiwidG9Qcm9qZWN0aW9uU3BhY2UiLCJ2MV9wIiwidjJfcCIsImNlbnRlcl90b19leWUiLCJ1cGRhdGVfcCIsInVwZGF0ZV93IiwicHJvY2VzcyIsInRleHR1cmUiLCJ1c2Vfc29saWRfY29sb3IiLCJuZGNfY2xhbXBfZWZmZWN0IiwibGlzdCIsIm4wIiwidG9OREMiLCJuMSIsIm4yIiwiczAiLCJ0b1NjcmVlblNwYWNlIiwiczEiLCJzMiIsIm1pbl94IiwiZmxvb3IiLCJtYXhfeCIsIm1pbl95IiwibWF4X3kiLCJoIiwiUCIsInN1Y2Nlc3MiLCJzZXQiLCJwdjAiLCJwdjEiLCJwdjIiLCJkaXIwMSIsImRpcjAyIiwibiIsInBfb25fZGlyMDEiLCJjb25zb2xlIiwibG9nIiwiaXNOYU4iLCJpc19pbl90cmlhbmdsZSIsImludGVycG9sYXRpb24iLCJyYXN0ZXJpemUiLCJ2X3MiLCJkcmF3IiwiY3R4IiwidENvdW50IiwiaW5kZXgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJkIiwiUEkiLCJhYnMiLCJnZXRfaGl0X3NvcnRfbGlzdCIsIm9ial9saXN0IiwibWFwIiwib2JqIiwiZmlsdGVyIiwiaW5mbyIsInNvcnQiLCJ2X2NsaXAiLCJnZXRDcm9zc1BvaW50IiwiZ2V0X1ZlY3RvcjREIiwiUmlnaHQiLCJMZWZ0IiwiVG9wIiwiQm90dG9tIiwiY2xpcF9maXJzdF9pbiIsImNsaXBfZmlyc3Rfb3V0IiwiY3Jvc3MxIiwiY3Jvc3MyIiwiYWNjRGl2IiwiYXJnMSIsImFyZzIiLCJ0MSIsInQyIiwic3BsaXQiLCJlIiwiTnVtYmVyIiwicmVwbGFjZSIsInBvdyIsImFjY0FkZCIsInIxIiwicjIiLCJtIiwiY20iLCJkcmF3TGluZSIsIm9uZSIsInR3byIsInZhbHVlIiwiYnVmZmVyIiwibm93Iiwic3RlcCIsInJhdGlvIiwiYWJzX3IiLCJpbnRYIiwiaXNfbGVnYWxfaW5kZXgiLCJpc19vdmVyX3Bvc2l0aXZlIiwiaW50WSIsImlzX292ZXJfbmVnYXRpdmUiLCJkcmF3Q2lyY2xlIiwiZGVsdGEiLCJjZW50ZXIiLCJzdGFydFRoZWRhIiwibm93WCIsIm5vd1kiLCJuZXh0WCIsIm5leHRZIiwiRHJhd0hlbHBlciIsImRyYXdMaW5lV3JhcHBlciIsImRyYXdTdGFyIiwidDAiLCJidWlsZF92ZXJ0ZXgiLCJWZXJ0ZXgiLCJ0cmlhbmdsZXMiLCJyb3RhdGVNYXRyaXgiLCJjYW1lcmEiLCJ0cmlhbmdsZXNfYWZ0ZXJfY2xpcCIsImRyYXdfbGluZSIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwic3Ryb2tlIiwic2hhZGluZyIsImhpdF9pbmZvIiwiZGlyZWN0aW9uX2xpZ2h0X2RpciIsImRlcHRoIiwic3RyZW5ndGgiLCJzaGFkb3dfd2VpZ2h0IiwiZ2V0X3NoYWRvd193ZWlnaHQiLCJEaWZmdXNlIiwiZ3JlZW4iLCJibHVlIiwiZ3JheSIsIndoaXRlIiwiZXllIiwibG9va19hdCIsImZvdl9kZWdyZWUiLCJzY3JlZW5XIiwic2NyZWVuSCIsIkYiLCJtb3ZlRXllIiwic2NyZWVuQ2VudGVyWCIsInNjcmVlbkNlbnRlclkiLCJoYWxmVyIsImhhbGZIIiwiel9heGlzIiwiaGVscF92IiwieF9heGlzIiwieV9heGlzIiwiYWRkUGl0Y2giLCJhZGRZYXciLCJjcmVhdGVfcmF5X2RpciIsInhfd2VpZ2h0IiwieV93ZWlnaHQiLCJoYWxmX2Zvdl9yYWQiLCJ0YW5faCIsInRhbiIsInRhbl93IiwiaGFsZl9mb3YiLCJ5X3NjYWxlIiwieF9zY2FsZSIsIk5EQ19BIiwicmVuZGVyIiwiaGFsZl9waXhlbF9vZmZzZXQiLCJtdWx0aXNhbXBsZV9kaWZmIiwicmVuZGVyX3BpeGVsIiwicmF5X2RpciIsImNvbG9ycyIsImhpdF9zb3J0X2xpc3QiLCJjb3VudCIsInJlZHVjZSIsImFjY3VtdWxhdG9yIiwiY3VycmVudCIsImJhY2tidWZmZXIiLCJPZmZzY3JlZW5DYW52YXMiLCJmdW5jIiwiY29udGV4dF8yZCIsImdldENvbnRleHQiLCJiYWNrYnVmZmVyX2RhdGEiLCJnZXRJbWFnZURhdGEiLCJiYWNrYnVmZmVyX2RhdGFfYXJyYXkiLCJkYXRhIiwiWCIsIlkiLCJnYW1tYSIsInJvdW5kIiwicHV0SW1hZ2VEYXRhIiwiY2FudmFzX2lkIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInRyYW5zZmVyRnJvbUltYWdlQml0bWFwIiwidHJhbnNmZXJUb0ltYWdlQml0bWFwIiwiQXJyYXkiLCJnZXRfY2xhbXBfbW9kZSIsIm54IiwibnkiLCJlbmRYIiwiZW5kWSIsInNldF9jYW52YXMiLCJpZCIsIkNhdm5hc0hlbHBlciIsInNldF9jYW52YXNfZWxlbWVudCIsImdldF9jb250ZXh0IiwiZ2V0X2NvbnRleHRfYnlfY2FudmFzIiwiY29udmVydCIsInV2X3RvX2J1ZmZlcl9zcGFjZSIsImJ1ZmZlcl90b191dl9zcGFjZSIsInRleHR1cmUyRCIsInJlY3RVViIsImJ1ZmZlcl91diIsIlNhbXBsZXIiLCJncmlkX3UiLCJncmlkX3YiLCJoYWxmX2dyaWRfdSIsImhhbGZfZ3JpZF92IiwibmVhcmVzdF9wb2ludF91X2Zsb2F0IiwibmVhcmVzdF9wb2ludF92X2Zsb2F0IiwibmVhcmVzdF9wb2ludF91IiwibmVhcmVzdF9wb2ludF92Iiwic191Iiwic192IiwiTkUiLCJTVyIsIlNFIiwiTlciLCJCaWxpbmVhcl9TYW1wbGVyIiwiTldjIiwiTkVjIiwiU1djIiwiU0VjIiwiblJHQiIsInNSR0IiLCJzcmMiLCJsb2FkX3RleHR1cmVfYnVmZmVyIiwiYmluZCIsImJlZ2luX2xvYWQiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsImNhbnZhc190ZXh0dXJlIiwiZHJhd0ltYWdlIiwiY2FtZXJhSW5kZXhfdmlldyIsImNhbWVyYUluZGV4X2NvbnRyb2wiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsImJveCIsIndpbmRvdyIsImluaXQiLCJvbmNsaWNrIiwic3RvcCIsInJlc3VtZSIsIm9ua2V5ZG93biIsImtleVByb2MiLCJkcmF3U2NlbmUiLCJzdGFydCIsInN1bV90IiwiRGF0ZSIsImxhc3RfdCIsImdldFRpbWUiLCJ0aGFuZGxlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ0aW1lc3RhbXAiLCJ0aXRsZSIsImNsZWFyUmVjdCIsImZpbGxTdHlsZSIsImZpbGxSZWN0Iiwib2Zmc2V0TWF0cml4IiwiY29tYmluZU1hdHJpeCIsImV2ZW50Iiwia2V5Q29kZSJdLCJzb3VyY2VSb290IjoiIn0=