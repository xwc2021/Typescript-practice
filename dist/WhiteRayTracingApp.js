(()=>{"use strict";const t=function(t,n){this.from=t,this.dir=n},n=function(t,n){this.p=t,this.w=n},i=function(){function t(t,i){this.from=t,this.dir=new n(_.minus(i.p,t.p),i.w-t.w)}return t.prototype.t_when_x_equal_w=function(){return(this.from.w-this.from.p.x)/(this.dir.p.x-this.dir.w)},t.prototype.t_when_y_equal_w=function(){return(this.from.w-this.from.p.y)/(this.dir.p.y-this.dir.w)},t.prototype.t_when_z_equal_w=function(){return(this.from.w-this.from.p.z)/(this.dir.p.z-this.dir.w)},t.prototype.t_when_x_equal_minus_w=function(){return-(this.from.w+this.from.p.x)/(this.dir.w+this.dir.p.x)},t.prototype.t_when_y_equal_minus_w=function(){return-(this.from.w+this.from.p.y)/(this.dir.w+this.dir.p.y)},t.prototype.t_when_z_equal_zero_w=function(){return-this.from.p.z/this.dir.p.z},t}(),e=function(){function t(t,n){this.C=t,this.N=n}return t.prototype.is_positive=function(t){var n=_.minus(t,this.C);return _.dot(n,this.N)>0},t.prototype.hit=function(n,i){var e=t.hit(n,this);return e.is_hit&&(e.s=i),e},t.hit=function(t,n){var i=t.from,e=t.dir,r=_.dot(e,n.N),o=_.dot(_.minus(n.C,i),n.N);if(l(r,0))return{is_hit:!1,hit_pos:null,t:-1};var s=o/r;return{is_hit:s>0,hit_pos:i.add(e.multiply(s)),i:e,t:s,normal:n.N}},t}(),r=function(){function t(t,n,i,e){this.xAxis=t,this.yAxis=n,this.zAxis=i,this.position=e}return t.transformPoint=function(t,n){var i=t.xAxis.multiply(n.x),e=t.yAxis.multiply(n.y),r=t.zAxis.multiply(n.z);return t.position.add(i).add(e).add(r)},t.transformVector=function(t,n){var i=t.xAxis.multiply(n.x),e=t.yAxis.multiply(n.y),r=t.zAxis.multiply(n.z);return i.add(e).add(r)},t.transformTransform=function(n,i){return new t(t.transformVector(n,i.xAxis),t.transformVector(n,i.yAxis),t.transformVector(n,i.zAxis),t.transformPoint(n,i.position))},t.rotateByZ=function(n){var i=c(n),e=Math.cos(i),r=Math.sin(i);return new t(new _(e,r,0),new _(-r,e,0),new _(0,0,1),_.zero)},t.rotateByY=function(n){var i=c(n),e=Math.cos(i),r=Math.sin(i),o=new _(r,0,e);return new t(new _(e,0,-r),new _(0,1,0),o,_.zero)},t.rotateByX=function(n){var i=c(n),e=Math.cos(i),r=Math.sin(i);return new t(new _(1,0,0),new _(0,e,r),new _(0,-r,e),new _(0,0,0))},t.offset=function(n,i,e){return new t(new _(1,0,0),new _(0,1,0),new _(0,0,1),new _(n,i,e))},t}(),o=function(){function t(n,i,e,r){this.add=function(n){return new t(this.r+n.r,this.g+n.g,this.b+n.b,1)},this.r=n,this.g=i,this.b=e,this.a=r}return t.lerp=function(n,i,e){return new t(y(n.r,i.r,e),y(n.g,i.g,e),y(n.b,i.b,e),1)},t.prototype.multiply=function(n){return new t(this.r*n,this.g*n,this.b*n,1)},t.prototype.toString=function(){return"( "+this.r+" , "+this.g+" , "+this.b+" )"},t.golden=new t(1,215/255,0,1),t.yellow=new t(1,1,0,1),t.pink=new t(1,192/255,203/255,1),t.black=new t(0,0,0,1),t.red=new t(1,0,0,1),t}(),s=function(){function t(){}return t.clear=function(n,i){t.color_buffer.clear(n),t.z_buffer.clear(i)},t.show=function(n){n.set_pixel((function(n,i){return t.color_buffer.get(n,i)})),n.show_buffer("canvas")},t.clip_helper=function(t,n,i,e,r){for(var o=[],s=0,u=t;s<u.length;s++)for(var a=0,h=v(u[s],n,i,e,r);a<h.length;a++){var c=h[a];o.push(c)}return o},t.clip_in_Projection_Space=function(n,i,e,r){var o=[new u(n,i,e)],s=t.clip_helper(o,(function(t){return t.v0.w<t.v0.p.z}),(function(t){return t.v1.w<t.v1.p.z}),(function(t){return t.v2.w<t.v2.p.z}),p.Far);return s=t.clip_helper(s,(function(t){return 0>t.v0.p.z}),(function(t){return 0>t.v1.p.z}),(function(t){return 0>t.v2.p.z}),p.Near),s=t.clip_helper(s,(function(t){return t.v0.w<t.v0.p.x}),(function(t){return t.v1.w<t.v1.p.x}),(function(t){return t.v2.w<t.v2.p.x}),p.Right),s=t.clip_helper(s,(function(t){return-t.v0.w>t.v0.p.x}),(function(t){return-t.v1.w>t.v1.p.x}),(function(t){return-t.v2.w>t.v2.p.x}),p.Right),s=t.clip_helper(s,(function(t){return t.v0.w<t.v0.p.y}),(function(t){return t.v1.w<t.v1.p.y}),(function(t){return t.v2.w<t.v2.p.y}),p.Top),t.clip_helper(s,(function(t){return-t.v0.w>t.v0.p.y}),(function(t){return-t.v1.w>t.v1.p.y}),(function(t){return-t.v2.w>t.v2.p.y}),p.Bottom)},t.MVP_backface_culling_clipping=function(n,i,e){var o=r.transformPoint(e,n.v0.p),s=r.transformPoint(e,n.v1.p),u=r.transformPoint(e,n.v2.p),a=i.toCameraSpace(o),h=i.toCameraSpace(s),c=i.toCameraSpace(u),p=i.toProjectionSpace(a),f=i.toProjectionSpace(h),l=i.toProjectionSpace(c),w=_.calculate_normal(a,h,c),y=_.minus(_.zero,_.calculate_center(a,h,c)).normalize();if(_.dot(w,y)<=0)return[];var v=n.v0.clone().update_p(p).update_w(a.z),x=n.v1.clone().update_p(f).update_w(h.z),m=n.v2.clone().update_p(l).update_w(c.z);return t.clip_in_Projection_Space(v,x,m,i)},t.process=function(n,i,e){for(var r=[],s=0,a=t.MVP_backface_culling_clipping(n,i,e);s<a.length;s++){var h=a[s],c=i.toNDC(h.v0.p,h.v0.w),p=i.toNDC(h.v1.p,h.v1.w),f=i.toNDC(h.v2.p,h.v2.w),l=i.toScreenSpace(c),w=i.toScreenSpace(p),y=i.toScreenSpace(f);r.push(l),r.push(w),r.push(y);for(var v=_.min_max(l,w,y),x=v.min,m=v.max,d=Math.floor(x.x),g=Math.floor(m.x),z=Math.floor(x.y),M=Math.floor(m.y),b=d;b<=g;++b)for(var S=z;S<=M;++S){var C=new _(b+.5,S+.5,0),N=u["calculate_α_β_γ"](l,w,y,C),P=N.α,k=N.β,q=N.γ;if(u.is_in_triangle(P,k,q)){t.color_buffer.set(b,S,o.yellow);var A=u.interpolation(q,P,k,c.z,p.z,f.z);if(!(A>t.z_buffer.get(b,S))){t.z_buffer.set(b,S,A);u.interpolation(q,P,k,1/h.v0.w,1/h.v1.w,1/h.v2.w);u.interpolation(q,P,k,h.v0.u/h.v0.w,h.v1.u/h.v1.w,h.v2.u/h.v2.w),u.interpolation(q,P,k,h.v0.v/h.v0.w,h.v1.v/h.v1.w,h.v2.v/h.v2.w)}}}}return r},t}(),u=function(){function n(t,n,i){this.v0=t,this.v1=n,this.v2=i}return n.calculate_α_β_γ=function(n,i,r,o){var s=_.minus(o,n),u=_.minus(i,n),a=_.minus(r,n),h=new _(-u.y,u.x,0),c=new t(o,a.multiply(-1)),p=e.hit(c,new e(n,h)).hit_pos,f=_.minus(p,n),l=_.minus(s,f),w=f.x/u.x,y=l.x/a.x;return{α:w,β:y,γ:1-w-y}},n.is_in_triangle=function(t,n,i){return t>=0&&n>=0&&i>=0},n.interpolation=function(t,n,i,e,r,o){return e*t+r*n+o*i},n.prototype.process=function(t,n){this.v_s=s.process(this,t,n)},n.prototype.draw=function(t){if(null!=this.v_s)for(var n=this.v_s.length/3,i=1;i<=n;++i){var e=3*i-1;t.moveTo(this.v_s[e].x,this.v_s[e].y),t.lineTo(this.v_s[e-2].x,this.v_s[e-2].y),t.lineTo(this.v_s[e-1].x,this.v_s[e-1].y),t.lineTo(this.v_s[e].x,this.v_s[e].y)}},n}(),a=function(){function t(t,n,i,e,r){this.p=t,this.n=n,this.w=i,this.u=e,this.v=r}return t.build_vertex=function(n,i,e,r,o){return new t(n,i,e,r,o)},t.lerp=function(n,i,e){return new t(_.lerp(n.p,i.p,e),_.lerp(n.n,i.n,e),y(n.w,i.w,e),y(n.u,i.u,e),y(n.v,i.v,e))},t.prototype.clone=function(){return new t(this.p.clone(),this.n.clone(),this.w,this.u,this.v)},t.prototype.update_p=function(t){return this.p=t,this},t.prototype.update_w=function(t){return this.w=t,this},t.prototype.get_Vector4D=function(){return new n(this.p,this.w)},t}(),h=function(){function t(n,i){this.multiply=function(n){return new t(this.x*n,this.y*n)},this.toString=function(){return"( "+this.x+" , "+this.y+" )"},this.x=n,this.y=i}return t.add=function(n,i){return new t(i.x+n.x,i.y+n.y)},t.minus=function(n,i){return new t(n.x-i.x,n.y-i.y)},t.prototype.plus=function(n){return new t(this.x+n.x,this.y+n.y)},t}();function c(t){return Math.PI*t/180}var p,f=.001;function l(t,n){return Math.abs(t-n)<f}function w(t,n){return t.map((function(t){return t.h.hit(n,t.s)})).filter((function(t){return t.is_hit})).sort((function(t,n){return t.t-n.t}))}function y(t,n,i){return t+i*(n-t)}function v(t,n,e,r,o){var s=[],h=function(t,n){var e=new i(t.get_Vector4D(),n.get_Vector4D()),r=0;switch(o){case p.Far:r=e.t_when_z_equal_w();break;case p.Near:r=e.t_when_z_equal_zero_w();break;case p.Right:r=e.t_when_x_equal_w();break;case p.Left:r=e.t_when_x_equal_minus_w();break;case p.Top:r=e.t_when_y_equal_w();break;case p.Bottom:r=e.t_when_y_equal_minus_w()}return a.lerp(t,n,r)},c=function(t,n,i){s[0]=new u(t,h(t,n),h(t,i))},f=function(t,n,i){var e=h(i,t),r=h(t,n);s[0]=new u(i,e,r),s[1]=new u(i,r,n)};return n(t)?e(t)?r(t)||c(t.v2,t.v0,t.v1):r(t)?c(t.v1,t.v2,t.v0):f(t.v0,t.v1,t.v2):e(t)?r(t)?c(t.v0,t.v1,t.v2):f(t.v1,t.v2,t.v0):r(t)?f(t.v2,t.v0,t.v1):s[0]=t,s}!function(t){t[t.Near=0]="Near",t[t.Far=1]="Far",t[t.Right=2]="Right",t[t.Left=3]="Left",t[t.Top=4]="Top",t[t.Bottom=5]="Bottom"}(p||(p={})),function(){function t(){}t.accDiv=function(t,n){var i=0,e=0;try{i=t.toString().split(".")[1].length}catch(t){}try{e=n.toString().split(".")[1].length}catch(t){}return Number(t.toString().replace(".",""))/Number(n.toString().replace(".",""))*Math.pow(10,e-i)},t.accAdd=function(t,n){var i,e,r,o;try{i=t.toString().split(".")[1].length}catch(t){i=0}try{e=n.toString().split(".")[1].length}catch(t){e=0}if(o=Math.abs(i-e),r=Math.pow(10,Math.max(i,e)),o>0){var s=Math.pow(10,o);i>e?(t=Number(t.toString().replace(".","")),n=Number(n.toString().replace(".",""))*s):(t=Number(t.toString().replace(".",""))*s,n=Number(n.toString().replace(".","")))}else t=Number(t.toString().replace(".","")),n=Number(n.toString().replace(".",""));return(t+n)/r}}(),function(){function t(){}t.drawLine=function(t,n,i,e){var r=t,o=n,s=h.minus(o,r),u=100;if(0!=s.y)if(0!=s.x){var a=s.x/s.y,c=Math.abs(a);if(a>0){if(c<=1)for(l=1;l<u;l++){r.y=r.y+1,r.x=r.x+c;var p=Math.floor(r.x);if(!e.is_legal_index(p,r.y))break;if(e.is_over_positive(r.x,r.y,o.x,o.y))break;e.set(p,r.y,i)}else if(c>1)for(l=1;l<u;l++){r.y=r.y+1/c,r.x=r.x+1;var f=Math.floor(r.y);if(!e.is_legal_index(r.x,f))break;if(e.is_over_positive(r.x,r.y,o.x,o.y))break;e.set(r.x,f,i)}}else if(a<0)if(c<=1)for(l=1;l<u&&(r.y=r.y+1,r.x=r.x-c,p=Math.floor(r.x),e.is_legal_index(p,r.y))&&!e.is_over_negative(r.x,r.y,o.x,o.y);l++)e.set(p,r.y,i);else if(c>1)for(l=1;l<u&&(r.y=r.y+1/c,r.x=r.x-1,f=Math.floor(r.y),e.is_legal_index(r.x,f))&&!e.is_over_negative(r.x,r.y,o.x,o.y);l++)e.set(r.x,f,i)}else for(var l=1;l<u&&(r.y=r.y+1,e.is_legal_index(r.x,r.y))&&!(r.y>o.y);l++)e.set(r.x,r.y,i);else for(l=1;l<u&&(r.x=r.x+1,e.is_legal_index(r.x,r.y))&&!(r.x>o.x);l++)e.set(r.x,r.y,i)},t.drawCircle=function(n,i){for(var e=2*Math.PI/50,r=new h(10,10),o=-Math.PI/3,s=0;s<50;s++){var u=Math.floor(r.x+9*Math.cos(o+e*s)),a=Math.floor(r.y+9*Math.sin(o+e*s)),c=Math.floor(r.x+9*Math.cos(o+e*(s+1))),p=Math.floor(r.y+9*Math.sin(o+e*(s+1)));t.drawLineWrapper(new h(u,a),new h(c,p),n,i)}},t.drawStar=function(n,i){for(var e=2*Math.PI/5,r=new h(10,10),o=-Math.PI/3,s=0,u=0;u<5;u++){var a=Math.floor(r.x+9*Math.cos(o+e*s)),c=Math.floor(r.y+9*Math.sin(o+e*s)),p=Math.floor(r.x+9*Math.cos(o+e*(s+2))),f=Math.floor(r.y+9*Math.sin(o+e*(s+2)));t.drawLineWrapper(new h(a,c),new h(p,f),n,i),s+=2}},t.drawLineWrapper=function(n,i,e,r){n.y<i.y?t.drawLine(n,i,e,r):i.y<n.y?t.drawLine(i,n,e,r):n.x<i.x?t.drawLine(n,i,e,r):i.x<n.x&&t.drawLine(i,n,e,r)}}();const _=function(){function t(t,n,i){this.x=0,this.y=0,this.z=0,this.x=t,this.y=n,this.z=i}return t.min_max=function(n,i,e){return{min:new t(Math.min(Math.min(n.x,i.x),e.x),Math.min(Math.min(n.y,i.y),e.y),Math.min(Math.min(n.z,i.z),e.z)),max:new t(Math.max(Math.max(n.x,i.x),e.x),Math.max(Math.max(n.y,i.y),e.y),Math.max(Math.max(n.z,i.z),e.z))}},t.calculate_normal=function(n,i,e){var r=t.minus(i,n),o=t.minus(e,n);return t.cross(r,o).normalize()},t.calculate_center=function(t,n,i){return t.add(n).add(i).multiply(1/3)},t.uv=function(n,i){return new t(n,i,0)},t.reflect=function(n,i){var e=-2*t.dot(n,i);return i.multiply(e).add(n)},t.add=function(n,i){return new t(i.x+n.x,i.y+n.y,i.z+n.z)},t.minus=function(n,i){return new t(n.x-i.x,n.y-i.y,n.z-i.z)},t.multiply=function(n,i){return new t(n.x*i,n.y*i,n.z*i)},t.multiply3=function(n,i){return new t(n.x*i.x,n.y*i.y,n.z*i.z)},t.cross=function(n,i){return new t(n.y*i.z-n.z*i.y,-n.x*i.z+n.z*i.x,n.x*i.y-n.y*i.x)},t.dot=function(t,n){return t.x*n.x+t.y*n.y+t.z*n.z},t.equal=function(t,n){return l(t.x,n.x)&&l(t.y,n.y)&&l(t.z,n.z)},t.lerp=function(n,i,e){return new t(y(n.x,i.x,e),y(n.y,i.y,e),y(n.z,i.z,e))},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.normalize=function(){var t=this.length();return this.x=this.x/t,this.y=this.y/t,this.z=this.z/t,this},t.prototype.add=function(n){return t.add(this,n)},t.prototype.minus=function(n){return t.minus(this,n)},t.prototype.multiply=function(n){return t.multiply(this,n)},t.prototype.negative=function(){return t.multiply(this,-1)},t.prototype.Vector2D=function(){return this.z=0,this},t.prototype.clone=function(){return new t(this.x,this.y,this.z)},t.up=new t(0,1,0),t.zero=new t(0,0,0),t}(),x=function(){function n(t){this.color=t}return n.prototype.shading=function(n,i,e,r){var o,s=n.normal,u=(0,(o=-_.dot(i,s))>1?1:o<0?0:o),a=function(n,i,e){var r=i.negative(),o=n.hit_pos.add(r.multiply(f));return 0!=w(e,new t(o,r)).length?.45:1}(n,i,e);return this.color.multiply(u).multiply(a)},n.yellow=new n(new _(1,1,0)),n.red=new n(new _(1,0,0)),n.green=new n(new _(0,1,0)),n.blue=new n(new _(0,0,1)),n.gray=new n(new _(.5,.5,.5)),n.white=new n(new _(1,1,1)),n}(),m=function(){function n(t,n,i,e,r,o,s){this.moveEye=function(t,n){this.eye=_.add(this.eye,n.multiply(t))},this.ratio=e/r,this.screenW=e,this.screenH=r,this.screenCenterX=.5*this.screenW,this.screenCenterY=.5*this.screenH,this.halfW=.5*this.screenW,this.halfH=.5*this.screenH,this.z_axis=_.minus(n,t).normalize();var u=_.up;this.x_axis=_.cross(u,this.z_axis).normalize(),this.y_axis=_.cross(this.z_axis,this.x_axis),this.eye=t,this.fov_degree=i,this.N=o,this.F=s,this.a=s/(s-o),this.b=-o*s/(s-o),console.log(this.a,this.b)}return n.prototype.addPitch=function(t){},n.prototype.addYaw=function(t){},n.prototype.create_ray_dir=function(t,n,i){var e=c(.5*this.fov_degree),r=Math.tan(e),o=r*i;return this.z_axis.add(this.x_axis.multiply(t*o)).add(this.y_axis.multiply(n*r))},n.prototype.toCameraSpace=function(t){var n=t.minus(this.eye);return new _(_.dot(n,this.x_axis),_.dot(n,this.y_axis),_.dot(n,this.z_axis))},n.prototype.toProjectionSpace=function(t){var n=.5*c(this.fov_degree),i=1/Math.tan(n),e=1/(this.ratio*Math.tan(n));return new _(t.x*e,t.y*i,t.z*this.a+this.b)},n.prototype.toNDC=function(t,n){var i=1/n;return t.multiply(i)},n.prototype.toScreenSpace=function(t){var n=this.halfW*t.x+this.screenCenterX,i=-this.halfH*t.y+this.screenCenterY;return new _(n,i,0)},n.prototype.render=function(n,i){var e=this,r=new _(1,-1,0).normalize(),o=.5/n.h,s=[{x:0,y:0},{x:o,y:o},{x:-o,y:o},{x:-o,y:-o},{x:o,y:-o}];n.render_pixel((function(n,o,u){var a=e.create_ray_dir(n,o,u),h=s.map((function(n){var i=a.add(e.x_axis.multiply(n.x)).add(e.y_axis.multiply(n.y));return new t(e.eye,i.normalize())})).map((function(t){var n=w(i,t);if(0!=n.length){var e=n[0];return e.s.shading(e,r,i,1)}return x.gray.color})),c=s.length;return h.reduce((function(t,n){return t.add(n)}),_.zero).multiply(1/c)}))},n}(),d=function(){function t(t,n,i){this.plane=t,this.w=n,this.h=i}return t.prototype.hit=function(t,n){var i=this.plane.hit(t,n);if(i.is_hit){var e=i.hit_pos,r=e.minus(this.plane.C),o=_.equal(this.plane.N,_.up)?new _(1,0,0):_.up,s=_.cross(o,this.plane.N).normalize(),u=_.cross(s,this.plane.N),a=_.dot(r,s),h=_.dot(r,u);return{is_hit:Math.abs(a)<this.w&&Math.abs(h)<this.h,hit_pos:e,i:t.dir,t:i.t,normal:this.plane.N,s:n}}return{is_hit:!1}},t}(),g=function(){function t(t,n){this.C=t,this.R=n}return t.prototype.hit=function(t,n){var i=t.dir,e=t.from,r=_.dot(i,i),o=2*(_.dot(i,e)-_.dot(i,this.C)),s=o*o-4*r*(_.dot(e,e)-2*_.dot(e,this.C)+_.dot(this.C,this.C)-this.R*this.R);if(l(s,0)){if((p=-o/(2*r))<0)return{is_hit:!1};var u=(c=e.add(i.multiply(p))).minus(this.C).normalize();return{is_hit:!0,hit_pos:c,i,t:p,normal:u,s:n}}if(s>0){var a=Math.sqrt(s),h=[(-o-a)/(2*r),(-o+a)/(2*r)].filter((function(t){return t>0}));if(0==h.length)return{is_hit:!1};var c,p=h[0];return u=(c=e.add(i.multiply(p))).minus(this.C).normalize(),{is_hit:!0,hit_pos:c,i,t:p,normal:u,s:n}}return{is_hit:!1}},t}(),z=function(){function t(t,n){void 0===t&&(t=320),void 0===n&&(n=240),this.w=320,this.h=240,this.backbuffer=null,this.w=t,this.h=n,this.backbuffer=new OffscreenCanvas(this.w,this.h)}return t.prototype.render_pixel=function(t){for(var n=this.backbuffer.getContext("2d"),i=n.getImageData(0,0,this.w,this.h),e=i.data,r=this.w/this.h,o=0;o<this.h;++o)for(var s=0;s<this.w;++s){var u=4*(s+o*this.w),a=(s+.5)/this.w,h=(o+.5)/this.h,c=t(2*a-1,2*(h=1-h)-1,r),p=c.x,f=c.y,l=c.z,w=1/2.1;p=Math.pow(p,w),f=Math.pow(f,w),l=Math.pow(l,w),e[u++]=Math.round(255*p),e[u++]=Math.round(255*f),e[u++]=Math.round(255*l),e[u]=255}n.putImageData(i,0,0)},t.prototype.set_pixel=function(t){for(var n=this.backbuffer.getContext("2d"),i=n.getImageData(0,0,this.w,this.h),e=i.data,r=(this.w,this.h,0);r<this.h;++r)for(var o=0;o<this.w;++o){var s=4*(o+r*this.w),u=t(o,r),a=u.r,h=u.g,c=u.b,p=1/2.1;a=Math.pow(a,p),h=Math.pow(h,p),c=Math.pow(c,p),e[s++]=Math.round(255*a),e[s++]=Math.round(255*h),e[s++]=Math.round(255*c),e[s]=255}n.putImageData(i,0,0)},t.prototype.show_buffer=function(t){var n=document.getElementById(t);n.style.width=this.w+"px",n.style.height=this.h+"px",n.width=n.clientWidth,n.height=n.clientHeight,n.getContext("bitmaprenderer").transferFromImageBitmap(this.backbuffer.transferToImageBitmap())},t}(),M=function(t,n){this.s=t,this.h=n},b=function(){function n(){}return n.prototype.shading=function(n,i,e,r){if(r>20)return console.log("超過上限"),x.green.color;var o=n.normal,s=n.i,u=_.reflect(s,o),a=n.hit_pos.add(u.multiply(f)),h=w(e,new t(a,u)),c=new _(1,1,1);if(0!=h.length){var p=h[0],l=p.s.shading(p,i,e,++r);return _.multiply3(c,l.multiply(.9))}return _.multiply3(c,x.gray.color.multiply(.9))},n}();new function(){var t=[new M(x.white,new d(new e(_.zero,_.up),16,16))];t.push(new M(x.yellow,new g(new _(6,2,-8),2))),t.push(new M(x.green,new g(new _(-6,2,-8),2))),t.push(new M(x.blue,new g(new _(0,2,-12),2))),t.push(new M(x.yellow,new g(new _(-10,6,0),6))),t.push(new M(new b,new g(new _(0,2,-2),2))),t.push(new M(new b,new g(new _(12,4,-6),4))),t.push(new M(new b,new g(new _(8,4,2),4)));var n=new m(new _(0,20,-20),_.zero,60,800,600,1,500),i=new z(800,600);n.render(i,t),i.show_buffer("canvas")}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQzdFaUYsRUFBU2pGLEtBQUssSUFBSSxFQUFVLFFBQWUsSUFBSSxFQUFPLElBQUksR0FBUSxFQUFHLEdBQUksR0FBSSxLQUM3RWlGLEVBQVNqRixLQUFLLElBQUksRUFBVSxPQUFjLElBQUksRUFBTyxJQUFJLEVBQU8sRUFBRyxHQUFJLElBQUssS0FDNUVpRixFQUFTakYsS0FBSyxJQUFJLEVBQVUsU0FBZ0IsSUFBSSxFQUFPLElBQUksR0FBUSxHQUFJLEVBQUcsR0FBSSxLQUU5RWlGLEVBQVNqRixLQUFLLElBQUksRUFBVSxJQUFJLEVBQVUsSUFBSSxFQUFPLElBQUksRUFBTyxFQUFHLEdBQUksR0FBSSxLQUMzRWlGLEVBQVNqRixLQUFLLElBQUksRUFBVSxJQUFJLEVBQVUsSUFBSSxFQUFPLElBQUksRUFBTyxHQUFJLEdBQUksR0FBSSxLQUM1RWlGLEVBQVNqRixLQUFLLElBQUksRUFBVSxJQUFJLEVBQVUsSUFBSSxFQUFPLElBQUksRUFBTyxFQUFHLEVBQUcsR0FBSSxLQUUxRSxJQUVJc1AsRUFBUyxJQUFJLEVBQU8sSUFBSSxFQUFPLEVBQUcsSUFBSyxJQUFLLE9BQWEsR0FGcEQsSUFDQSxJQUNnRSxFQUFHLEtBQ3hFalEsRUFBZ0IsSUFBSSxFQUhmLElBQ0EsS0FHVGlRLEVBQU85QyxPQUFPbk4sRUFBZTRGLEdBQzdCNUYsRUFBY0csWUFBWSxZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1JheS50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVmVjdG9yNEQudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL1JheTRELnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9QbGFuZS50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVHJhbnNmb3JtLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9SR0JBLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9SYXN0ZXJpemVyLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9UcmlhbmdsZS50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVmVydGV4LnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9WZWN0b3IyRC50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVG9vbC50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvVmVjdG9yLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0ZXJhaWxzL0RpZmZ1c2UudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9NYXRoL0NhbWVyYS50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvUmVjdC50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL01hdGgvU3BoZXJlLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0aC9SZW5kZXJUYXJnZXQudHMiLCJ3ZWJwYWNrOi8vd2ViZ2xfdGVzdC8uL3NyYy9PYmplY3QvU2NlbmVOb2RlLnRzIiwid2VicGFjazovL3dlYmdsX3Rlc3QvLi9zcmMvTWF0ZXJhaWxzL01pcnJvci50cyIsIndlYnBhY2s6Ly93ZWJnbF90ZXN0Ly4vc3JjL1doaXRlUmF5VHJhY2luZ0FwcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVmVjb3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYXkge1xyXG4gICAgZnJvbTogVmVjb3I7XHJcbiAgICBkaXI6IFZlY29yO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGZyb206IFZlY29yLCBkaXI6IFZlY29yKSB7XHJcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcclxuICAgICAgICB0aGlzLmRpciA9IGRpcjtcclxuICAgIH1cclxufTsiLCJpbXBvcnQgVmVjb3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZWN0b3I0RCB7XHJcbiAgICBwOiBWZWNvcjtcclxuICAgIHc6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwOiBWZWNvciwgdzogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5wID0gcDtcclxuICAgICAgICB0aGlzLncgPSB3O1xyXG4gICAgfVxyXG59OyIsImltcG9ydCBWZWN0b3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcbmltcG9ydCBWZWNvcjREIGZyb20gXCIuL1ZlY3RvcjREXCI7XHJcblxyXG4vLyDlnKgzRCBzcGFjZeijgeWIh+eahOipsVxyXG4vLyDpgoTopoHogIPmha7ku4DpurzmmYLlgJnopoHnlKgoeCx5LHcp6KOB5YiHXHJcbi8vIOS7gOm6vOaZguWAmeimgeeUqCh4LHkseinoo4HliIdcclxuLy8gXHJcbi8vIOS4jeWmguebtOaOpeWcqDREIHNwYWNl6KOB5YiHXHJcbi8vIGh0dHBzOi8vZ3Bubm90ZXMuYmxvZ3Nwb3QuY29tLzIwMjEvMTEvYmxvZy1wb3N0XzI4Lmh0bWxcclxuLy8g5ZyWIDREIHNwYWNlIGNsaXBcclxuLy8g6YCZ6KOh55SoRGlyZWN0eOeahE5EQ1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYXk0RCB7XHJcbiAgICBmcm9tOiBWZWNvcjREO1xyXG4gICAgZGlyOiBWZWNvcjREO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGZyb206IFZlY29yNEQsIHRvOiBWZWNvcjREKSB7XHJcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcclxuICAgICAgICB0aGlzLmRpciA9IG5ldyBWZWNvcjREKFZlY3Rvci5taW51cyh0by5wLCBmcm9tLnApLCB0by53IC0gZnJvbS53KTtcclxuICAgIH1cclxuXHJcbiAgICB0X3doZW5feF9lcXVhbF93KCkge1xyXG4gICAgICAgIC8vIGZyb20ueCArIHQgKiBkaXIueD0gZnJvbS53ICsgdCAqIGRpci53O1xyXG4gICAgICAgIGxldCB0ID0gKHRoaXMuZnJvbS53IC0gdGhpcy5mcm9tLnAueCkgLyAodGhpcy5kaXIucC54IC0gdGhpcy5kaXIudyk7XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdF93aGVuX3lfZXF1YWxfdygpIHtcclxuICAgICAgICBsZXQgdCA9ICh0aGlzLmZyb20udyAtIHRoaXMuZnJvbS5wLnkpIC8gKHRoaXMuZGlyLnAueSAtIHRoaXMuZGlyLncpO1xyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG5cclxuICAgIHRfd2hlbl96X2VxdWFsX3coKSB7XHJcbiAgICAgICAgbGV0IHQgPSAodGhpcy5mcm9tLncgLSB0aGlzLmZyb20ucC56KSAvICh0aGlzLmRpci5wLnogLSB0aGlzLmRpci53KTtcclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuXHJcbiAgICB0X3doZW5feF9lcXVhbF9taW51c193KCkge1xyXG4gICAgICAgIC8vIGZyb20ueCArIHQgKiBkaXIueD0gLShmcm9tLncgKyB0ICogZGlyLncpO1xyXG5cclxuICAgICAgICBsZXQgdCA9IC0odGhpcy5mcm9tLncgKyB0aGlzLmZyb20ucC54KSAvICh0aGlzLmRpci53ICsgdGhpcy5kaXIucC54KTtcclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuXHJcbiAgICB0X3doZW5feV9lcXVhbF9taW51c193KCkge1xyXG4gICAgICAgIGxldCB0ID0gLSh0aGlzLmZyb20udyArIHRoaXMuZnJvbS5wLnkpIC8gKHRoaXMuZGlyLncgKyB0aGlzLmRpci5wLnkpO1xyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG5cclxuICAgIHRfd2hlbl96X2VxdWFsX3plcm9fdygpIHtcclxuXHJcbiAgICAgICAgLy8gZnJvbS56ICsgdCAqIGRpci56PSAwO1xyXG4gICAgICAgIGxldCB0ID0gLXRoaXMuZnJvbS5wLnogLyB0aGlzLmRpci5wLno7XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbn07IiwiaW1wb3J0IFZlY3RvciBmcm9tICcuL1ZlY3Rvcic7XHJcbmltcG9ydCBSYXkgZnJvbSAnLi9SYXknO1xyXG5pbXBvcnQgeyBudW1iZXJfZXF1YWwgfSBmcm9tICcuL1Rvb2wnO1xyXG5pbXBvcnQgSGl0SW5mbyBmcm9tICcuL0hpdEluZm8nO1xyXG5pbXBvcnQgSGl0YWJsZSBmcm9tICcuL0hpdGFibGUnO1xyXG5pbXBvcnQgU2hhZGVyIGZyb20gJy4uL01hdGVyYWlscy9TaGFkZXInO1xyXG5cclxuLy8g5bmz6Z2iXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYW5lIGltcGxlbWVudHMgSGl0YWJsZSB7XHJcblxyXG4gICAgQzogVmVjdG9yO1xyXG4gICAgTjogVmVjdG9yO1xyXG4gICAgY29uc3RydWN0b3IocG9pbnQ6IFZlY3Rvciwgbm9ybWFsOiBWZWN0b3IpIHtcclxuICAgICAgICB0aGlzLkMgPSBwb2ludDtcclxuICAgICAgICB0aGlzLk4gPSBub3JtYWw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5ris6KmmdGVzcF9w5ZKM5pa55ZCR6YeP5piv5LiN5piv5Zyo5ZCM5LiA6YKKXHJcbiAgICBpc19wb3NpdGl2ZSh0ZXN0X3A6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCBkaWZmID0gVmVjdG9yLm1pbnVzKHRlc3RfcCwgdGhpcy5DKTtcclxuICAgICAgICBsZXQgdmFsdWUgPSBWZWN0b3IuZG90KGRpZmYsIHRoaXMuTik7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlID4gMDtcclxuICAgIH1cclxuXHJcbiAgICBoaXQocmF5OiBSYXksIHM6IFNoYWRlcik6IEhpdEluZm8ge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBQbGFuZS5oaXQocmF5LCB0aGlzKTtcclxuICAgICAgICBpZiAocmVzdWx0LmlzX2hpdClcclxuICAgICAgICAgICAgcmVzdWx0LnMgPSBzO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGhpdChyYXk6IFJheSwgcGxhbmU6IFBsYW5lKTogSGl0SW5mbyB7XHJcbiAgICAgICAgLy8gcmF5IGhpdCBwbGFuZSBcclxuICAgICAgICBsZXQgZnJvbSA9IHJheS5mcm9tO1xyXG4gICAgICAgIGxldCBkaXIgPSByYXkuZGlyO1xyXG5cclxuICAgICAgICAvLyAoRi1DKeOAgk4gKyB0IChE44CCTikgPSAwXHJcbiAgICAgICAgLy8gdCAgPSAoQy1GKeOAgk4gLyAoROOAgk4pXHJcbiAgICAgICAgLy8gdCAgPSAoQSAvIChCKVxyXG4gICAgICAgIGxldCBCID0gVmVjdG9yLmRvdChkaXIsIHBsYW5lLk4pO1xyXG4gICAgICAgIGxldCBBID0gVmVjdG9yLmRvdChWZWN0b3IubWludXMocGxhbmUuQywgZnJvbSksIHBsYW5lLk4pO1xyXG5cclxuICAgICAgICAvLyBhdm9pZCBkaXZpZGUgYnkgMFxyXG4gICAgICAgIGlmIChudW1iZXJfZXF1YWwoQiwgMCkpXHJcbiAgICAgICAgICAgIHJldHVybiB7IGlzX2hpdDogZmFsc2UsIGhpdF9wb3M6IG51bGwsIHQ6IC0xIH07XHJcblxyXG4gICAgICAgIGxldCB0ID0gQSAvIEI7XHJcbiAgICAgICAgbGV0IGlzX2hpdCA9IHQgPiAwLjA7XHJcbiAgICAgICAgbGV0IGhpdF9wb3MgPSBmcm9tLmFkZChkaXIubXVsdGlwbHkodCkpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlzX2hpdCxcclxuICAgICAgICAgICAgaGl0X3BvcyxcclxuICAgICAgICAgICAgaTogZGlyLFxyXG4gICAgICAgICAgICB0LFxyXG4gICAgICAgICAgICBub3JtYWw6IHBsYW5lLk5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVmVjdG9yIGZyb20gXCIuL1ZlY3RvclwiO1xyXG5pbXBvcnQgeyBkZWdyZWVfdG9fUmFkIH0gZnJvbSAnLi9Ub29sJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNmb3JtIHtcclxuICAgIHhBeGlzOiBWZWN0b3I7XHJcbiAgICB5QXhpczogVmVjdG9yO1xyXG4gICAgekF4aXM6IFZlY3RvcjtcclxuICAgIHBvc2l0aW9uOiBWZWN0b3I7XHJcbiAgICBjb25zdHJ1Y3Rvcih4QXhpczogVmVjdG9yLCB5QXhpczogVmVjdG9yLCB6QXhpczogVmVjdG9yLCBwb3NpdGlvbjogVmVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy54QXhpcyA9IHhBeGlzO1xyXG4gICAgICAgIHRoaXMueUF4aXMgPSB5QXhpcztcclxuICAgICAgICB0aGlzLnpBeGlzID0gekF4aXM7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB0cmFuc2Zvcm1Qb2ludCh0cmFuc2Zvcm06IFRyYW5zZm9ybSwgcG9pbnQ6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCB2ZWN0b3JYID0gdHJhbnNmb3JtLnhBeGlzLm11bHRpcGx5KHBvaW50LngpO1xyXG4gICAgICAgIGxldCB2ZWN0b3JZID0gdHJhbnNmb3JtLnlBeGlzLm11bHRpcGx5KHBvaW50LnkpO1xyXG4gICAgICAgIGxldCB2ZWN0b3JaID0gdHJhbnNmb3JtLnpBeGlzLm11bHRpcGx5KHBvaW50LnopO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJhbnNmb3JtLnBvc2l0aW9uLmFkZCh2ZWN0b3JYKS5hZGQodmVjdG9yWSkuYWRkKHZlY3RvclopO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB0cmFuc2Zvcm1WZWN0b3IodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHZlcnRleDogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHZlY3RvclggPSB0cmFuc2Zvcm0ueEF4aXMubXVsdGlwbHkodmVydGV4LngpO1xyXG4gICAgICAgIGxldCB2ZWN0b3JZID0gdHJhbnNmb3JtLnlBeGlzLm11bHRpcGx5KHZlcnRleC55KTtcclxuICAgICAgICBsZXQgdmVjdG9yWiA9IHRyYW5zZm9ybS56QXhpcy5tdWx0aXBseSh2ZXJ0ZXgueik7XHJcblxyXG4gICAgICAgIHJldHVybiB2ZWN0b3JYLmFkZCh2ZWN0b3JZKS5hZGQodmVjdG9yWik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHRyYW5zZm9ybVRyYW5zZm9ybSh0cmFuc2Zvcm06IFRyYW5zZm9ybSwgaW5wdXRUcmFuc2Zvcm06IFRyYW5zZm9ybSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtKFxyXG4gICAgICAgICAgICBUcmFuc2Zvcm0udHJhbnNmb3JtVmVjdG9yKHRyYW5zZm9ybSwgaW5wdXRUcmFuc2Zvcm0ueEF4aXMpLFxyXG4gICAgICAgICAgICBUcmFuc2Zvcm0udHJhbnNmb3JtVmVjdG9yKHRyYW5zZm9ybSwgaW5wdXRUcmFuc2Zvcm0ueUF4aXMpLFxyXG4gICAgICAgICAgICBUcmFuc2Zvcm0udHJhbnNmb3JtVmVjdG9yKHRyYW5zZm9ybSwgaW5wdXRUcmFuc2Zvcm0uekF4aXMpLFxyXG4gICAgICAgICAgICBUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQodHJhbnNmb3JtLCBpbnB1dFRyYW5zZm9ybS5wb3NpdGlvbiksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcm90YXRlQnlaKGRlZ3JlZTogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHJhZGlhbiA9IGRlZ3JlZV90b19SYWQoZGVncmVlKTtcclxuICAgICAgICBsZXQgYyA9IE1hdGguY29zKHJhZGlhbiksIHMgPSBNYXRoLnNpbihyYWRpYW4pO1xyXG4gICAgICAgIGxldCB4QXhpcyA9IG5ldyBWZWN0b3IoYywgcywgMCk7XHJcbiAgICAgICAgbGV0IHlBeGlzID0gbmV3IFZlY3RvcigtcywgYywgMCk7XHJcbiAgICAgICAgbGV0IHpBeGlzID0gbmV3IFZlY3RvcigwLCAwLCAxKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm0oXHJcbiAgICAgICAgICAgIHhBeGlzLFxyXG4gICAgICAgICAgICB5QXhpcyxcclxuICAgICAgICAgICAgekF4aXMsXHJcbiAgICAgICAgICAgIFZlY3Rvci56ZXJvLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJvdGF0ZUJ5WShkZWdyZWU6IG51bWJlcikge1xyXG4gICAgICAgIGxldCByYWRpYW4gPSBkZWdyZWVfdG9fUmFkKGRlZ3JlZSk7XHJcbiAgICAgICAgbGV0IGMgPSBNYXRoLmNvcyhyYWRpYW4pLCBzID0gTWF0aC5zaW4ocmFkaWFuKTtcclxuICAgICAgICBsZXQgekF4aXMgPSBuZXcgVmVjdG9yKHMsIDAsIGMpO1xyXG4gICAgICAgIGxldCB4QXhpcyA9IG5ldyBWZWN0b3IoYywgMCwgLXMpO1xyXG4gICAgICAgIGxldCB5QXhpcyA9IG5ldyBWZWN0b3IoMCwgMSwgMCk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtKFxyXG4gICAgICAgICAgICB4QXhpcyxcclxuICAgICAgICAgICAgeUF4aXMsXHJcbiAgICAgICAgICAgIHpBeGlzLFxyXG4gICAgICAgICAgICBWZWN0b3IuemVybyxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByb3RhdGVCeVgoZGVncmVlOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgcmFkaWFuID0gZGVncmVlX3RvX1JhZChkZWdyZWUpO1xyXG4gICAgICAgIGxldCBjID0gTWF0aC5jb3MocmFkaWFuKSwgcyA9IE1hdGguc2luKHJhZGlhbik7XHJcbiAgICAgICAgbGV0IHhBeGlzID0gbmV3IFZlY3RvcigxLCAwLCAwKTtcclxuICAgICAgICBsZXQgeUF4aXMgPSBuZXcgVmVjdG9yKDAsIGMsIHMpO1xyXG4gICAgICAgIGxldCB6QXhpcyA9IG5ldyBWZWN0b3IoMCwgLXMsIGMpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShcclxuICAgICAgICAgICAgeEF4aXMsXHJcbiAgICAgICAgICAgIHlBeGlzLFxyXG4gICAgICAgICAgICB6QXhpcyxcclxuICAgICAgICAgICAgbmV3IFZlY3RvcigwLCAwLCAwKSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBvZmZzZXQoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtKFxyXG4gICAgICAgICAgICBuZXcgVmVjdG9yKDEsIDAsIDApLFxyXG4gICAgICAgICAgICBuZXcgVmVjdG9yKDAsIDEsIDApLFxyXG4gICAgICAgICAgICBuZXcgVmVjdG9yKDAsIDAsIDEpLFxyXG4gICAgICAgICAgICBuZXcgVmVjdG9yKHgsIHksIHopLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVmVjdG9yIGZyb20gXCIuL1ZlY3RvclwiO1xyXG5pbXBvcnQgeyBsZXJwIH0gZnJvbSBcIi4vVG9vbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUkdCQSB7XHJcbiAgICBzdGF0aWMgZ29sZGVuID0gbmV3IFJHQkEoMSwgMjE1IC8gMjU1LCAwLCAxKTtcclxuICAgIHN0YXRpYyB5ZWxsb3cgPSBuZXcgUkdCQSgxLCAxLCAwLCAxKTtcclxuICAgIHN0YXRpYyBwaW5rID0gbmV3IFJHQkEoMSwgMTkyIC8gMjU1LCAyMDMgLyAyNTUsIDEpO1xyXG4gICAgc3RhdGljIGJsYWNrID0gbmV3IFJHQkEoMCwgMCwgMCwgMSk7XHJcbiAgICBzdGF0aWMgcmVkID0gbmV3IFJHQkEoMSwgMCwgMCwgMSk7XHJcblxyXG4gICAgcjogbnVtYmVyO1xyXG4gICAgZzogbnVtYmVyO1xyXG4gICAgYjogbnVtYmVyO1xyXG4gICAgYTogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IocjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciwgYTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5yID0gcjtcclxuICAgICAgICB0aGlzLmcgPSBnO1xyXG4gICAgICAgIHRoaXMuYiA9IGI7XHJcbiAgICAgICAgdGhpcy5hID0gYTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbGVycChBOiBSR0JBLCBCOiBSR0JBLCBrOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJHQkEoXHJcbiAgICAgICAgICAgIGxlcnAoQS5yLCBCLnIsIGspLFxyXG4gICAgICAgICAgICBsZXJwKEEuZywgQi5nLCBrKSxcclxuICAgICAgICAgICAgbGVycChBLmIsIEIuYiwgayksXHJcbiAgICAgICAgICAgIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZCA9IGZ1bmN0aW9uIChBOiBSR0JBKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSR0JBKHRoaXMuciArIEEuciwgdGhpcy5nICsgQS5nLCB0aGlzLmIgKyBBLmIsIDEpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBtdWx0aXBseShzOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJHQkEodGhpcy5yICogcywgdGhpcy5nICogcywgdGhpcy5iICogcywgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiKCBcIiArIHRoaXMuciArIFwiICwgXCIgKyB0aGlzLmcgKyBcIiAsIFwiICsgdGhpcy5iICsgXCIgKVwiO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFRyYW5zZm9ybSBmcm9tICcuL1RyYW5zZm9ybSc7XHJcbmltcG9ydCBUcmlhbmdsZSBmcm9tICcuL1RyaWFuZ2xlJztcclxuaW1wb3J0IHsgQ2xpcFBsYW5lLCBjbGlwIH0gZnJvbSAnLi9Ub29sJztcclxuaW1wb3J0IFZlcnRleCBmcm9tICcuL1ZlcnRleCc7XHJcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9DYW1lcmEnO1xyXG5pbXBvcnQgVmVjdG9yIGZyb20gJy4vVmVjdG9yJztcclxuaW1wb3J0IEJ1ZmZlcjJEIGZyb20gXCIuL0J1ZmZlcjJEXCI7XHJcbmltcG9ydCBSR0JBIGZyb20gXCIuL1JHQkFcIjtcclxuaW1wb3J0IFJlbmRlclRhcmdldCBmcm9tICcuL1JlbmRlclRhcmdldCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYXN0ZXJpemVyIHtcclxuICAgIHN0YXRpYyBjb2xvcl9idWZmZXI6IEJ1ZmZlcjJEPFJHQkE+O1xyXG4gICAgc3RhdGljIHpfYnVmZmVyOiBCdWZmZXIyRDxudW1iZXI+O1xyXG5cclxuICAgIHN0YXRpYyBjbGVhcihjb2xvcjogUkdCQSwgejogbnVtYmVyKSB7XHJcbiAgICAgICAgUmFzdGVyaXplci5jb2xvcl9idWZmZXIuY2xlYXIoY29sb3IpO1xyXG4gICAgICAgIFJhc3Rlcml6ZXIuel9idWZmZXIuY2xlYXIoeik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNob3cocmVuZGVyX3RhcmdldDogUmVuZGVyVGFyZ2V0KSB7XHJcbiAgICAgICAgcmVuZGVyX3RhcmdldC5zZXRfcGl4ZWwoKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBSYXN0ZXJpemVyLmNvbG9yX2J1ZmZlci5nZXQoeCwgeSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVuZGVyX3RhcmdldC5zaG93X2J1ZmZlcignY2FudmFzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNsaXBfaGVscGVyKGluX2xpc3Q6IFRyaWFuZ2xlW10sXHJcbiAgICAgICAgdjBfb3V0OiAodHJpYW5nbGU6IFRyaWFuZ2xlKSA9PiBib29sZWFuLFxyXG4gICAgICAgIHYxX291dDogKHRyaWFuZ2xlOiBUcmlhbmdsZSkgPT4gYm9vbGVhbixcclxuICAgICAgICB2Ml9vdXQ6ICh0cmlhbmdsZTogVHJpYW5nbGUpID0+IGJvb2xlYW4sXHJcbiAgICAgICAgcGxhbmU6IENsaXBQbGFuZSkge1xyXG5cclxuICAgICAgICBsZXQgb3V0X2xpc3Q6IFRyaWFuZ2xlW10gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBUIG9mIGluX2xpc3QpIHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGNsaXAoVCwgdjBfb3V0LCB2MV9vdXQsIHYyX291dCwgcGxhbmUpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCB0IG9mIHJlc3VsdClcclxuICAgICAgICAgICAgICAgIG91dF9saXN0LnB1c2godCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRfbGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xpcF9pbl9Qcm9qZWN0aW9uX1NwYWNlKHYwOiBWZXJ0ZXgsIHYxOiBWZXJ0ZXgsIHYyOiBWZXJ0ZXgsIHBjYW1lcmE6IENhbWVyYSkge1xyXG4gICAgICAgIC8vIFRvZG865Z+36KGMNuWAi+W5s+mdoueahOS4ieinkuW9ouijgeWIh1xyXG4gICAgICAgIC8vIOWSjHnou7jlpL40NeW6pueahDLlgIvlubPpnaLjgIHlkox46Lu45aS+NDXluqbnmoQy5YCL5bmz6Z2i44CB6YKE5pyJTmPlkoxGY1xyXG4gICAgICAgIC8vIGh0dHBzOi8vZ3Bubm90ZXMuYmxvZ3Nwb3QuY29tLzIwMjEvMTEvYmxvZy1wb3N0XzI4Lmh0bWxcclxuXHJcblxyXG4gICAgICAgIGxldCBpbl9saXN0ID0gW25ldyBUcmlhbmdsZSh2MCwgdjEsIHYyKV07XHJcblxyXG4gICAgICAgIC8vIEZhclxyXG4gICAgICAgIGxldCBvdXRfbGlzdCA9IFJhc3Rlcml6ZXIuY2xpcF9oZWxwZXIoaW5fbGlzdCxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYwLncgPCBULnYwLnAuejsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYxLncgPCBULnYxLnAuejsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYyLncgPCBULnYyLnAuejsgfSxcclxuICAgICAgICAgICAgQ2xpcFBsYW5lLkZhcik7XHJcblxyXG4gICAgICAgIC8vIE5lYXJcclxuICAgICAgICBvdXRfbGlzdCA9IFJhc3Rlcml6ZXIuY2xpcF9oZWxwZXIob3V0X2xpc3QsXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gMCA+IFQudjAucC56OyB9LFxyXG4gICAgICAgICAgICAoVDogVHJpYW5nbGUpID0+IHsgcmV0dXJuIDAgPiBULnYxLnAuejsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiAwID4gVC52Mi5wLno7IH0sXHJcbiAgICAgICAgICAgIENsaXBQbGFuZS5OZWFyKTtcclxuXHJcbiAgICAgICAgLy8gUmlnaHRcclxuICAgICAgICBvdXRfbGlzdCA9IFJhc3Rlcml6ZXIuY2xpcF9oZWxwZXIob3V0X2xpc3QsXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gVC52MC53IDwgVC52MC5wLng7IH0sXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gVC52MS53IDwgVC52MS5wLng7IH0sXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gVC52Mi53IDwgVC52Mi5wLng7IH0sXHJcbiAgICAgICAgICAgIENsaXBQbGFuZS5SaWdodCk7XHJcblxyXG4gICAgICAgIC8vIExlZnRcclxuICAgICAgICBvdXRfbGlzdCA9IFJhc3Rlcml6ZXIuY2xpcF9oZWxwZXIob3V0X2xpc3QsXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gLVQudjAudyA+IFQudjAucC54OyB9LFxyXG4gICAgICAgICAgICAoVDogVHJpYW5nbGUpID0+IHsgcmV0dXJuIC1ULnYxLncgPiBULnYxLnAueDsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiAtVC52Mi53ID4gVC52Mi5wLng7IH0sXHJcbiAgICAgICAgICAgIENsaXBQbGFuZS5SaWdodCk7XHJcblxyXG4gICAgICAgIC8vIFRvcFxyXG4gICAgICAgIG91dF9saXN0ID0gUmFzdGVyaXplci5jbGlwX2hlbHBlcihvdXRfbGlzdCxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYwLncgPCBULnYwLnAueTsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYxLncgPCBULnYxLnAueTsgfSxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiBULnYyLncgPCBULnYyLnAueTsgfSxcclxuICAgICAgICAgICAgQ2xpcFBsYW5lLlRvcCk7XHJcblxyXG4gICAgICAgIC8vIEJvdHRvbVxyXG4gICAgICAgIG91dF9saXN0ID0gUmFzdGVyaXplci5jbGlwX2hlbHBlcihvdXRfbGlzdCxcclxuICAgICAgICAgICAgKFQ6IFRyaWFuZ2xlKSA9PiB7IHJldHVybiAtVC52MC53ID4gVC52MC5wLnk7IH0sXHJcbiAgICAgICAgICAgIChUOiBUcmlhbmdsZSkgPT4geyByZXR1cm4gLVQudjEudyA+IFQudjEucC55OyB9LFxyXG4gICAgICAgICAgICAoVDogVHJpYW5nbGUpID0+IHsgcmV0dXJuIC1ULnYyLncgPiBULnYyLnAueTsgfSxcclxuICAgICAgICAgICAgQ2xpcFBsYW5lLkJvdHRvbSk7XHJcblxyXG4gICAgICAgIHJldHVybiBvdXRfbGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgTVZQX2JhY2tmYWNlX2N1bGxpbmdfY2xpcHBpbmcodHJpYW5nbGU6IFRyaWFuZ2xlLCBwY2FtZXJhOiBDYW1lcmEsIHdvcmxkVHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcclxuICAgICAgICAvLyB0byB3b3JsZCBzcGFjZVxyXG4gICAgICAgIGxldCB2MF93ID0gVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHdvcmxkVHJhbnNmb3JtLCB0cmlhbmdsZS52MC5wKTtcclxuICAgICAgICBsZXQgdjFfdyA9IFRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludCh3b3JsZFRyYW5zZm9ybSwgdHJpYW5nbGUudjEucCk7XHJcbiAgICAgICAgbGV0IHYyX3cgPSBUcmFuc2Zvcm0udHJhbnNmb3JtUG9pbnQod29ybGRUcmFuc2Zvcm0sIHRyaWFuZ2xlLnYyLnApO1xyXG5cclxuICAgICAgICAvLyB0byBjYW1lcmEgc3BhY2VcclxuICAgICAgICBsZXQgdjBfYyA9IHBjYW1lcmEudG9DYW1lcmFTcGFjZSh2MF93KTtcclxuICAgICAgICBsZXQgdjFfYyA9IHBjYW1lcmEudG9DYW1lcmFTcGFjZSh2MV93KTtcclxuICAgICAgICBsZXQgdjJfYyA9IHBjYW1lcmEudG9DYW1lcmFTcGFjZSh2Ml93KTtcclxuXHJcbiAgICAgICAgLy8gdG8gcHJvamVjdGlvbiBzcGFjZSAoY2xpcCBzcGFjZSlcclxuICAgICAgICBsZXQgdjBfcCA9IHBjYW1lcmEudG9Qcm9qZWN0aW9uU3BhY2UodjBfYyk7XHJcbiAgICAgICAgbGV0IHYxX3AgPSBwY2FtZXJhLnRvUHJvamVjdGlvblNwYWNlKHYxX2MpO1xyXG4gICAgICAgIGxldCB2Ml9wID0gcGNhbWVyYS50b1Byb2plY3Rpb25TcGFjZSh2Ml9jKTtcclxuXHJcbiAgICAgICAgLy8gYmFjayBmYWNlIGN1bGxpbmcgXHJcbiAgICAgICAgLy8gbGV0IHYwX3Rlc3QgPSBuZXcgVmVjdG9yKHYwX3AueCwgdjBfcC55LCB2MF9jLnopO1xyXG4gICAgICAgIC8vIGxldCB2MV90ZXN0ID0gbmV3IFZlY3Rvcih2MV9wLngsIHYxX3AueSwgdjFfYy56KTtcclxuICAgICAgICAvLyBsZXQgdjJfdGVzdCA9IG5ldyBWZWN0b3IodjJfcC54LCB2Ml9wLnksIHYyX2Mueik7XHJcbiAgICAgICAgLy8gbGV0IG5vcm1hbCA9IFZlY3Rvci5jYWxjdWxhdGVfbm9ybWFsKHYwX3Rlc3QsIHYxX3Rlc3QsIHYyX3Rlc3QpO1xyXG4gICAgICAgIC8vIGxldCBjZW50ZXJfdG9fZXllID0gVmVjdG9yLm1pbnVzKFZlY3Rvci56ZXJvLCBWZWN0b3IuY2FsY3VsYXRlX2NlbnRlcih2MF90ZXN0LCB2MV90ZXN0LCB2Ml90ZXN0KSkubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgIC8vIOWcqHZpZXcgc3BhY2XlgZrvvIzkuI3nhLblnKhjbGlwIHNwYWNl5YGa77yM6YKE6KaB5oqKeueUqHflj5bku6PmjonvvIzmnInpu57mkJ7lt6VcclxuICAgICAgICBsZXQgbm9ybWFsID0gVmVjdG9yLmNhbGN1bGF0ZV9ub3JtYWwodjBfYywgdjFfYywgdjJfYyk7XHJcbiAgICAgICAgbGV0IGNlbnRlcl90b19leWUgPSBWZWN0b3IubWludXMoVmVjdG9yLnplcm8sIFZlY3Rvci5jYWxjdWxhdGVfY2VudGVyKHYwX2MsIHYxX2MsIHYyX2MpKS5ub3JtYWxpemUoKTtcclxuICAgICAgICBsZXQgY29zX3ZhbHVlID0gVmVjdG9yLmRvdChub3JtYWwsIGNlbnRlcl90b19leWUpOztcclxuICAgICAgICBpZiAoY29zX3ZhbHVlIDw9IDApIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2N1bGxpbmcnKVxyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDph43mlrDntoHlrpp1dlxyXG4gICAgICAgIGxldCB2MCA9IHRyaWFuZ2xlLnYwLmNsb25lKCkudXBkYXRlX3AodjBfcCkudXBkYXRlX3codjBfYy56KTtcclxuICAgICAgICBsZXQgdjEgPSB0cmlhbmdsZS52MS5jbG9uZSgpLnVwZGF0ZV9wKHYxX3ApLnVwZGF0ZV93KHYxX2Mueik7XHJcbiAgICAgICAgbGV0IHYyID0gdHJpYW5nbGUudjIuY2xvbmUoKS51cGRhdGVfcCh2Ml9wKS51cGRhdGVfdyh2Ml9jLnopO1xyXG5cclxuICAgICAgICAvLyDln7fooYzkuInop5LlvaLoo4HliIdcclxuICAgICAgICByZXR1cm4gUmFzdGVyaXplci5jbGlwX2luX1Byb2plY3Rpb25fU3BhY2UodjAsIHYxLCB2MiwgcGNhbWVyYSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHByb2Nlc3ModHJpYW5nbGU6IFRyaWFuZ2xlLCBwY2FtZXJhOiBDYW1lcmEsIHdvcmxkVHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcclxuXHJcbiAgICAgICAgLy8gdG8gTVZQXHJcbiAgICAgICAgbGV0IHRyaWFuZ2xlX2xpc3QgPSBSYXN0ZXJpemVyLk1WUF9iYWNrZmFjZV9jdWxsaW5nX2NsaXBwaW5nKHRyaWFuZ2xlLCBwY2FtZXJhLCB3b3JsZFRyYW5zZm9ybSk7XHJcblxyXG4gICAgICAgIGxldCBsaXN0ID0gW107XHJcbiAgICAgICAgLy8gdG8gTkRDXHJcbiAgICAgICAgZm9yIChsZXQgVCBvZiB0cmlhbmdsZV9saXN0KSB7XHJcbiAgICAgICAgICAgIGxldCBuMCA9IHBjYW1lcmEudG9OREMoVC52MC5wLCBULnYwLncpO1xyXG4gICAgICAgICAgICBsZXQgbjEgPSBwY2FtZXJhLnRvTkRDKFQudjEucCwgVC52MS53KTtcclxuICAgICAgICAgICAgbGV0IG4yID0gcGNhbWVyYS50b05EQyhULnYyLnAsIFQudjIudyk7XHJcblxyXG4gICAgICAgICAgICAvLyB0byBzY3JlZW4gc3BhY2VcclxuICAgICAgICAgICAgbGV0IHMwID0gcGNhbWVyYS50b1NjcmVlblNwYWNlKG4wKTtcclxuICAgICAgICAgICAgbGV0IHMxID0gcGNhbWVyYS50b1NjcmVlblNwYWNlKG4xKTtcclxuICAgICAgICAgICAgbGV0IHMyID0gcGNhbWVyYS50b1NjcmVlblNwYWNlKG4yKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOeCuuS6huWSjOacrOS+hueahGNvZGXnm7jlrrnvvIzmmqvmmYLlhYjlgrPlh7rljrtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKHMwKTtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKHMxKTtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKHMyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOaJvuWHuuWMheWcjeeahOefqeW9olxyXG4gICAgICAgICAgICBsZXQgeyBtaW4sIG1heCB9ID0gVmVjdG9yLm1pbl9tYXgoczAsIHMxLCBzMik7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG1pbi54LCBtYXgueCwgJ3wnLCBtaW4ueSwgbWF4LnkpO1xyXG4gICAgICAgICAgICBsZXQgbWluX3ggPSBNYXRoLmZsb29yKG1pbi54KTtcclxuICAgICAgICAgICAgbGV0IG1heF94ID0gTWF0aC5mbG9vcihtYXgueCk7XHJcbiAgICAgICAgICAgIGxldCBtaW5feSA9IE1hdGguZmxvb3IobWluLnkpO1xyXG4gICAgICAgICAgICBsZXQgbWF4X3kgPSBNYXRoLmZsb29yKG1heC55KTtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IG1pbl94OyB4IDw9IG1heF94OyArK3gpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHkgPSBtaW5feTsgeSA8PSBtYXhfeTsgKyt5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g56e75YuV5Y2K5YCL5YOP57SgXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IFAgPSBuZXcgVmVjdG9yKHggKyAwLjUsIHkgKyAwLjUsIDApXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWwjeefqeW9ouijoeeahOavj+WAi+m7nlBcclxuICAgICAgICAgICAgICAgICAgICAvLyDliKTlrprmmK/lkKbkvY3lnKhzY3JlZW4gc3BhY2XkuInop5LlvaLoo6HpnaJcclxuICAgICAgICAgICAgICAgICAgICBsZXQgeyDOsSwgzrIsIM6zIH0gPSBUcmlhbmdsZS5jYWxjdWxhdGVfzrFfzrJfzrMoczAsIHMxLCBzMiwgUCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFUcmlhbmdsZS5pc19pbl90cmlhbmdsZSjOsSwgzrIsIM6zKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFJhc3Rlcml6ZXIuY29sb3JfYnVmZmVyLnNldCh4LCB5LCBSR0JBLnllbGxvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgeWVzIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICgxKeW+nk5EQ+WIsFNjcmVlbiBTcGFjZeaYr+S7v+WwhOiuiuaPm++8jOWFp+aPkuasiumHjc6x44CBzrLjgIHOs+S4gOaooylcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8g6KiI566XeuWAvFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB6ID0gVHJpYW5nbGUuaW50ZXJwb2xhdGlvbijOsywgzrEsIM6yLCBuMC56LCBuMS56LCBuMi56KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB6IHRlc3RcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYnVmZmVyX3ogPSBSYXN0ZXJpemVyLnpfYnVmZmVyLmdldCh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeiA+IGJ1ZmZlcl96KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5a+r5YWleuWAvFxyXG4gICAgICAgICAgICAgICAgICAgIFJhc3Rlcml6ZXIuel9idWZmZXIuc2V0KHgsIHksIHopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAoMinlnKhOREPpgLLooYzlhafmj5LvvIzkuZjkuIp35Zue5YiwcHJvamVjdGlvbiBzcGFjZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ3Bubm90ZXMuYmxvZ3Nwb3QuY29tLzIwMjEvMTEvYmxvZy1wb3N0XzI3Lmh0bWxcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdyA9IDEgLyBUcmlhbmdsZS5pbnRlcnBvbGF0aW9uKM6zLCDOsSwgzrIsIDEgLyBULnYwLncsIDEgLyBULnYxLncsIDEgLyBULnYyLncpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyDopoHlnKhOREPmj5LlgLzvvIzmiYDku6XpmaTku6V3XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHUgPSBUcmlhbmdsZS5pbnRlcnBvbGF0aW9uKM6zLCDOsSwgzrIsIFQudjAudSAvIFQudjAudywgVC52MS51IC8gVC52MS53LCBULnYyLnUgLyBULnYyLncpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB2ID0gVHJpYW5nbGUuaW50ZXJwb2xhdGlvbijOsywgzrEsIM6yLCBULnYwLnYgLyBULnYwLncsIFQudjEudiAvIFQudjEudywgVC52Mi52IC8gVC52Mi53KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvamVjdGlvbiBzcGFjZSBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdV9wID0gdSAqIHc7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZfcCA9IHYgKiB3O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGlzdDtcclxuICAgIH1cclxufSIsImltcG9ydCBUcmFuc2Zvcm0gZnJvbSAnLi9UcmFuc2Zvcm0nO1xyXG5pbXBvcnQgVmVjdG9yIGZyb20gJy4vVmVjdG9yJ1xyXG5pbXBvcnQgVmVydGV4IGZyb20gJy4vVmVydGV4J1xyXG5pbXBvcnQgQ2FtZXJhIGZyb20gJy4vQ2FtZXJhJztcclxuaW1wb3J0IFBsYW5lIGZyb20gJy4vUGxhbmUnO1xyXG5pbXBvcnQgUmF5IGZyb20gJy4vUmF5JztcclxuaW1wb3J0IFJhc3Rlcml6ZXIgZnJvbSAnLi9SYXN0ZXJpemVyJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyaWFuZ2xlIHtcclxuXHJcbiAgICAvLyDpgJnkupvpu5566YO95pivMFxyXG4gICAgc3RhdGljIGNhbGN1bGF0ZV/OsV/Osl/OsyhzMDogVmVjdG9yLCBzMTogVmVjdG9yLCBzMjogVmVjdG9yLCBQOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgZGlmZiA9IFZlY3Rvci5taW51cyhQLCBzMCk7XHJcblxyXG4gICAgICAgIC8vIOaxgnJheShQLFMwLVMyKeWSjHJheShTMCxTMS1TMinnmoTkuqTpu55cclxuICAgICAgICAvLyDnrYnlkIzmlrzmsYJyYXkoUCxTMC1TMinlkozlubPpnaLnmoTkuqTpu55cclxuICAgICAgICBsZXQgZGlyMDEgPSBWZWN0b3IubWludXMoczEsIHMwKTtcclxuICAgICAgICBsZXQgZGlyMDIgPSBWZWN0b3IubWludXMoczIsIHMwKTtcclxuICAgICAgICBsZXQgbiA9IG5ldyBWZWN0b3IoLWRpcjAxLnksIGRpcjAxLngsIDApO1xyXG4gICAgICAgIGxldCByYXkgPSBuZXcgUmF5KFAsIGRpcjAyLm11bHRpcGx5KC0xKSk7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFBsYW5lLmhpdChyYXksIG5ldyBQbGFuZShzMCwgbikpO1xyXG4gICAgICAgIGxldCBwX29uX2RpcjAxID0gcmVzdWx0LmhpdF9wb3M7XHJcbiAgICAgICAgbGV0IHZlY3Rvcl/OsSA9IFZlY3Rvci5taW51cyhwX29uX2RpcjAxLCBzMCk7XHJcbiAgICAgICAgbGV0IHZlY3Rvcl/OsiA9IFZlY3Rvci5taW51cyhkaWZmLCB2ZWN0b3JfzrEpO1xyXG5cclxuICAgICAgICBsZXQgzrEgPSB2ZWN0b3JfzrEueCAvIGRpcjAxLng7XHJcbiAgICAgICAgbGV0IM6yID0gdmVjdG9yX86yLnggLyBkaXIwMi54O1xyXG4gICAgICAgIGxldCDOsyA9IDEgLSDOsSAtIM6yO1xyXG5cclxuICAgICAgICByZXR1cm4geyDOsSwgzrIsIM6zIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNfaW5fdHJpYW5nbGUozrE6IG51bWJlciwgzrI6IG51bWJlciwgzrM6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiAozrEgPj0gMCAmJiDOsiA+PSAwICYmIM6zID49IDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOWboOeCumNhbGN1bGF0ZV/OsV/Osl/Os+WvpuS9nOeahOaWueW8j++8jOaJgOS7pemghuW6j+aYr86z44CBzrHjgIHOsiDwn5idXHJcbiAgICBzdGF0aWMgaW50ZXJwb2xhdGlvbijOszogbnVtYmVyLCDOsTogbnVtYmVyLCDOsjogbnVtYmVyLCB2MDogbnVtYmVyLCB2MTogbnVtYmVyLCB2MjogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHYwICogzrMgKyB2MSAqIM6xICsgdjIgKiDOsjtcclxuICAgIH1cclxuXHJcbiAgICB2MDogVmVydGV4O1xyXG4gICAgdjE6IFZlcnRleDtcclxuICAgIHYyOiBWZXJ0ZXg7XHJcbiAgICBjb25zdHJ1Y3RvcihwdjA6IFZlcnRleCwgcHYxOiBWZXJ0ZXgsIHB2MjogVmVydGV4KSB7XHJcbiAgICAgICAgdGhpcy52MCA9IHB2MDtcclxuICAgICAgICB0aGlzLnYxID0gcHYxO1xyXG4gICAgICAgIHRoaXMudjIgPSBwdjI7XHJcbiAgICB9XHJcblxyXG4gICAgdl9zOiBWZWN0b3JbXTtcclxuICAgIHByb2Nlc3MocGNhbWVyYTogQ2FtZXJhLCB3b3JsZFRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XHJcbiAgICAgICAgdGhpcy52X3MgPSBSYXN0ZXJpemVyLnByb2Nlc3ModGhpcywgcGNhbWVyYSwgd29ybGRUcmFuc2Zvcm0pO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBpZiAodGhpcy52X3MgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgdENvdW50ID0gdGhpcy52X3MubGVuZ3RoIC8gMztcclxuICAgICAgICBmb3IgKGxldCBjID0gMTsgYyA8PSB0Q291bnQ7ICsrYykge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSAzICogYyAtIDE7XHJcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8odGhpcy52X3NbaW5kZXhdLngsIHRoaXMudl9zW2luZGV4XS55KTtcclxuICAgICAgICAgICAgY3R4LmxpbmVUbyh0aGlzLnZfc1tpbmRleCAtIDJdLngsIHRoaXMudl9zW2luZGV4IC0gMl0ueSk7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8odGhpcy52X3NbaW5kZXggLSAxXS54LCB0aGlzLnZfc1tpbmRleCAtIDFdLnkpO1xyXG4gICAgICAgICAgICBjdHgubGluZVRvKHRoaXMudl9zW2luZGV4XS54LCB0aGlzLnZfc1tpbmRleF0ueSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4iLCJcclxuaW1wb3J0IHsgbGVycCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSAnLi9WZWN0b3InXHJcbmltcG9ydCBWZWN0b3I0RCBmcm9tICcuL1ZlY3RvcjREJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlcnRleCB7XHJcbiAgICBzdGF0aWMgYnVpbGRfdmVydGV4KHA6IFZlY3RvciwgbjogVmVjdG9yLCB3OiBudW1iZXIsIHU6IG51bWJlciwgdjogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHZlcnRleCA9IG5ldyBWZXJ0ZXgocCwgbiwgdywgdSwgdik7XHJcbiAgICAgICAgcmV0dXJuIHZlcnRleDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbGVycCh2MDogVmVydGV4LCB2MTogVmVydGV4LCB0OiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgcCA9IFZlY3Rvci5sZXJwKHYwLnAsIHYxLnAsIHQpO1xyXG4gICAgICAgIGxldCBuID0gVmVjdG9yLmxlcnAodjAubiwgdjEubiwgdCk7XHJcbiAgICAgICAgbGV0IHcgPSBsZXJwKHYwLncsIHYxLncsIHQpO1xyXG4gICAgICAgIGxldCB1ID0gbGVycCh2MC51LCB2MS51LCB0KTtcclxuICAgICAgICBsZXQgdiA9IGxlcnAodjAudiwgdjEudiwgdCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZXJ0ZXgocCwgbiwgdywgdSwgdik7XHJcbiAgICB9XHJcblxyXG4gICAgcDogVmVjdG9yO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgdTogbnVtYmVyO1xyXG4gICAgdjogbnVtYmVyO1xyXG4gICAgbjogVmVjdG9yO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHA6IFZlY3RvciwgbjogVmVjdG9yLCB3OiBudW1iZXIsIHU6IG51bWJlciwgdjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5wID0gcDtcclxuICAgICAgICB0aGlzLm4gPSBuO1xyXG4gICAgICAgIHRoaXMudyA9IHc7XHJcbiAgICAgICAgdGhpcy51ID0gdTtcclxuICAgICAgICB0aGlzLnYgPSB2O1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVydGV4KHRoaXMucC5jbG9uZSgpLCB0aGlzLm4uY2xvbmUoKSwgdGhpcy53LCB0aGlzLnUsIHRoaXMudik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlX3AocDogVmVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5wID0gcDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVfdyh3OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLncgPSB3O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldF9WZWN0b3I0RCgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjREKHRoaXMucCwgdGhpcy53KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlY3RvcjJEIHtcclxuXHJcbiAgICBzdGF0aWMgYWRkKEE6IFZlY3RvcjJELCBCOiBWZWN0b3IyRCkge1xyXG4gICAgICAgIGxldCB0ZW1wID0gbmV3IFZlY3RvcjJEKEIueCArIEEueCwgQi55ICsgQS55KTtcclxuICAgICAgICByZXR1cm4gdGVtcFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBtaW51cyhBOiBWZWN0b3IyRCwgQjogVmVjdG9yMkQpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IG5ldyBWZWN0b3IyRChBLnggLSBCLngsIEEueSAtIEIueSk7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBcclxuICAgIH1cclxuXHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcGx1cyhwOiBWZWN0b3IyRCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54ICsgcC54LCB0aGlzLnkgKyBwLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIG11bHRpcGx5ID0gZnVuY3Rpb24gKHM6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54ICogcywgdGhpcy55ICogcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiKCBcIiArIHRoaXMueCArIFwiICwgXCIgKyB0aGlzLnkgKyBcIiApXCI7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgU2NlbmVOb2RlIGZyb20gXCIuLi9PYmplY3QvU2NlbmVOb2RlXCI7XHJcbmltcG9ydCBSYXkgZnJvbSBcIi4vUmF5XCI7XHJcbmltcG9ydCBSYXk0RCBmcm9tIFwiLi9SYXk0RFwiO1xyXG5pbXBvcnQgSGl0SW5mbyBmcm9tIFwiLi9IaXRJbmZvXCI7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcbmltcG9ydCBUcmlhbmdsZSBmcm9tIFwiLi9UcmlhbmdsZVwiO1xyXG5pbXBvcnQgVmVydGV4IGZyb20gXCIuL1ZlcnRleFwiO1xyXG5pbXBvcnQgUGxhbmUgZnJvbSBcIi4vUGxhbmVcIjtcclxuaW1wb3J0IFJHQkEgZnJvbSBcIi4vUkdCQVwiO1xyXG5pbXBvcnQgQnVmZmVyMkQgZnJvbSBcIi4vQnVmZmVyMkRcIjtcclxuaW1wb3J0IFZlY3RvcjJEIGZyb20gXCIuL1ZlY3RvcjJEXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVncmVlX3RvX1JhZChkOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBNYXRoLlBJICogZCAvIDE4MDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBlcHNpbG9uOiBudW1iZXIgPSAwLjAwMTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJfZXF1YWwoYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBNYXRoLmFicyhhIC0gYikgPCBlcHNpbG9uO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAoeDogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHtcclxuICAgIGlmICh4ID4gbWF4KVxyXG4gICAgICAgIHJldHVybiBtYXg7XHJcbiAgICBlbHNlIGlmICh4IDwgbWluKVxyXG4gICAgICAgIHJldHVybiBtaW47XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRfaGl0X3NvcnRfbGlzdChvYmpfbGlzdDogU2NlbmVOb2RlW10sIHJheTogUmF5KSB7XHJcbiAgICBsZXQgaGl0X3NvcnRfbGlzdCA9IG9ial9saXN0Lm1hcChvYmogPT4gb2JqLmguaGl0KHJheSwgb2JqLnMpKVxyXG4gICAgICAgIC5maWx0ZXIoaW5mbyA9PiBpbmZvLmlzX2hpdClcclxuICAgICAgICAuc29ydCgoYTogSGl0SW5mbywgYjogSGl0SW5mbykgPT4gYS50IC0gYi50KTtcclxuXHJcbiAgICByZXR1cm4gaGl0X3NvcnRfbGlzdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldF9zaGFkb3dfd2VpZ2h0KGhpdF9pbmZvOiBIaXRJbmZvLCBkaXJlY3Rpb25fbGlnaHRfZGlyOiBWZWN0b3IsIG9ial9saXN0OiBTY2VuZU5vZGVbXSkge1xyXG5cclxuICAgIC8vIOaYr+WQpuWcqOW9seWtkOWFp1xyXG4gICAgbGV0IGRpciA9IGRpcmVjdGlvbl9saWdodF9kaXIubmVnYXRpdmUoKTtcclxuICAgIGxldCBmcm9tID0gaGl0X2luZm8uaGl0X3Bvcy5hZGQoZGlyLm11bHRpcGx5KGVwc2lsb24pKTsgLy8g5YGP56e75LiA5bCP5q616Led6Zui77yM6YG/5YWN5bCE5Lit6Ieq5bexXHJcbiAgICBsZXQgcmF5ID0gbmV3IFJheShmcm9tLCBkaXIpO1xyXG4gICAgbGV0IGhpdF9zb3J0X2xpc3QgPSBnZXRfaGl0X3NvcnRfbGlzdChvYmpfbGlzdCwgcmF5KTtcclxuICAgIGlmIChoaXRfc29ydF9saXN0Lmxlbmd0aCAhPSAwKSB7IC8vIOWcqOW9seWtkOWFp1xyXG4gICAgICAgIHJldHVybiAwLjQ1OyAvLyDkuI3opoHlpKrpu5FcclxuICAgIH0gZWxzZVxyXG4gICAgICAgIHJldHVybiAxO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGVycChhOiBudW1iZXIsIGI6IG51bWJlciwgdDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gYSArIHQgKiAoYiAtIGEpO1xyXG59XHJcblxyXG5leHBvcnQgZW51bSBDbGlwUGxhbmUge1xyXG4gICAgTmVhcixcclxuICAgIEZhcixcclxuICAgIFJpZ2h0LFxyXG4gICAgTGVmdCxcclxuICAgIFRvcCxcclxuICAgIEJvdHRvbVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xpcCh0cmlhbmdsZTogVHJpYW5nbGUsXHJcbiAgICB2MF9vdXQ6ICh0cmlhbmdsZTogVHJpYW5nbGUpID0+IGJvb2xlYW4sXHJcbiAgICB2MV9vdXQ6ICh0cmlhbmdsZTogVHJpYW5nbGUpID0+IGJvb2xlYW4sXHJcbiAgICB2Ml9vdXQ6ICh0cmlhbmdsZTogVHJpYW5nbGUpID0+IGJvb2xlYW4sXHJcbiAgICBwbGFuZTogQ2xpcFBsYW5lKSB7XHJcblxyXG4gICAgbGV0IHZfY2xpcDogVHJpYW5nbGVbXSA9IFtdO1xyXG5cclxuICAgIGxldCBnZXRDcm9zc1BvaW50ID0gZnVuY3Rpb24gKHYwOiBWZXJ0ZXgsIHYxOiBWZXJ0ZXgpIHtcclxuICAgICAgICBsZXQgcmF5ID0gbmV3IFJheTREKHYwLmdldF9WZWN0b3I0RCgpLCB2MS5nZXRfVmVjdG9yNEQoKSk7XHJcblxyXG4gICAgICAgIGxldCB0ID0gMDtcclxuICAgICAgICBzd2l0Y2ggKHBsYW5lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ2xpcFBsYW5lLkZhcjpcclxuICAgICAgICAgICAgICAgIHQgPSByYXkudF93aGVuX3pfZXF1YWxfdygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2xpcFBsYW5lLk5lYXI6XHJcbiAgICAgICAgICAgICAgICB0ID0gcmF5LnRfd2hlbl96X2VxdWFsX3plcm9fdygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2xpcFBsYW5lLlJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgdCA9IHJheS50X3doZW5feF9lcXVhbF93KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDbGlwUGxhbmUuTGVmdDpcclxuICAgICAgICAgICAgICAgIHQgPSByYXkudF93aGVuX3hfZXF1YWxfbWludXNfdygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2xpcFBsYW5lLlRvcDpcclxuICAgICAgICAgICAgICAgIHQgPSByYXkudF93aGVuX3lfZXF1YWxfdygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2xpcFBsYW5lLkJvdHRvbTpcclxuICAgICAgICAgICAgICAgIHQgPSByYXkudF93aGVuX3lfZXF1YWxfbWludXNfdygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gVmVydGV4LmxlcnAodjAsIHYxLCB0KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB2byBpbiBcclxuICAgIGxldCBjbGlwX2ZpcnN0X2luID0gZnVuY3Rpb24gKHYwOiBWZXJ0ZXgsIHYxOiBWZXJ0ZXgsIHYyOiBWZXJ0ZXgpIHtcclxuICAgICAgICAvLyAxIHRyaWFuZ2xlIHRvIDEgdHJpYW5nbGVcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnb25lJyk7XHJcbiAgICAgICAgdl9jbGlwWzBdID0gbmV3IFRyaWFuZ2xlKHYwLCBnZXRDcm9zc1BvaW50KHYwLCB2MSksIGdldENyb3NzUG9pbnQodjAsIHYyKSlcclxuICAgIH1cclxuXHJcbiAgICAvLyB2byBvdXRcclxuICAgIGxldCBjbGlwX2ZpcnN0X291dCA9IGZ1bmN0aW9uICh2MDogVmVydGV4LCB2MTogVmVydGV4LCB2MjogVmVydGV4KSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3R3bycpO1xyXG4gICAgICAgIC8vIDEgdHJpYW5nbGUgdG8gMiB0cmlhbmdsZVxyXG4gICAgICAgIGxldCBjcm9zczEgPSBnZXRDcm9zc1BvaW50KHYyLCB2MCk7XHJcbiAgICAgICAgbGV0IGNyb3NzMiA9IGdldENyb3NzUG9pbnQodjAsIHYxKTtcclxuXHJcbiAgICAgICAgdl9jbGlwWzBdID0gbmV3IFRyaWFuZ2xlKHYyLCBjcm9zczEsIGNyb3NzMik7XHJcbiAgICAgICAgdl9jbGlwWzFdID0gbmV3IFRyaWFuZ2xlKHYyLCBjcm9zczIsIHYxKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8g5pyJOOeoruaDheazgVxyXG4gICAgaWYgKHYwX291dCh0cmlhbmdsZSkpLy9vdXRcclxuICAgIHtcclxuICAgICAgICBpZiAodjFfb3V0KHRyaWFuZ2xlKSkvLyBvdXQgb3V0XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodjJfb3V0KHRyaWFuZ2xlKSkvLyBvdXQgb3V0IG91dCAobm8gY2xpcClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Z1bGwgb3V0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSAvL291dCBvdXQgaW5cclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3RfaW4odHJpYW5nbGUudjIsIHRyaWFuZ2xlLnYwLCB0cmlhbmdsZS52MSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgLy9vdXQgaW4gXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodjJfb3V0KHRyaWFuZ2xlKSkvL291dCBpbiBvdXRcclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3RfaW4odHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyLCB0cmlhbmdsZS52MCk7XHJcbiAgICAgICAgICAgIGVsc2UgLy8gb3V0IGluIGluXHJcbiAgICAgICAgICAgICAgICBjbGlwX2ZpcnN0X291dCh0cmlhbmdsZS52MCwgdHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIC8vIGluXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHYxX291dCh0cmlhbmdsZSkpLy8gaW4gb3V0IFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHYyX291dCh0cmlhbmdsZSkpLy8gaW4gb3V0IG91dFxyXG4gICAgICAgICAgICAgICAgY2xpcF9maXJzdF9pbih0cmlhbmdsZS52MCwgdHJpYW5nbGUudjEsIHRyaWFuZ2xlLnYyKTtcclxuICAgICAgICAgICAgZWxzZSAvLyBpbiBvdXQgaW5cclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3Rfb3V0KHRyaWFuZ2xlLnYxLCB0cmlhbmdsZS52MiwgdHJpYW5nbGUudjApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIC8vIGluIGluXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodjJfb3V0KHRyaWFuZ2xlKSkvLyBpbiBpbiBvdXRcclxuICAgICAgICAgICAgICAgIGNsaXBfZmlyc3Rfb3V0KHRyaWFuZ2xlLnYyLCB0cmlhbmdsZS52MCwgdHJpYW5nbGUudjEpO1xyXG4gICAgICAgICAgICBlbHNlIC8vIGluIGluIGluIChubyBjbGlwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2X2NsaXBbMF0gPSB0cmlhbmdsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2X2NsaXA7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNYXRoSGVscGVyIHtcclxuICAgIC8v5L+u5q2j6Zmk5rOV6Yyv6KqkXHJcbiAgICBzdGF0aWMgYWNjRGl2KGFyZzE6IG51bWJlciwgYXJnMjogbnVtYmVyKSB7XHJcbiAgICAgICAgLy9jb2RlIGZyb20gaHR0cDovLzhzdC5ibG9nc3BvdC50dy8yMDEyLzEwL2pzYnVnLmh0bWxcclxuICAgICAgICBsZXQgdDEgPSAwLCB0MiA9IDAsIHIxLCByMjtcclxuICAgICAgICB0cnkgeyB0MSA9IGFyZzEudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0ubGVuZ3RoIH0gY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgIHRyeSB7IHQyID0gYXJnMi50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXS5sZW5ndGggfSBjYXRjaCAoZSkgeyB9XHJcblxyXG4gICAgICAgIHIxID0gTnVtYmVyKGFyZzEudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSlcclxuICAgICAgICByMiA9IE51bWJlcihhcmcyLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgXCJcIikpXHJcbiAgICAgICAgcmV0dXJuIChyMSAvIHIyKSAqIE1hdGgucG93KDEwLCB0MiAtIHQxKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+S/ruato+WKoOazlemMr+iqpFxyXG4gICAgc3RhdGljIGFjY0FkZChhcmcxOiBudW1iZXIsIGFyZzI6IG51bWJlcikge1xyXG4gICAgICAgIC8vY29kZSBmcm9tIGh0dHA6Ly84c3QuYmxvZ3Nwb3QudHcvMjAxMi8xMC9qc2J1Zy5odG1sXHJcbiAgICAgICAgbGV0IHIxLCByMiwgbSwgYztcclxuICAgICAgICB0cnkgeyByMSA9IGFyZzEudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0ubGVuZ3RoIH0gY2F0Y2ggKGUpIHsgcjEgPSAwIH1cclxuICAgICAgICB0cnkgeyByMiA9IGFyZzIudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0ubGVuZ3RoIH0gY2F0Y2ggKGUpIHsgcjIgPSAwIH1cclxuICAgICAgICBjID0gTWF0aC5hYnMocjEgLSByMik7XHJcbiAgICAgICAgbSA9IE1hdGgucG93KDEwLCBNYXRoLm1heChyMSwgcjIpKVxyXG4gICAgICAgIGlmIChjID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgY20gPSBNYXRoLnBvdygxMCwgYyk7XHJcbiAgICAgICAgICAgIGlmIChyMSA+IHIyKSB7XHJcbiAgICAgICAgICAgICAgICBhcmcxID0gTnVtYmVyKGFyZzEudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICBhcmcyID0gTnVtYmVyKGFyZzIudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSkgKiBjbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFyZzEgPSBOdW1iZXIoYXJnMS50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKSAqIGNtO1xyXG4gICAgICAgICAgICAgICAgYXJnMiA9IE51bWJlcihhcmcyLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhcmcxID0gTnVtYmVyKGFyZzEudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XHJcbiAgICAgICAgICAgIGFyZzIgPSBOdW1iZXIoYXJnMi50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChhcmcxICsgYXJnMikgLyBtXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIOS7peWJjeWvq+eahGNvZGVcclxuZXhwb3J0IGNsYXNzIERyYXdIZWxwZXIge1xyXG5cclxuICAgIHN0YXRpYyBkcmF3TGluZShvbmU6IFZlY3RvcjJELCB0d286IFZlY3RvcjJELCB2YWx1ZTogUkdCQSwgYnVmZmVyOiBCdWZmZXIyRDxSR0JBPikge1xyXG5cclxuICAgICAgICBsZXQgbm93ID0gb25lO1xyXG4gICAgICAgIGxldCB0byA9IHR3bztcclxuICAgICAgICBsZXQgZGlmZiA9IFZlY3RvcjJELm1pbnVzKHRvLCBub3cpO1xyXG5cclxuICAgICAgICBsZXQgc3RlcCA9IDEwMDtcclxuICAgICAgICBpZiAoZGlmZi55ID09IDApLy9ob3Jpem9uXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHN0ZXA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy/lt6bnlavliLDlj7NcclxuICAgICAgICAgICAgICAgIG5vdy54ID0gbm93LnggKyAxO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFidWZmZXIuaXNfbGVnYWxfaW5kZXgobm93LngsIG5vdy55KSlcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobm93LnggPiB0by54KVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5zZXQobm93LngsIG5vdy55LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRpZmYueCA9PSAwKS8vdmVydGljYWxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc3RlcDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvL+S4iueVq+WIsOS4i1xyXG4gICAgICAgICAgICAgICAgbm93LnkgPSBub3cueSArIDE7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWJ1ZmZlci5pc19sZWdhbF9pbmRleChub3cueCwgbm93LnkpKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChub3cueSA+IHRvLnkpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgYnVmZmVyLnNldChub3cueCwgbm93LnksIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmF0aW8gPSBkaWZmLnggLyBkaWZmLnk7XHJcbiAgICAgICAgbGV0IGFic19yID0gTWF0aC5hYnMocmF0aW8pO1xyXG5cclxuICAgICAgICBpZiAocmF0aW8gPiAwKSB7XHJcbiAgICAgICAgICAgIGlmIChhYnNfciA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHN0ZXA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdy55ID0gbm93LnkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdy54ID0gbm93LnggKyBhYnNfcjtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW50WCA9IE1hdGguZmxvb3Iobm93LngpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYnVmZmVyLmlzX2xlZ2FsX2luZGV4KGludFgsIG5vdy55KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXIuaXNfb3Zlcl9wb3NpdGl2ZShub3cueCwgbm93LnksIHRvLngsIHRvLnkpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLnNldChpbnRYLCBub3cueSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGFic19yID4gMSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzdGVwOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBub3cueSA9IG5vdy55ICsgMSAvIGFic19yO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdy54ID0gbm93LnggKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnRZID0gTWF0aC5mbG9vcihub3cueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFidWZmZXIuaXNfbGVnYWxfaW5kZXgobm93LngsIGludFkpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5pc19vdmVyX3Bvc2l0aXZlKG5vdy54LCBub3cueSwgdG8ueCwgdG8ueSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBidWZmZXIuc2V0KG5vdy54LCBpbnRZLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocmF0aW8gPCAwKSB7XHJcbiAgICAgICAgICAgIGlmIChhYnNfciA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHN0ZXA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdy55ID0gbm93LnkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdy54ID0gbm93LnggLSBhYnNfcjtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW50WCA9IE1hdGguZmxvb3Iobm93LngpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYnVmZmVyLmlzX2xlZ2FsX2luZGV4KGludFgsIG5vdy55KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXIuaXNfb3Zlcl9uZWdhdGl2ZShub3cueCwgbm93LnksIHRvLngsIHRvLnkpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLnNldChpbnRYLCBub3cueSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGFic19yID4gMSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzdGVwOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBub3cueSA9IG5vdy55ICsgMSAvIGFic19yO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdy54ID0gbm93LnggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnRZID0gTWF0aC5mbG9vcihub3cueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFidWZmZXIuaXNfbGVnYWxfaW5kZXgobm93LngsIGludFkpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5pc19vdmVyX25lZ2F0aXZlKG5vdy54LCBub3cueSwgdG8ueCwgdG8ueSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBidWZmZXIuc2V0KG5vdy54LCBpbnRZLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkcmF3Q2lyY2xlKHZhbHVlOiBSR0JBLCBidWZmZXI6IEJ1ZmZlcjJEPFJHQkE+KSB7XHJcbiAgICAgICAgbGV0IGl0ID0gNTA7XHJcbiAgICAgICAgbGV0IGRlbHRhID0gMiAqIE1hdGguUEkgLyBpdDtcclxuICAgICAgICBsZXQgUiA9IDk7XHJcbiAgICAgICAgbGV0IGNlbnRlciA9IG5ldyBWZWN0b3IyRCgxMCwgMTApO1xyXG4gICAgICAgIGxldCBzdGFydFRoZWRhID0gLU1hdGguUEkgLyAzO1xyXG5cclxuICAgICAgICAvL+eVq+Wck1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbm93WCA9IE1hdGguZmxvb3IoY2VudGVyLnggKyBSICogTWF0aC5jb3Moc3RhcnRUaGVkYSArIGRlbHRhICogaSkpO1xyXG4gICAgICAgICAgICBsZXQgbm93WSA9IE1hdGguZmxvb3IoY2VudGVyLnkgKyBSICogTWF0aC5zaW4oc3RhcnRUaGVkYSArIGRlbHRhICogaSkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IG5leHRYID0gTWF0aC5mbG9vcihjZW50ZXIueCArIFIgKiBNYXRoLmNvcyhzdGFydFRoZWRhICsgZGVsdGEgKiAoaSArIDEpKSk7XHJcbiAgICAgICAgICAgIGxldCBuZXh0WSA9IE1hdGguZmxvb3IoY2VudGVyLnkgKyBSICogTWF0aC5zaW4oc3RhcnRUaGVkYSArIGRlbHRhICogKGkgKyAxKSkpO1xyXG5cclxuICAgICAgICAgICAgRHJhd0hlbHBlci5kcmF3TGluZVdyYXBwZXIobmV3IFZlY3RvcjJEKG5vd1gsIG5vd1kpLCBuZXcgVmVjdG9yMkQobmV4dFgsIG5leHRZKSwgdmFsdWUsIGJ1ZmZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdGF0aWMgZHJhd1N0YXIodmFsdWU6IFJHQkEsIGJ1ZmZlcjogQnVmZmVyMkQ8UkdCQT4pIHtcclxuICAgICAgICBsZXQgaXQgPSA1O1xyXG4gICAgICAgIGxldCBkZWx0YSA9IDIgKiBNYXRoLlBJIC8gaXQ7XHJcbiAgICAgICAgbGV0IFIgPSA5O1xyXG4gICAgICAgIGxldCBjZW50ZXIgPSBuZXcgVmVjdG9yMkQoMTAsIDEwKTtcclxuICAgICAgICBsZXQgc3RhcnRUaGVkYSA9IC1NYXRoLlBJIC8gMztcclxuXHJcbiAgICAgICAgLy/nlavmmJ/mmJ9cclxuICAgICAgICBsZXQgayA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBub3dYID0gTWF0aC5mbG9vcihjZW50ZXIueCArIFIgKiBNYXRoLmNvcyhzdGFydFRoZWRhICsgZGVsdGEgKiBrKSk7XHJcbiAgICAgICAgICAgIGxldCBub3dZID0gTWF0aC5mbG9vcihjZW50ZXIueSArIFIgKiBNYXRoLnNpbihzdGFydFRoZWRhICsgZGVsdGEgKiBrKSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbmV4dFggPSBNYXRoLmZsb29yKGNlbnRlci54ICsgUiAqIE1hdGguY29zKHN0YXJ0VGhlZGEgKyBkZWx0YSAqIChrICsgMikpKTtcclxuICAgICAgICAgICAgbGV0IG5leHRZID0gTWF0aC5mbG9vcihjZW50ZXIueSArIFIgKiBNYXRoLnNpbihzdGFydFRoZWRhICsgZGVsdGEgKiAoayArIDIpKSk7XHJcblxyXG4gICAgICAgICAgICBEcmF3SGVscGVyLmRyYXdMaW5lV3JhcHBlcihuZXcgVmVjdG9yMkQobm93WCwgbm93WSksIG5ldyBWZWN0b3IyRChuZXh0WCwgbmV4dFkpLCB2YWx1ZSwgYnVmZmVyKTtcclxuICAgICAgICAgICAgayA9IGsgKyAyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZHJhd0xpbmVXcmFwcGVyKHQwOiBWZWN0b3IyRCwgdDE6IFZlY3RvcjJELCB2YWx1ZTogUkdCQSwgYnVmZmVyOiBCdWZmZXIyRDxSR0JBPikge1xyXG4gICAgICAgIC8v5b6e5LiK5b6A5LiL55WrXHJcbiAgICAgICAgaWYgKHQwLnkgPCB0MS55KVxyXG4gICAgICAgICAgICBEcmF3SGVscGVyLmRyYXdMaW5lKHQwLCB0MSwgdmFsdWUsIGJ1ZmZlcik7XHJcbiAgICAgICAgZWxzZSBpZiAodDEueSA8IHQwLnkpXHJcbiAgICAgICAgICAgIERyYXdIZWxwZXIuZHJhd0xpbmUodDEsIHQwLCB2YWx1ZSwgYnVmZmVyKTtcclxuICAgICAgICBlbHNlIC8v5rC05bmz57eaXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL+W+nuW3puW+gOWPs+eVq1xyXG4gICAgICAgICAgICBpZiAodDAueCA8IHQxLngpXHJcbiAgICAgICAgICAgICAgICBEcmF3SGVscGVyLmRyYXdMaW5lKHQwLCB0MSwgdmFsdWUsIGJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHQxLnggPCB0MC54KVxyXG4gICAgICAgICAgICAgICAgRHJhd0hlbHBlci5kcmF3TGluZSh0MSwgdDAsIHZhbHVlLCBidWZmZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IGxlcnAsIG51bWJlcl9lcXVhbCB9IGZyb20gJy4vVG9vbCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlY3RvciB7XHJcblxyXG4gICAgc3RhdGljIG1pbl9tYXgodjA6IFZlY3RvciwgdjE6IFZlY3RvciwgdjI6IFZlY3Rvcikge1xyXG5cclxuICAgICAgICBsZXQgbWluID0gbmV3IFZlY3RvcihNYXRoLm1pbihNYXRoLm1pbih2MC54LCB2MS54KSwgdjIueCksIE1hdGgubWluKE1hdGgubWluKHYwLnksIHYxLnkpLCB2Mi55KSwgTWF0aC5taW4oTWF0aC5taW4odjAueiwgdjEueiksIHYyLnopKTtcclxuICAgICAgICBsZXQgbWF4ID0gbmV3IFZlY3RvcihNYXRoLm1heChNYXRoLm1heCh2MC54LCB2MS54KSwgdjIueCksIE1hdGgubWF4KE1hdGgubWF4KHYwLnksIHYxLnkpLCB2Mi55KSwgTWF0aC5tYXgoTWF0aC5tYXgodjAueiwgdjEueiksIHYyLnopKTtcclxuICAgICAgICByZXR1cm4geyBtaW4sIG1heCB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjYWxjdWxhdGVfbm9ybWFsKHYwOiBWZWN0b3IsIHYxOiBWZWN0b3IsIHYyOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgdjAxID0gVmVjdG9yLm1pbnVzKHYxLCB2MCk7XHJcbiAgICAgICAgbGV0IHYwMiA9IFZlY3Rvci5taW51cyh2MiwgdjApO1xyXG4gICAgICAgIGxldCBub3JtYWwgPSBWZWN0b3IuY3Jvc3ModjAxLCB2MDIpO1xyXG4gICAgICAgIHJldHVybiBub3JtYWwubm9ybWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNhbGN1bGF0ZV9jZW50ZXIodjA6IFZlY3RvciwgdjE6IFZlY3RvciwgdjI6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiB2MC5hZGQodjEpLmFkZCh2MikubXVsdGlwbHkoMSAvIDMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB1dih1OiBudW1iZXIsIHY6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHUsIHYsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB1cCA9IG5ldyBWZWN0b3IoMCwgMSwgMCk7XHJcbiAgICBzdGF0aWMgemVybyA9IG5ldyBWZWN0b3IoMCwgMCwgMCk7XHJcblxyXG4gICAgc3RhdGljIHJlZmxlY3QoSTogVmVjdG9yLCBOOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgTCA9IC0yICogVmVjdG9yLmRvdChJLCBOKVxyXG4gICAgICAgIHJldHVybiBOLm11bHRpcGx5KEwpLmFkZChJKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKEIueCArIEEueCwgQi55ICsgQS55LCBCLnogKyBBLnopO1xyXG4gICAgICAgIHJldHVybiB0ZW1wXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG1pbnVzKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKEEueCAtIEIueCwgQS55IC0gQi55LCBBLnogLSBCLnopO1xyXG4gICAgICAgIHJldHVybiB0ZW1wXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG11bHRpcGx5KEE6IFZlY3RvciwgczogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgVmVjdG9yKEEueCAqIHMsIEEueSAqIHMsIEEueiAqIHMpO1xyXG4gICAgICAgIHJldHVybiB0ZW1wXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG11bHRpcGx5MyhBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKEEueCAqIEIueCwgQS55ICogQi55LCBBLnogKiBCLnopO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcm9zcyhBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCB0ZW1wID0gbmV3IFZlY3RvcihBLnkgKiBCLnogLSBBLnogKiBCLnksIC1BLnggKiBCLnogKyBBLnogKiBCLngsIEEueCAqIEIueSAtIEEueSAqIEIueCk7XHJcbiAgICAgICAgcmV0dXJuIHRlbXA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRvdChBOiBWZWN0b3IsIEI6IFZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBBLnggKiBCLnggKyBBLnkgKiBCLnkgKyBBLnogKiBCLno7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGVxdWFsKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bWJlcl9lcXVhbChBLngsIEIueCkgJiYgbnVtYmVyX2VxdWFsKEEueSwgQi55KSAmJiBudW1iZXJfZXF1YWwoQS56LCBCLnopO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBsZXJwKEE6IFZlY3RvciwgQjogVmVjdG9yLCB0OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihcclxuICAgICAgICAgICAgbGVycChBLngsIEIueCwgdCksXHJcbiAgICAgICAgICAgIGxlcnAoQS55LCBCLnksIHQpLFxyXG4gICAgICAgICAgICBsZXJwKEEueiwgQi56LCB0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgeDogbnVtYmVyID0gMDtcclxuICAgIHk6IG51bWJlciA9IDA7XHJcbiAgICB6OiBudW1iZXIgPSAwO1xyXG4gICAgY29uc3RydWN0b3IocHg6IG51bWJlciwgcHk6IG51bWJlciwgcHo6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMueCA9IHB4O1xyXG4gICAgICAgIHRoaXMueSA9IHB5O1xyXG4gICAgICAgIHRoaXMueiA9IHB6O1xyXG4gICAgfVxyXG5cclxuICAgIGxlbmd0aCgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueik7XHJcbiAgICB9XHJcblxyXG4gICAgbm9ybWFsaXplKCkge1xyXG4gICAgICAgIGxldCB0ZW1wID0gdGhpcy5sZW5ndGgoKTtcclxuICAgICAgICB0aGlzLnggPSB0aGlzLnggLyB0ZW1wO1xyXG4gICAgICAgIHRoaXMueSA9IHRoaXMueSAvIHRlbXA7XHJcbiAgICAgICAgdGhpcy56ID0gdGhpcy56IC8gdGVtcDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBhZGQoQTogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5hZGQodGhpcywgQSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWludXMoQTogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5taW51cyh0aGlzLCBBKTtcclxuICAgIH1cclxuXHJcbiAgICBtdWx0aXBseShzOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLm11bHRpcGx5KHRoaXMsIHMpO1xyXG4gICAgfVxyXG5cclxuICAgIG5lZ2F0aXZlKCkge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IubXVsdGlwbHkodGhpcywgLTEpO1xyXG4gICAgfVxyXG5cclxuICAgIFZlY3RvcjJEKCkge1xyXG4gICAgICAgIHRoaXMueiA9IDA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54LCB0aGlzLnksIHRoaXMueik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVmVjdG9yIGZyb20gXCIuLi9NYXRoL1ZlY3RvclwiO1xyXG5pbXBvcnQgSGl0SW5mbyBmcm9tIFwiLi4vTWF0aC9IaXRJbmZvXCI7XHJcbmltcG9ydCB7IGNsYW1wLCBnZXRfc2hhZG93X3dlaWdodCB9IGZyb20gXCIuLi9NYXRoL1Rvb2xcIjtcclxuaW1wb3J0IFNoYWRlciBmcm9tIFwiLi9TaGFkZXJcIjtcclxuaW1wb3J0IFNjZW5lTm9kZSBmcm9tIFwiLi4vT2JqZWN0L1NjZW5lTm9kZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlmZnVzZSBpbXBsZW1lbnRzIFNoYWRlciB7XHJcbiAgICBzdGF0aWMgeWVsbG93ID0gbmV3IERpZmZ1c2UobmV3IFZlY3RvcigxLCAxLCAwKSk7XHJcbiAgICBzdGF0aWMgcmVkID0gbmV3IERpZmZ1c2UobmV3IFZlY3RvcigxLCAwLCAwKSk7XHJcbiAgICBzdGF0aWMgZ3JlZW4gPSBuZXcgRGlmZnVzZShuZXcgVmVjdG9yKDAsIDEsIDApKTtcclxuICAgIHN0YXRpYyBibHVlID0gbmV3IERpZmZ1c2UobmV3IFZlY3RvcigwLCAwLCAxKSk7XHJcbiAgICBzdGF0aWMgZ3JheSA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMC41LCAwLjUsIDAuNSkpO1xyXG4gICAgc3RhdGljIHdoaXRlID0gbmV3IERpZmZ1c2UobmV3IFZlY3RvcigxLCAxLCAxKSk7XHJcblxyXG4gICAgY29sb3I6IFZlY3RvcjtcclxuICAgIGNvbnN0cnVjdG9yKGNvbG9yOiBWZWN0b3IpIHtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgc2hhZGluZyhoaXRfaW5mbzogSGl0SW5mbywgZGlyZWN0aW9uX2xpZ2h0X2RpcjogVmVjdG9yLCBvYmpfbGlzdDogU2NlbmVOb2RlW10sIGRlcHRoOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgbiA9IGhpdF9pbmZvLm5vcm1hbDtcclxuICAgICAgICBsZXQgc3RyZW5ndGggPSBjbGFtcCgtVmVjdG9yLmRvdChkaXJlY3Rpb25fbGlnaHRfZGlyLCBuKSwgMCwgMSk7XHJcblxyXG4gICAgICAgIGxldCBzaGFkb3dfd2VpZ2h0ID0gZ2V0X3NoYWRvd193ZWlnaHQoaGl0X2luZm8sIGRpcmVjdGlvbl9saWdodF9kaXIsIG9ial9saXN0KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb2xvci5tdWx0aXBseShzdHJlbmd0aCkubXVsdGlwbHkoc2hhZG93X3dlaWdodCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVmVjdG9yIGZyb20gXCIuL1ZlY3RvclwiO1xyXG5pbXBvcnQgUmF5IGZyb20gXCIuL1JheVwiO1xyXG5pbXBvcnQgeyBkZWdyZWVfdG9fUmFkLCBnZXRfaGl0X3NvcnRfbGlzdCB9IGZyb20gXCIuL1Rvb2xcIlxyXG5pbXBvcnQgUmVuZGVyVGFyZ2V0IGZyb20gXCIuL1JlbmRlclRhcmdldFwiO1xyXG5pbXBvcnQgU2NlbmVOb2RlIGZyb20gXCIuLi9PYmplY3QvU2NlbmVOb2RlXCI7XHJcbmltcG9ydCBEaWZmdXNlIGZyb20gXCIuLi9NYXRlcmFpbHMvRGlmZnVzZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYSB7XHJcbiAgICBleWU6IFZlY3RvcjtcclxuXHJcbiAgICB4X2F4aXM6IFZlY3RvcjtcclxuICAgIHlfYXhpczogVmVjdG9yO1xyXG4gICAgel9heGlzOiBWZWN0b3I7XHJcblxyXG4gICAgcmF0aW86IG51bWJlcjtcclxuXHJcbiAgICBzY3JlZW5XOiBudW1iZXI7XHJcbiAgICBzY3JlZW5IOiBudW1iZXI7XHJcblxyXG4gICAgc2NyZWVuQ2VudGVyWDogbnVtYmVyO1xyXG4gICAgc2NyZWVuQ2VudGVyWTogbnVtYmVyO1xyXG4gICAgaGFsZlc6IG51bWJlcjtcclxuICAgIGhhbGZIOiBudW1iZXI7XHJcblxyXG4gICAgLy8g6KaW6YyQ55qEIOi/keW5s+mdouWSjOmBoOW5s+mdolxyXG4gICAgLy8gYeOAgWLlkozmipXlvbHnn6npmaPmnInpl5xcclxuICAgIE46IG51bWJlcjtcclxuICAgIEY6IG51bWJlcjtcclxuICAgIGE6IG51bWJlcjtcclxuICAgIGI6IG51bWJlcjtcclxuXHJcbiAgICBmb3ZfZGVncmVlOiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3RvcihleWU6IFZlY3RvciwgbG9va19hdDogVmVjdG9yLCBmb3ZfZGVncmVlOiBudW1iZXIsIHNjcmVlblc6IG51bWJlciwgc2NyZWVuSDogbnVtYmVyLCBOOiBudW1iZXIsIEY6IG51bWJlcikge1xyXG5cclxuICAgICAgICB0aGlzLnJhdGlvID0gc2NyZWVuVyAvIHNjcmVlbkg7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5XID0gc2NyZWVuVztcclxuICAgICAgICB0aGlzLnNjcmVlbkggPSBzY3JlZW5IO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuQ2VudGVyWCA9IHRoaXMuc2NyZWVuVyAqIDAuNTtcclxuICAgICAgICB0aGlzLnNjcmVlbkNlbnRlclkgPSB0aGlzLnNjcmVlbkggKiAwLjU7XHJcbiAgICAgICAgdGhpcy5oYWxmVyA9IHRoaXMuc2NyZWVuVyAqIDAuNTtcclxuICAgICAgICB0aGlzLmhhbGZIID0gdGhpcy5zY3JlZW5IICogMC41O1xyXG5cclxuICAgICAgICAvLyBjYW1lcmEgM+i7uFxyXG4gICAgICAgIHRoaXMuel9heGlzID0gVmVjdG9yLm1pbnVzKGxvb2tfYXQsIGV5ZSkubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgIC8vIOW3puaJi1xyXG4gICAgICAgIGxldCBoZWxwX3YgPSBWZWN0b3IudXA7XHJcbiAgICAgICAgdGhpcy54X2F4aXMgPSBWZWN0b3IuY3Jvc3MoaGVscF92LCB0aGlzLnpfYXhpcykubm9ybWFsaXplKCk7XHJcbiAgICAgICAgdGhpcy55X2F4aXMgPSBWZWN0b3IuY3Jvc3ModGhpcy56X2F4aXMsIHRoaXMueF9heGlzKTtcclxuXHJcbiAgICAgICAgLy8gY2FtZXJhIOWOn+m7nlxyXG4gICAgICAgIHRoaXMuZXllID0gZXllO1xyXG5cclxuICAgICAgICAvLyBjYW1lcmEgZm92XHJcbiAgICAgICAgdGhpcy5mb3ZfZGVncmVlID0gZm92X2RlZ3JlZTtcclxuXHJcbiAgICAgICAgLy8g6KaW6YyQ55qEIOi/keW5s+mdouWSjOmBoOW5s+mdolxyXG4gICAgICAgIHRoaXMuTiA9IE47XHJcbiAgICAgICAgdGhpcy5GID0gRjtcclxuXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9ncG5ub3Rlcy5ibG9nc3BvdC5jb20vMjAyMS8xMS9ibG9nLXBvc3RfMjcuaHRtbFxyXG4gICAgICAgIC8vIOaKleW9seefqemZo+WwjXrnmoTkv67mraPvvIzpgJnoo6Hkvb/nlKjlt6bmiYtcclxuICAgICAgICB0aGlzLmEgPSBGIC8gKEYgLSBOKTtcclxuICAgICAgICB0aGlzLmIgPSAtTiAqIEYgLyAoRiAtIE4pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmEsIHRoaXMuYik7XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZUV5ZSA9IGZ1bmN0aW9uIChzOiBudW1iZXIsIEE6IFZlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuZXllID0gVmVjdG9yLmFkZCh0aGlzLmV5ZSwgQS5tdWx0aXBseShzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkUGl0Y2goZGVncmVlOiBudW1iZXIpIHtcclxuICAgICAgICAvLyB0b2RvOiDkuZjkuIpsb2NhbCBtYXRyaXhcclxuICAgIH1cclxuXHJcbiAgICBhZGRZYXcoZGVncmVlOiBudW1iZXIpIHtcclxuICAgICAgICAvLyB0b2RvOiDkuZjkuIpsb2NhbCBtYXRyaXhcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVfcmF5X2Rpcih4X3dlaWdodDogbnVtYmVyLCB5X3dlaWdodDogbnVtYmVyLCByYXRpbzogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IGhhbGZfZm92X3JhZCA9IGRlZ3JlZV90b19SYWQoMC41ICogdGhpcy5mb3ZfZGVncmVlKTtcclxuICAgICAgICBsZXQgdGFuX2ggPSBNYXRoLnRhbihoYWxmX2Zvdl9yYWQpO1xyXG4gICAgICAgIGxldCB0YW5fdyA9IHRhbl9oICogcmF0aW87XHJcblxyXG4gICAgICAgIGxldCBkaXIgPSB0aGlzLnpfYXhpc1xyXG4gICAgICAgICAgICAuYWRkKHRoaXMueF9heGlzLm11bHRpcGx5KHhfd2VpZ2h0ICogdGFuX3cpKVxyXG4gICAgICAgICAgICAuYWRkKHRoaXMueV9heGlzLm11bHRpcGx5KHlfd2VpZ2h0ICogdGFuX2gpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRpcjtcclxuICAgIH1cclxuXHJcbiAgICB0b0NhbWVyYVNwYWNlKEE6IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCBkaWZmID0gQS5taW51cyh0aGlzLmV5ZSk7XHJcbiAgICAgICAgbGV0IHBvaW50X2luX2NhbWVyYV9zcGFjZSA9IG5ldyBWZWN0b3IoVmVjdG9yLmRvdChkaWZmLCB0aGlzLnhfYXhpcyksIFZlY3Rvci5kb3QoZGlmZiwgdGhpcy55X2F4aXMpLCBWZWN0b3IuZG90KGRpZmYsIHRoaXMuel9heGlzKSk7XHJcbiAgICAgICAgcmV0dXJuIHBvaW50X2luX2NhbWVyYV9zcGFjZTtcclxuICAgIH1cclxuXHJcbiAgICB0b1Byb2plY3Rpb25TcGFjZShBOiBWZWN0b3IpIHtcclxuICAgICAgICBsZXQgZm92X3JhZCA9IGRlZ3JlZV90b19SYWQodGhpcy5mb3ZfZGVncmVlKTtcclxuICAgICAgICBsZXQgaGFsZl9mb3YgPSAwLjUgKiBmb3ZfcmFkO1xyXG4gICAgICAgIGxldCB5X3NjYWxlID0gMSAvIE1hdGgudGFuKGhhbGZfZm92KTtcclxuICAgICAgICBsZXQgeF9zY2FsZSA9IDEgLyAodGhpcy5yYXRpbyAqIE1hdGgudGFuKGhhbGZfZm92KSk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKEEueCAqIHhfc2NhbGUsIEEueSAqIHlfc2NhbGUsIEEueiAqIHRoaXMuYSArIHRoaXMuYik7XHJcbiAgICB9XHJcblxyXG4gICAgdG9OREMoQTogVmVjdG9yLCB3OiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgcyA9IDEgLyB3O1xyXG4gICAgICAgIHJldHVybiBBLm11bHRpcGx5KHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvU2NyZWVuU3BhY2UoTkRDX0E6IFZlY3Rvcikge1xyXG4gICAgICAgIC8vIOeUqOW6p+aomeiuiuaPm+S+hueci+W+heW+nk5EQ+WIsFNjcmVlbiBTcGFjZVxyXG4gICAgICAgIC8vIE5EQyB46Lu45Zyoc2NyZWVuIHNwYWNlIOeCuih3LzIsMClcclxuICAgICAgICAvLyBOREMgeei7uOWcqHNjcmVlbiBzcGFjZSDngrooLWgvMiwwKVxyXG4gICAgICAgIGxldCB4ID0gdGhpcy5oYWxmVyAqIE5EQ19BLnggKyB0aGlzLnNjcmVlbkNlbnRlclg7XHJcbiAgICAgICAgbGV0IHkgPSAtdGhpcy5oYWxmSCAqIE5EQ19BLnkgKyB0aGlzLnNjcmVlbkNlbnRlclk7XHJcblxyXG4gICAgICAgIGxldCB0ZW1wID0gbmV3IFZlY3Rvcih4LCB5LCAwKTtcclxuICAgICAgICByZXR1cm4gdGVtcDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDnrpflnJZcclxuICAgIHJlbmRlcihyZW5kZXJfdGFyZ2V0OiBSZW5kZXJUYXJnZXQsIG9ial9saXN0OiBTY2VuZU5vZGVbXSkge1xyXG4gICAgICAgIGxldCBkaXJlY3Rpb25fbGlnaHRfZGlyID0gbmV3IFZlY3RvcigxLCAtMSwgMCkubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgIGxldCBoYWxmX3BpeGVsX29mZnNldCA9IDAuNSAvIHJlbmRlcl90YXJnZXQuaDtcclxuICAgICAgICBsZXQgbXVsdGlzYW1wbGVfZGlmZiA9IFtcclxuICAgICAgICAgICAgeyB4OiAwLCB5OiAwIH0sXHJcbiAgICAgICAgICAgIHsgeDogaGFsZl9waXhlbF9vZmZzZXQsIHk6IGhhbGZfcGl4ZWxfb2Zmc2V0IH0sXHJcbiAgICAgICAgICAgIHsgeDogLWhhbGZfcGl4ZWxfb2Zmc2V0LCB5OiBoYWxmX3BpeGVsX29mZnNldCB9LFxyXG4gICAgICAgICAgICB7IHg6IC1oYWxmX3BpeGVsX29mZnNldCwgeTogLWhhbGZfcGl4ZWxfb2Zmc2V0IH0sXHJcbiAgICAgICAgICAgIHsgeDogaGFsZl9waXhlbF9vZmZzZXQsIHk6IC1oYWxmX3BpeGVsX29mZnNldCB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHJlbmRlcl90YXJnZXQucmVuZGVyX3BpeGVsKCh4X3dlaWdodDogbnVtYmVyLCB5X3dlaWdodDogbnVtYmVyLCByYXRpbzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByYXlfZGlyID0gdGhpcy5jcmVhdGVfcmF5X2Rpcih4X3dlaWdodCwgeV93ZWlnaHQsIHJhdGlvKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOeUoueUn+WkmuainXJheVxyXG4gICAgICAgICAgICBsZXQgcmF5cyA9IG11bHRpc2FtcGxlX2RpZmYubWFwKGRpZmYgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g5bCNcmF5X2RyaeS9nOWBj+enu1xyXG4gICAgICAgICAgICAgICAgbGV0IGRpciA9IHJheV9kaXIuYWRkKHRoaXMueF9heGlzLm11bHRpcGx5KGRpZmYueCkpLmFkZCh0aGlzLnlfYXhpcy5tdWx0aXBseShkaWZmLnkpKVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIOmblueEtuWSjOeQg+OAgeW5s+mdoueahGhpdOioiOeul+S4jemcgOimgWRpcuS9nG5vcm1hbGl6Ze+8jOS9hueCuuS6huaWueS+v+WPjeWwhOeahOioiOeul+mChOaYr+S9nG5vcm1hbGl6ZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSYXkodGhpcy5leWUsIGRpci5ub3JtYWxpemUoKSlcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyDmr4/lgItyYXnpg73nrpdjb2xvclxyXG4gICAgICAgICAgICBsZXQgY29sb3JzID0gcmF5cy5tYXAocmF5ID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBoaXRfc29ydF9saXN0ID0gZ2V0X2hpdF9zb3J0X2xpc3Qob2JqX2xpc3QsIHJheSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g5pyJ5bCE5Lit5ZeOXHJcbiAgICAgICAgICAgICAgICBsZXQgaXNfaGl0ID0gaGl0X3NvcnRfbGlzdC5sZW5ndGggIT0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChpc19oaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaGl0X2luZm8gPSBoaXRfc29ydF9saXN0WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoaXRfaW5mby5zLnNoYWRpbmcoaGl0X2luZm8sIGRpcmVjdGlvbl9saWdodF9kaXIsIG9ial9saXN0LCAxKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERpZmZ1c2UuZ3JheS5jb2xvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyDlj5blubPlnYflsLHmnIlBbnRpYWxpYXNpbmfmlYjmnpxcclxuICAgICAgICAgICAgbGV0IGNvdW50ID0gbXVsdGlzYW1wbGVfZGlmZi5sZW5ndGg7XHJcbiAgICAgICAgICAgIGxldCBmaW5hbF9jb2xvciA9IGNvbG9ycy5yZWR1Y2UoKGFjY3VtdWxhdG9yOiBWZWN0b3IsIGN1cnJlbnQ6IFZlY3RvcikgPT4gYWNjdW11bGF0b3IuYWRkKGN1cnJlbnQpLCBWZWN0b3IuemVybykubXVsdGlwbHkoMSAvIGNvdW50KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZpbmFsX2NvbG9yO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGxhbmUgZnJvbSBcIi4vUGxhbmVcIjtcclxuaW1wb3J0IFJheSBmcm9tIFwiLi9SYXlcIjtcclxuaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IEhpdEluZm8gZnJvbSBcIi4vSGl0SW5mb1wiO1xyXG5pbXBvcnQgSGl0YWJsZSBmcm9tIFwiLi9IaXRhYmxlXCI7XHJcbmltcG9ydCBTaGFkZXIgZnJvbSBcIi4uL01hdGVyYWlscy9TaGFkZXJcIjtcclxuXHJcbi8vIOWwj+aWueWhilxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWN0IGltcGxlbWVudHMgSGl0YWJsZSB7XHJcbiAgICBwbGFuZTogUGxhbmU7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IocGxhbmU6IFBsYW5lLCB3OiBudW1iZXIsIGg6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucGxhbmUgPSBwbGFuZTtcclxuICAgICAgICB0aGlzLncgPSB3O1xyXG4gICAgICAgIHRoaXMuaCA9IGg7XHJcbiAgICB9XHJcblxyXG4gICAgaGl0KHJheTogUmF5LCBzOiBTaGFkZXIpOiBIaXRJbmZvIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5wbGFuZS5oaXQocmF5LCBzKTtcclxuICAgICAgICBpZiAocmVzdWx0LmlzX2hpdCkge1xyXG4gICAgICAgICAgICBsZXQgaGl0X3BvcyA9IHJlc3VsdC5oaXRfcG9zO1xyXG4gICAgICAgICAgICBsZXQgZGlmZiA9IGhpdF9wb3MubWludXModGhpcy5wbGFuZS5DKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOmBv+mWi+ebuOetieeahOaDheazgVxyXG4gICAgICAgICAgICBsZXQgaGVscF92ID0gVmVjdG9yLmVxdWFsKHRoaXMucGxhbmUuTiwgVmVjdG9yLnVwKSA/IG5ldyBWZWN0b3IoMSwgMCwgMCkgOiBWZWN0b3IudXA7XHJcblxyXG4gICAgICAgICAgICBsZXQgd19heGlzID0gVmVjdG9yLmNyb3NzKGhlbHBfdiwgdGhpcy5wbGFuZS5OKS5ub3JtYWxpemUoKTtcclxuICAgICAgICAgICAgbGV0IGhfYXhpcyA9IFZlY3Rvci5jcm9zcyh3X2F4aXMsIHRoaXMucGxhbmUuTik7XHJcbiAgICAgICAgICAgIGxldCB3X3ZhbHVlID0gVmVjdG9yLmRvdChkaWZmLCB3X2F4aXMpO1xyXG4gICAgICAgICAgICBsZXQgaF92YWx1ZSA9IFZlY3Rvci5kb3QoZGlmZiwgaF9heGlzKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBpc19oaXQgPSBNYXRoLmFicyh3X3ZhbHVlKSA8IHRoaXMudyAmJiBNYXRoLmFicyhoX3ZhbHVlKSA8IHRoaXMuaDtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlzX2hpdCxcclxuICAgICAgICAgICAgICAgIGhpdF9wb3MsXHJcbiAgICAgICAgICAgICAgICBpOiByYXkuZGlyLFxyXG4gICAgICAgICAgICAgICAgdDogcmVzdWx0LnQsXHJcbiAgICAgICAgICAgICAgICBub3JtYWw6IHRoaXMucGxhbmUuTixcclxuICAgICAgICAgICAgICAgIHNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpc19oaXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IFJheSBmcm9tIFwiLi9SYXlcIjtcclxuaW1wb3J0IHsgbnVtYmVyX2VxdWFsIH0gZnJvbSAnLi9Ub29sJztcclxuaW1wb3J0IEhpdEluZm8gZnJvbSBcIi4vSGl0SW5mb1wiO1xyXG5pbXBvcnQgSGl0YWJsZSBmcm9tIFwiLi9IaXRhYmxlXCI7XHJcbmltcG9ydCBTaGFkZXIgZnJvbSBcIi4uL01hdGVyYWlscy9TaGFkZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwaGVyZSBpbXBsZW1lbnRzIEhpdGFibGUge1xyXG5cclxuICAgIEM6IFZlY3RvcjsgLy8g55CD5Lit5b+DXHJcbiAgICBSOiBudW1iZXI7IC8vIOeQg+WNiuW+kVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKEM6IFZlY3RvciwgUjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5DID0gQztcclxuICAgICAgICB0aGlzLlIgPSBSO1xyXG4gICAgfVxyXG5cclxuICAgIGhpdChyYXk6IFJheSwgczogU2hhZGVyKTogSGl0SW5mbyB7XHJcbiAgICAgICAgLy8g6KejMuasoeaWueeoi+W8j1xyXG4gICAgICAgIC8vIChYLUMp44CCKFgtQykgPSBSKlJcclxuICAgICAgICAvLyBYPUYrdCpEXHJcbiAgICAgICAgLy8gdD1bKC1iLXNxcnRfaykvMmEsKC1iK3NxcnRfaykvMmFdXHJcbiAgICAgICAgbGV0IEQgPSByYXkuZGlyO1xyXG4gICAgICAgIGxldCBGID0gcmF5LmZyb207XHJcbiAgICAgICAgbGV0IGEgPSBWZWN0b3IuZG90KEQsIEQpO1xyXG4gICAgICAgIGxldCBiID0gMiAqIChWZWN0b3IuZG90KEQsIEYpIC0gVmVjdG9yLmRvdChELCB0aGlzLkMpKTtcclxuICAgICAgICBsZXQgYyA9IFZlY3Rvci5kb3QoRiwgRikgLSAyICogVmVjdG9yLmRvdChGLCB0aGlzLkMpICsgVmVjdG9yLmRvdCh0aGlzLkMsIHRoaXMuQykgLSB0aGlzLlIgKiB0aGlzLlI7XHJcblxyXG4gICAgICAgIGxldCBrID0gYiAqIGIgLSA0ICogYSAqIGM7XHJcbiAgICAgICAgaWYgKG51bWJlcl9lcXVhbChrLCAwKSkgeyAgLy8g5Lqk5pa8Mem7nlxyXG4gICAgICAgICAgICBsZXQgdCA9IC1iIC8gKDIgKiBhKTtcclxuXHJcbiAgICAgICAgICAgIC8v5pOL5o6JXHJcbiAgICAgICAgICAgIGlmICh0IDwgMCkgeyByZXR1cm4geyBpc19oaXQ6IGZhbHNlIH0gfVxyXG5cclxuICAgICAgICAgICAgbGV0IGhpdF9wb3MgPSBGLmFkZChELm11bHRpcGx5KHQpKTtcclxuICAgICAgICAgICAgbGV0IG5vcm1hbCA9IGhpdF9wb3MubWludXModGhpcy5DKS5ub3JtYWxpemUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlzX2hpdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGhpdF9wb3MsXHJcbiAgICAgICAgICAgICAgICBpOiBELFxyXG4gICAgICAgICAgICAgICAgdCxcclxuICAgICAgICAgICAgICAgIG5vcm1hbCxcclxuICAgICAgICAgICAgICAgIHNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrID4gMCkgeyAvLyDkuqTmlrwy6bueXHJcblxyXG4gICAgICAgICAgICAvLyDpgY7mv77lh7p0PjBcclxuICAgICAgICAgICAgLy8gcmF5LmZyb23lnKjnkIPlhafmnInlj6/og73lh7rnj750PDBcclxuICAgICAgICAgICAgLy8g55CD5ZyocmF555qE5b6M6Z2i5Lmf5Y+v6IO95Ye654++dDwwXHJcbiAgICAgICAgICAgIGxldCBzcXJ0X2sgPSBNYXRoLnNxcnQoayk7XHJcbiAgICAgICAgICAgIGxldCB0X2xpc3QgPSBbKC1iIC0gc3FydF9rKSAvICgyICogYSksICgtYiArIHNxcnRfaykgLyAoMiAqIGEpXS5maWx0ZXIoeCA9PiB4ID4gMCk7XHJcblxyXG4gICAgICAgICAgICAvLyDpg73mmK/osqDlgLxcclxuICAgICAgICAgICAgaWYgKHRfbGlzdC5sZW5ndGggPT0gMCkgeyByZXR1cm4geyBpc19oaXQ6IGZhbHNlIH0gfVxyXG5cclxuICAgICAgICAgICAgbGV0IHQgPSB0X2xpc3RbMF07XHJcbiAgICAgICAgICAgIGxldCBoaXRfcG9zID0gRi5hZGQoRC5tdWx0aXBseSh0KSk7XHJcbiAgICAgICAgICAgIGxldCBub3JtYWwgPSBoaXRfcG9zLm1pbnVzKHRoaXMuQykubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpc19oaXQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBoaXRfcG9zLFxyXG4gICAgICAgICAgICAgICAgaTogRCxcclxuICAgICAgICAgICAgICAgIHQsXHJcbiAgICAgICAgICAgICAgICBub3JtYWwsXHJcbiAgICAgICAgICAgICAgICBzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgeyAvLyDmspLkuqTpu55cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlzX2hpdDogZmFsc2UsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUkdCQSBmcm9tIFwiLi9SR0JBXCI7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlclRhcmdldCB7XHJcbiAgICB3OiBudW1iZXIgPSAzMjA7XHJcbiAgICBoOiBudW1iZXIgPSAyNDA7XHJcbiAgICBiYWNrYnVmZmVyOiBPZmZzY3JlZW5DYW52YXMgPSBudWxsO1xyXG4gICAgY29uc3RydWN0b3IodzogbnVtYmVyID0gMzIwLCBoOiBudW1iZXIgPSAyNDApIHtcclxuICAgICAgICB0aGlzLncgPSB3O1xyXG4gICAgICAgIHRoaXMuaCA9IGg7XHJcbiAgICAgICAgdGhpcy5iYWNrYnVmZmVyID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyX3BpeGVsKGZ1bmM6ICh4X3dlaWdodDogbnVtYmVyLCB5X3dlaWdodDogbnVtYmVyLCByYXRpbzogbnVtYmVyKSA9PiBWZWN0b3IpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRleHRfMmQgPSB0aGlzLmJhY2tidWZmZXIuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgLy8gZ2V0IHNvdXJjZSBkYXRhIGFycmF5XHJcbiAgICAgICAgbGV0IGJhY2tidWZmZXJfZGF0YSA9IGNvbnRleHRfMmQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHRoaXMudywgdGhpcy5oKTtcclxuICAgICAgICBsZXQgYmFja2J1ZmZlcl9kYXRhX2FycmF5ID0gYmFja2J1ZmZlcl9kYXRhLmRhdGE7XHJcblxyXG4gICAgICAgIGxldCByYXRpbyA9IHRoaXMudyAvIHRoaXMuaDtcclxuXHJcbiAgICAgICAgLy8gc2V0IGFycmF5IHZhbHVlXHJcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLmg7ICsreSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMudzsgKyt4KSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZ2JhIGVhY2ggY29sb3IgaXMgNGJ5dGVcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDQgKiAoeCArIHkgKiB0aGlzLncpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cuaW50cm8tdG8tZHhyLmN3eW1hbi5vcmcvcHJlc2VudGF0aW9ucy9JbnRyb0RYUl9SYXl0cmFjaW5nU2hhZGVycy5wZGZcclxuICAgICAgICAgICAgICAgIC8vIHBhZ2UgNzhcclxuICAgICAgICAgICAgICAgIC8vIOmcgOimgeWBj+enu+WNiuWAi+WDj+e0oOeahOmVt+W6pu+8jOaJjeacg+iQveWcqOWDj+e0oOeahOS4remWkyjkuI3pgY7ogonnnLznnIvkuI3lpKrlh7rlt67liKXlsLHmmK/kuoYpXHJcbiAgICAgICAgICAgICAgICAvLyByZW1hcCB0byAwfjFcclxuICAgICAgICAgICAgICAgIGxldCBYID0gKCh4ICsgMC41KSAvIHRoaXMudyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgWSA9ICgoeSArIDAuNSkgLyB0aGlzLmgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNoYW5nZSB5IGRpcmVjdGlvblxyXG4gICAgICAgICAgICAgICAgWSA9IDEgLSBZO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHJlbWFwIHRvIC0xfjFcclxuICAgICAgICAgICAgICAgIGxldCB4X3dlaWdodCA9IFggKiAyIC0gMTtcclxuICAgICAgICAgICAgICAgIGxldCB5X3dlaWdodCA9IFkgKiAyIC0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgY29sb3IgPSBmdW5jKHhfd2VpZ2h0LCB5X3dlaWdodCwgcmF0aW8pO1xyXG4gICAgICAgICAgICAgICAgbGV0IHIgPSBjb2xvci54O1xyXG4gICAgICAgICAgICAgICAgbGV0IGcgPSBjb2xvci55O1xyXG4gICAgICAgICAgICAgICAgbGV0IGIgPSBjb2xvci56O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGdhbW1h5qCh5q2jXHJcbiAgICAgICAgICAgICAgICBsZXQgZ2FtbWEgPSAxIC8gMi4xO1xyXG4gICAgICAgICAgICAgICAgciA9IE1hdGgucG93KHIsIGdhbW1hKTtcclxuICAgICAgICAgICAgICAgIGcgPSBNYXRoLnBvdyhnLCBnYW1tYSk7XHJcbiAgICAgICAgICAgICAgICBiID0gTWF0aC5wb3coYiwgZ2FtbWEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJhY2tidWZmZXJfZGF0YV9hcnJheVtpbmRleCsrXSA9IE1hdGgucm91bmQociAqIDI1NSk7XHJcbiAgICAgICAgICAgICAgICBiYWNrYnVmZmVyX2RhdGFfYXJyYXlbaW5kZXgrK10gPSBNYXRoLnJvdW5kKGcgKiAyNTUpO1xyXG4gICAgICAgICAgICAgICAgYmFja2J1ZmZlcl9kYXRhX2FycmF5W2luZGV4KytdID0gTWF0aC5yb3VuZChiICogMjU1KTtcclxuICAgICAgICAgICAgICAgIGJhY2tidWZmZXJfZGF0YV9hcnJheVtpbmRleF0gPSAyNTU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dF8yZC5wdXRJbWFnZURhdGEoYmFja2J1ZmZlcl9kYXRhLCAwLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRfcGl4ZWwoZnVuYzogKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiBSR0JBKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250ZXh0XzJkID0gdGhpcy5iYWNrYnVmZmVyLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgICAgIC8vIGdldCBzb3VyY2UgZGF0YSBhcnJheVxyXG4gICAgICAgIGxldCBiYWNrYnVmZmVyX2RhdGEgPSBjb250ZXh0XzJkLmdldEltYWdlRGF0YSgwLCAwLCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICAgICAgbGV0IGJhY2tidWZmZXJfZGF0YV9hcnJheSA9IGJhY2tidWZmZXJfZGF0YS5kYXRhO1xyXG5cclxuICAgICAgICBsZXQgcmF0aW8gPSB0aGlzLncgLyB0aGlzLmg7XHJcblxyXG4gICAgICAgIC8vIHNldCBhcnJheSB2YWx1ZVxyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5oOyArK3kpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLnc7ICsreCkge1xyXG4gICAgICAgICAgICAgICAgLy8gcmdiYSBlYWNoIGNvbG9yIGlzIDRieXRlXHJcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSA0ICogKHggKyB5ICogdGhpcy53KTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgY29sb3IgPSBmdW5jKHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHIgPSBjb2xvci5yO1xyXG4gICAgICAgICAgICAgICAgbGV0IGcgPSBjb2xvci5nO1xyXG4gICAgICAgICAgICAgICAgbGV0IGIgPSBjb2xvci5iO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGdhbW1h5qCh5q2jXHJcbiAgICAgICAgICAgICAgICBsZXQgZ2FtbWEgPSAxIC8gMi4xO1xyXG4gICAgICAgICAgICAgICAgciA9IE1hdGgucG93KHIsIGdhbW1hKTtcclxuICAgICAgICAgICAgICAgIGcgPSBNYXRoLnBvdyhnLCBnYW1tYSk7XHJcbiAgICAgICAgICAgICAgICBiID0gTWF0aC5wb3coYiwgZ2FtbWEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJhY2tidWZmZXJfZGF0YV9hcnJheVtpbmRleCsrXSA9IE1hdGgucm91bmQociAqIDI1NSk7XHJcbiAgICAgICAgICAgICAgICBiYWNrYnVmZmVyX2RhdGFfYXJyYXlbaW5kZXgrK10gPSBNYXRoLnJvdW5kKGcgKiAyNTUpO1xyXG4gICAgICAgICAgICAgICAgYmFja2J1ZmZlcl9kYXRhX2FycmF5W2luZGV4KytdID0gTWF0aC5yb3VuZChiICogMjU1KTtcclxuICAgICAgICAgICAgICAgIGJhY2tidWZmZXJfZGF0YV9hcnJheVtpbmRleF0gPSAyNTU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dF8yZC5wdXRJbWFnZURhdGEoYmFja2J1ZmZlcl9kYXRhLCAwLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93X2J1ZmZlcihjYW52YXNfaWQ6IHN0cmluZykge1xyXG4gICAgICAgIC8vIOioreWummJ1ZmZlcueahOWkp+Wwj+WSjGNzcyBzdHlsZeeahOWkp+Wwj+S4gOaoo1xyXG4gICAgICAgIC8vIGh0dHBzOi8vb3BlbmhvbWUuY2MvR29zc2lwL1dlYkdML0NhbnZhcy5odG1sXHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhc19pZCkgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gdGhpcy53ICsgJ3B4JztcclxuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oICsgJ3B4JztcclxuICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgICAgIC8vIGNvcHkgYmFja2J1ZmZlciB0byBjYW52YXNcclxuICAgICAgICBsZXQgY29udGV4dF9iaXRtYXBfcmVuZGVyID0gY2FudmFzLmdldENvbnRleHQoXCJiaXRtYXByZW5kZXJlclwiKTtcclxuICAgICAgICBjb250ZXh0X2JpdG1hcF9yZW5kZXIudHJhbnNmZXJGcm9tSW1hZ2VCaXRtYXAodGhpcy5iYWNrYnVmZmVyLnRyYW5zZmVyVG9JbWFnZUJpdG1hcCgpKTtcclxuICAgIH1cclxufSIsImltcG9ydCBEaWZmdXNlIGZyb20gXCIuLi9NYXRlcmFpbHMvRGlmZnVzZVwiO1xyXG5pbXBvcnQgSGl0YWJsZSBmcm9tIFwiLi4vTWF0aC9IaXRhYmxlXCI7XHJcbmltcG9ydCBTaGFkZXIgZnJvbSBcIi4uL01hdGVyYWlscy9TaGFkZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjZW5lTm9kZSB7XHJcblxyXG4gICAgczogU2hhZGVyO1xyXG4gICAgaDogSGl0YWJsZTtcclxuICAgIGNvbnN0cnVjdG9yKHM6IFNoYWRlciwgaDogSGl0YWJsZSkge1xyXG4gICAgICAgIHRoaXMucyA9IHM7XHJcbiAgICAgICAgdGhpcy5oID0gaDtcclxuICAgIH1cclxufSIsImltcG9ydCBTaGFkZXIgZnJvbSBcIi4vU2hhZGVyXCI7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSBcIi4uL01hdGgvVmVjdG9yXCI7XHJcbmltcG9ydCBIaXRJbmZvIGZyb20gXCIuLi9NYXRoL0hpdEluZm9cIjtcclxuaW1wb3J0IHsgZXBzaWxvbiwgZ2V0X2hpdF9zb3J0X2xpc3QgfSBmcm9tIFwiLi4vTWF0aC9Ub29sXCJcclxuaW1wb3J0IFJheSBmcm9tIFwiLi4vTWF0aC9SYXlcIjtcclxuaW1wb3J0IFNjZW5lTm9kZSBmcm9tIFwiLi4vT2JqZWN0L1NjZW5lTm9kZVwiO1xyXG5pbXBvcnQgRGlmZnVzZSBmcm9tIFwiLi9EaWZmdXNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaXJyb3IgaW1wbGVtZW50cyBTaGFkZXIge1xyXG4gICAgc2hhZGluZyhoaXRfaW5mbzogSGl0SW5mbywgZGlyZWN0aW9uX2xpZ2h0X2RpcjogVmVjdG9yLCBvYmpfbGlzdDogU2NlbmVOb2RlW10sIGRlcHRoOiBudW1iZXIpIHtcclxuXHJcbiAgICAgICAgaWYgKGRlcHRoID4gMjApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+i2hemBjuS4iumZkCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gRGlmZnVzZS5ncmVlbi5jb2xvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBuID0gaGl0X2luZm8ubm9ybWFsO1xyXG4gICAgICAgIGxldCBpID0gaGl0X2luZm8uaTtcclxuICAgICAgICBsZXQgciA9IFZlY3Rvci5yZWZsZWN0KGksIG4pO1xyXG5cclxuICAgICAgICAvLyDnlKLnlJ/lj43lsIRyYXlcclxuICAgICAgICBsZXQgZnJvbSA9IGhpdF9pbmZvLmhpdF9wb3MuYWRkKHIubXVsdGlwbHkoZXBzaWxvbikpOyAvLyDlgY/np7vkuIDlsI/mrrXot53pm6LvvIzpgb/lhY3lsITkuK3oh6rlt7FcclxuICAgICAgICBsZXQgcmF5ID0gbmV3IFJheShmcm9tLCByKTtcclxuICAgICAgICBsZXQgaGl0X3NvcnRfbGlzdCA9IGdldF9oaXRfc29ydF9saXN0KG9ial9saXN0LCByYXkpO1xyXG5cclxuICAgICAgICBsZXQgY29sb3IgPSBuZXcgVmVjdG9yKDEsIDEsIDEpO1xyXG4gICAgICAgIC8vIOacieWwhOS4reWXjlxyXG4gICAgICAgIGxldCBpc19oaXQgPSBoaXRfc29ydF9saXN0Lmxlbmd0aCAhPSAwO1xyXG4gICAgICAgIGlmIChpc19oaXQpIHtcclxuICAgICAgICAgICAgbGV0IGhpdF9pbmZvX25leHQgPSBoaXRfc29ydF9saXN0WzBdO1xyXG4gICAgICAgICAgICBsZXQgaGl0X2NvbG9yID0gaGl0X2luZm9fbmV4dC5zLnNoYWRpbmcoaGl0X2luZm9fbmV4dCwgZGlyZWN0aW9uX2xpZ2h0X2Rpciwgb2JqX2xpc3QsICsrZGVwdGgpO1xyXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yLm11bHRpcGx5Myhjb2xvciwgaGl0X2NvbG9yLm11bHRpcGx5KDAuOSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IubXVsdGlwbHkzKGNvbG9yLCBEaWZmdXNlLmdyYXkuY29sb3IubXVsdGlwbHkoMC45KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tICcuL01hdGgvVmVjdG9yJ1xyXG5pbXBvcnQgQ2FtZXJhIGZyb20gJy4vTWF0aC9DYW1lcmEnXHJcbmltcG9ydCBSZWN0IGZyb20gJy4vTWF0aC9SZWN0JztcclxuaW1wb3J0IFBsYW5lIGZyb20gJy4vTWF0aC9QbGFuZSc7XHJcbmltcG9ydCBTcGhlcmUgZnJvbSAnLi9NYXRoL1NwaGVyZSc7XHJcbmltcG9ydCBSZW5kZXJUYXJnZXQgZnJvbSAnLi9NYXRoL1JlbmRlclRhcmdldCc7XHJcbmltcG9ydCBTY2VuZU5vZGUgZnJvbSAnLi9PYmplY3QvU2NlbmVOb2RlJztcclxuaW1wb3J0IERpZmZ1c2UgZnJvbSAnLi9NYXRlcmFpbHMvRGlmZnVzZSc7XHJcbmltcG9ydCBNaXJyb3IgZnJvbSAnLi9NYXRlcmFpbHMvTWlycm9yJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdoaXRlUmF5VHJhY2luZ0FwcCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgbGV0IGZsb29yID0gbmV3IFNjZW5lTm9kZShEaWZmdXNlLndoaXRlLCBuZXcgUmVjdChuZXcgUGxhbmUoVmVjdG9yLnplcm8sIFZlY3Rvci51cCksIDE2LCAxNikpXHJcbiAgICAgICAgbGV0IG9ial9saXN0OiBTY2VuZU5vZGVbXSA9IFtmbG9vcl07XHJcbiAgICAgICAgb2JqX2xpc3QucHVzaChuZXcgU2NlbmVOb2RlKERpZmZ1c2UueWVsbG93LCBuZXcgU3BoZXJlKG5ldyBWZWN0b3IoNiwgMiwgLTgpLCAyKSkpO1xyXG4gICAgICAgIG9ial9saXN0LnB1c2gobmV3IFNjZW5lTm9kZShEaWZmdXNlLmdyZWVuLCBuZXcgU3BoZXJlKG5ldyBWZWN0b3IoLTYsIDIsIC04KSwgMikpKTtcclxuICAgICAgICBvYmpfbGlzdC5wdXNoKG5ldyBTY2VuZU5vZGUoRGlmZnVzZS5ibHVlLCBuZXcgU3BoZXJlKG5ldyBWZWN0b3IoMCwgMiwgLTEyKSwgMikpKTtcclxuICAgICAgICBvYmpfbGlzdC5wdXNoKG5ldyBTY2VuZU5vZGUoRGlmZnVzZS55ZWxsb3csIG5ldyBTcGhlcmUobmV3IFZlY3RvcigtMTAsIDYsIDApLCA2KSkpO1xyXG5cclxuICAgICAgICBvYmpfbGlzdC5wdXNoKG5ldyBTY2VuZU5vZGUobmV3IE1pcnJvcigpLCBuZXcgU3BoZXJlKG5ldyBWZWN0b3IoMCwgMiwgLTIpLCAyKSkpO1xyXG4gICAgICAgIG9ial9saXN0LnB1c2gobmV3IFNjZW5lTm9kZShuZXcgTWlycm9yKCksIG5ldyBTcGhlcmUobmV3IFZlY3RvcigxMiwgNCwgLTYpLCA0KSkpO1xyXG4gICAgICAgIG9ial9saXN0LnB1c2gobmV3IFNjZW5lTm9kZShuZXcgTWlycm9yKCksIG5ldyBTcGhlcmUobmV3IFZlY3Rvcig4LCA0LCAyKSwgNCkpKTtcclxuXHJcbiAgICAgICAgbGV0IFNXID0gODAwO1xyXG4gICAgICAgIGxldCBTSCA9IDYwMDtcclxuICAgICAgICBsZXQgY2FtZXJhID0gbmV3IENhbWVyYShuZXcgVmVjdG9yKDAsIDIwLCAtMjApLCBWZWN0b3IuemVybywgNjAsIFNXLCBTSCwgMSwgNTAwKTtcclxuICAgICAgICBsZXQgcmVuZGVyX3RhcmdldCA9IG5ldyBSZW5kZXJUYXJnZXQoU1csIFNIKTtcclxuICAgICAgICBjYW1lcmEucmVuZGVyKHJlbmRlcl90YXJnZXQsIG9ial9saXN0KTtcclxuICAgICAgICByZW5kZXJfdGFyZ2V0LnNob3dfYnVmZmVyKCdjYW52YXMnKTtcclxuICAgIH1cclxufVxyXG5cclxubmV3IFdoaXRlUmF5VHJhY2luZ0FwcCgpO1xyXG5cclxuIl0sIm5hbWVzIjpbImZyb20iLCJkaXIiLCJ0aGlzIiwicCIsInciLCJ0byIsInRfd2hlbl94X2VxdWFsX3ciLCJ4IiwidF93aGVuX3lfZXF1YWxfdyIsInkiLCJ0X3doZW5fel9lcXVhbF93IiwieiIsInRfd2hlbl94X2VxdWFsX21pbnVzX3ciLCJ0X3doZW5feV9lcXVhbF9taW51c193IiwidF93aGVuX3pfZXF1YWxfemVyb193IiwicG9pbnQiLCJub3JtYWwiLCJDIiwiTiIsImlzX3Bvc2l0aXZlIiwidGVzdF9wIiwiZGlmZiIsImhpdCIsInJheSIsInMiLCJyZXN1bHQiLCJQbGFuZSIsImlzX2hpdCIsInBsYW5lIiwiQiIsIkEiLCJudW1iZXJfZXF1YWwiLCJoaXRfcG9zIiwidCIsImFkZCIsIm11bHRpcGx5IiwiaSIsInhBeGlzIiwieUF4aXMiLCJ6QXhpcyIsInBvc2l0aW9uIiwidHJhbnNmb3JtUG9pbnQiLCJ0cmFuc2Zvcm0iLCJ2ZWN0b3JYIiwidmVjdG9yWSIsInZlY3RvcloiLCJ0cmFuc2Zvcm1WZWN0b3IiLCJ2ZXJ0ZXgiLCJ0cmFuc2Zvcm1UcmFuc2Zvcm0iLCJpbnB1dFRyYW5zZm9ybSIsIlRyYW5zZm9ybSIsInJvdGF0ZUJ5WiIsImRlZ3JlZSIsInJhZGlhbiIsImRlZ3JlZV90b19SYWQiLCJjIiwiTWF0aCIsImNvcyIsInNpbiIsInJvdGF0ZUJ5WSIsInJvdGF0ZUJ5WCIsIm9mZnNldCIsInIiLCJnIiwiYiIsImEiLCJSR0JBIiwibGVycCIsImsiLCJ0b1N0cmluZyIsImdvbGRlbiIsInllbGxvdyIsInBpbmsiLCJibGFjayIsInJlZCIsImNsZWFyIiwiY29sb3IiLCJSYXN0ZXJpemVyIiwiY29sb3JfYnVmZmVyIiwiel9idWZmZXIiLCJzaG93IiwicmVuZGVyX3RhcmdldCIsInNldF9waXhlbCIsImdldCIsInNob3dfYnVmZmVyIiwiY2xpcF9oZWxwZXIiLCJpbl9saXN0IiwidjBfb3V0IiwidjFfb3V0IiwidjJfb3V0Iiwib3V0X2xpc3QiLCJjbGlwIiwicHVzaCIsImNsaXBfaW5fUHJvamVjdGlvbl9TcGFjZSIsInYwIiwidjEiLCJ2MiIsInBjYW1lcmEiLCJUIiwiQ2xpcFBsYW5lIiwiRmFyIiwiTmVhciIsIlJpZ2h0IiwiVG9wIiwiQm90dG9tIiwiTVZQX2JhY2tmYWNlX2N1bGxpbmdfY2xpcHBpbmciLCJ0cmlhbmdsZSIsIndvcmxkVHJhbnNmb3JtIiwidjBfdyIsInYxX3ciLCJ2Ml93IiwidjBfYyIsInRvQ2FtZXJhU3BhY2UiLCJ2MV9jIiwidjJfYyIsInYwX3AiLCJ0b1Byb2plY3Rpb25TcGFjZSIsInYxX3AiLCJ2Ml9wIiwiY2VudGVyX3RvX2V5ZSIsIm5vcm1hbGl6ZSIsImNsb25lIiwidXBkYXRlX3AiLCJ1cGRhdGVfdyIsInByb2Nlc3MiLCJsaXN0IiwibjAiLCJ0b05EQyIsIm4xIiwibjIiLCJzMCIsInRvU2NyZWVuU3BhY2UiLCJzMSIsInMyIiwibWluIiwibWF4IiwibWluX3giLCJmbG9vciIsIm1heF94IiwibWluX3kiLCJtYXhfeSIsIlAiLCJzZXQiLCJ1IiwidiIsInB2MCIsInB2MSIsInB2MiIsImRpcjAxIiwiZGlyMDIiLCJuIiwicF9vbl9kaXIwMSIsImlzX2luX3RyaWFuZ2xlIiwiaW50ZXJwb2xhdGlvbiIsInZfcyIsImRyYXciLCJjdHgiLCJ0Q291bnQiLCJsZW5ndGgiLCJpbmRleCIsIm1vdmVUbyIsImxpbmVUbyIsImJ1aWxkX3ZlcnRleCIsIlZlcnRleCIsImdldF9WZWN0b3I0RCIsIlZlY3RvcjJEIiwibWludXMiLCJwbHVzIiwiZCIsIlBJIiwiZXBzaWxvbiIsImFicyIsImdldF9oaXRfc29ydF9saXN0Iiwib2JqX2xpc3QiLCJtYXAiLCJvYmoiLCJoIiwiZmlsdGVyIiwiaW5mbyIsInNvcnQiLCJ2X2NsaXAiLCJnZXRDcm9zc1BvaW50IiwiTGVmdCIsImNsaXBfZmlyc3RfaW4iLCJjbGlwX2ZpcnN0X291dCIsImNyb3NzMSIsImNyb3NzMiIsImFjY0RpdiIsImFyZzEiLCJhcmcyIiwidDEiLCJ0MiIsInNwbGl0IiwiZSIsIk51bWJlciIsInJlcGxhY2UiLCJwb3ciLCJhY2NBZGQiLCJyMSIsInIyIiwibSIsImNtIiwiZHJhd0xpbmUiLCJvbmUiLCJ0d28iLCJ2YWx1ZSIsImJ1ZmZlciIsIm5vdyIsInN0ZXAiLCJyYXRpbyIsImFic19yIiwiaW50WCIsImlzX2xlZ2FsX2luZGV4IiwiaXNfb3Zlcl9wb3NpdGl2ZSIsImludFkiLCJpc19vdmVyX25lZ2F0aXZlIiwiZHJhd0NpcmNsZSIsImRlbHRhIiwiY2VudGVyIiwic3RhcnRUaGVkYSIsIm5vd1giLCJub3dZIiwibmV4dFgiLCJuZXh0WSIsIkRyYXdIZWxwZXIiLCJkcmF3TGluZVdyYXBwZXIiLCJkcmF3U3RhciIsInQwIiwicHgiLCJweSIsInB6IiwibWluX21heCIsIlZlY3RvciIsImNhbGN1bGF0ZV9ub3JtYWwiLCJ2MDEiLCJ2MDIiLCJjcm9zcyIsImNhbGN1bGF0ZV9jZW50ZXIiLCJ1diIsInJlZmxlY3QiLCJJIiwiTCIsImRvdCIsIm11bHRpcGx5MyIsImVxdWFsIiwic3FydCIsInRlbXAiLCJuZWdhdGl2ZSIsInVwIiwiemVybyIsInNoYWRpbmciLCJoaXRfaW5mbyIsImRpcmVjdGlvbl9saWdodF9kaXIiLCJkZXB0aCIsInN0cmVuZ3RoIiwic2hhZG93X3dlaWdodCIsImdldF9zaGFkb3dfd2VpZ2h0IiwiRGlmZnVzZSIsImdyZWVuIiwiYmx1ZSIsImdyYXkiLCJ3aGl0ZSIsImV5ZSIsImxvb2tfYXQiLCJmb3ZfZGVncmVlIiwic2NyZWVuVyIsInNjcmVlbkgiLCJGIiwibW92ZUV5ZSIsInNjcmVlbkNlbnRlclgiLCJzY3JlZW5DZW50ZXJZIiwiaGFsZlciLCJoYWxmSCIsInpfYXhpcyIsImhlbHBfdiIsInhfYXhpcyIsInlfYXhpcyIsImNvbnNvbGUiLCJsb2ciLCJhZGRQaXRjaCIsImFkZFlhdyIsImNyZWF0ZV9yYXlfZGlyIiwieF93ZWlnaHQiLCJ5X3dlaWdodCIsImhhbGZfZm92X3JhZCIsInRhbl9oIiwidGFuIiwidGFuX3ciLCJoYWxmX2ZvdiIsInlfc2NhbGUiLCJ4X3NjYWxlIiwiTkRDX0EiLCJyZW5kZXIiLCJoYWxmX3BpeGVsX29mZnNldCIsIm11bHRpc2FtcGxlX2RpZmYiLCJyZW5kZXJfcGl4ZWwiLCJyYXlfZGlyIiwiY29sb3JzIiwiaGl0X3NvcnRfbGlzdCIsImNvdW50IiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJjdXJyZW50Iiwid19heGlzIiwiaF9heGlzIiwid192YWx1ZSIsImhfdmFsdWUiLCJSIiwiRCIsInNxcnRfayIsInRfbGlzdCIsImJhY2tidWZmZXIiLCJPZmZzY3JlZW5DYW52YXMiLCJmdW5jIiwiY29udGV4dF8yZCIsImdldENvbnRleHQiLCJiYWNrYnVmZmVyX2RhdGEiLCJnZXRJbWFnZURhdGEiLCJiYWNrYnVmZmVyX2RhdGFfYXJyYXkiLCJkYXRhIiwiWCIsIlkiLCJnYW1tYSIsInJvdW5kIiwicHV0SW1hZ2VEYXRhIiwiY2FudmFzX2lkIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInRyYW5zZmVyRnJvbUltYWdlQml0bWFwIiwidHJhbnNmZXJUb0ltYWdlQml0bWFwIiwiaGl0X2luZm9fbmV4dCIsImhpdF9jb2xvciIsImNhbWVyYSJdLCJzb3VyY2VSb290IjoiIn0=